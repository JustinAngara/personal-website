var Og=h=>{throw TypeError(h)};var Hu=(h,t,s)=>t.has(h)||Og("Cannot "+s);var qt=(h,t,s)=>(Hu(h,t,"read from private field"),s?s.call(h):t.get(h)),Rs=(h,t,s)=>t.has(h)?Og("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(h):t.set(h,s),qe=(h,t,s,n)=>(Hu(h,t,"write to private field"),n?n.call(h,s):t.set(h,s),s),Ms=(h,t,s)=>(Hu(h,t,"access private method"),s);var jg=(h,t,s,n)=>({set _(r){qe(h,t,r,s)},get _(){return qt(h,t,n)}});function Jb(h,t){for(var s=0;s<t.length;s++){const n=t[s];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in h)){const l=Object.getOwnPropertyDescriptor(n,r);l&&Object.defineProperty(h,r,l.get?l:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function Mm(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var Fu={exports:{}},ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function t0(){if(kg)return ur;kg=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var u in r)u!=="key"&&(l[u]=r[u])}else l=r;return r=l.ref,{$$typeof:h,type:n,key:c,ref:r!==void 0?r:null,props:l}}return ur.Fragment=t,ur.jsx=s,ur.jsxs=s,ur}var Pg;function e0(){return Pg||(Pg=1,Fu.exports=t0()),Fu.exports}var v=e0(),Gu={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function s0(){if(Ig)return St;Ig=1;var h=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function _(R,q,Q){this.props=R,this.context=q,this.refs=x,this.updater=Q||S}_.prototype.isReactComponent={},_.prototype.setState=function(R,q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,q,"setState")},_.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function T(){}T.prototype=_.prototype;function O(R,q,Q){this.props=R,this.context=q,this.refs=x,this.updater=Q||S}var N=O.prototype=new T;N.constructor=O,E(N,_.prototype),N.isPureReactComponent=!0;var j=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function H(R,q,Q,K,st,pt){return Q=pt.ref,{$$typeof:h,type:R,key:q,ref:Q!==void 0?Q:null,props:pt}}function $(R,q){return H(R.type,q,void 0,void 0,void 0,R.props)}function W(R){return typeof R=="object"&&R!==null&&R.$$typeof===h}function J(R){var q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Q){return q[Q]})}var Z=/\/+/g;function at(R,q){return typeof R=="object"&&R!==null&&R.key!=null?J(""+R.key):q.toString(36)}function yt(){}function ct(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(yt,yt):(R.status="pending",R.then(function(q){R.status==="pending"&&(R.status="fulfilled",R.value=q)},function(q){R.status==="pending"&&(R.status="rejected",R.reason=q)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function lt(R,q,Q,K,st){var pt=typeof R;(pt==="undefined"||pt==="boolean")&&(R=null);var nt=!1;if(R===null)nt=!0;else switch(pt){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(R.$$typeof){case h:case t:nt=!0;break;case m:return nt=R._init,lt(nt(R._payload),q,Q,K,st)}}if(nt)return st=st(R),nt=K===""?"."+at(R,0):K,j(st)?(Q="",nt!=null&&(Q=nt.replace(Z,"$&/")+"/"),lt(st,q,Q,"",function(he){return he})):st!=null&&(W(st)&&(st=$(st,Q+(st.key==null||R&&R.key===st.key?"":(""+st.key).replace(Z,"$&/")+"/")+nt)),q.push(st)),1;nt=0;var At=K===""?".":K+":";if(j(R))for(var Nt=0;Nt<R.length;Nt++)K=R[Nt],pt=At+at(K,Nt),nt+=lt(K,q,Q,pt,st);else if(Nt=b(R),typeof Nt=="function")for(R=Nt.call(R),Nt=0;!(K=R.next()).done;)K=K.value,pt=At+at(K,Nt++),nt+=lt(K,q,Q,pt,st);else if(pt==="object"){if(typeof R.then=="function")return lt(ct(R),q,Q,K,st);throw q=String(R),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return nt}function L(R,q,Q){if(R==null)return R;var K=[],st=0;return lt(R,K,"","",function(pt){return q.call(Q,pt,st++)}),K}function B(R){if(R._status===-1){var q=R._result;q=q(),q.then(function(Q){(R._status===0||R._status===-1)&&(R._status=1,R._result=Q)},function(Q){(R._status===0||R._status===-1)&&(R._status=2,R._result=Q)}),R._status===-1&&(R._status=0,R._result=q)}if(R._status===1)return R._result.default;throw R._result}var tt=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function mt(){}return St.Children={map:L,forEach:function(R,q,Q){L(R,function(){q.apply(this,arguments)},Q)},count:function(R){var q=0;return L(R,function(){q++}),q},toArray:function(R){return L(R,function(q){return q})||[]},only:function(R){if(!W(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},St.Component=_,St.Fragment=s,St.Profiler=r,St.PureComponent=O,St.StrictMode=n,St.Suspense=f,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,St.__COMPILER_RUNTIME={__proto__:null,c:function(R){return M.H.useMemoCache(R)}},St.cache=function(R){return function(){return R.apply(null,arguments)}},St.cloneElement=function(R,q,Q){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var K=E({},R.props),st=R.key,pt=void 0;if(q!=null)for(nt in q.ref!==void 0&&(pt=void 0),q.key!==void 0&&(st=""+q.key),q)!F.call(q,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&q.ref===void 0||(K[nt]=q[nt]);var nt=arguments.length-2;if(nt===1)K.children=Q;else if(1<nt){for(var At=Array(nt),Nt=0;Nt<nt;Nt++)At[Nt]=arguments[Nt+2];K.children=At}return H(R.type,st,void 0,void 0,pt,K)},St.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},St.createElement=function(R,q,Q){var K,st={},pt=null;if(q!=null)for(K in q.key!==void 0&&(pt=""+q.key),q)F.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(st[K]=q[K]);var nt=arguments.length-2;if(nt===1)st.children=Q;else if(1<nt){for(var At=Array(nt),Nt=0;Nt<nt;Nt++)At[Nt]=arguments[Nt+2];st.children=At}if(R&&R.defaultProps)for(K in nt=R.defaultProps,nt)st[K]===void 0&&(st[K]=nt[K]);return H(R,pt,void 0,void 0,null,st)},St.createRef=function(){return{current:null}},St.forwardRef=function(R){return{$$typeof:u,render:R}},St.isValidElement=W,St.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:B}},St.memo=function(R,q){return{$$typeof:p,type:R,compare:q===void 0?null:q}},St.startTransition=function(R){var q=M.T,Q={};M.T=Q;try{var K=R(),st=M.S;st!==null&&st(Q,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(mt,tt)}catch(pt){tt(pt)}finally{M.T=q}},St.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},St.use=function(R){return M.H.use(R)},St.useActionState=function(R,q,Q){return M.H.useActionState(R,q,Q)},St.useCallback=function(R,q){return M.H.useCallback(R,q)},St.useContext=function(R){return M.H.useContext(R)},St.useDebugValue=function(){},St.useDeferredValue=function(R,q){return M.H.useDeferredValue(R,q)},St.useEffect=function(R,q,Q){var K=M.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(R,q)},St.useId=function(){return M.H.useId()},St.useImperativeHandle=function(R,q,Q){return M.H.useImperativeHandle(R,q,Q)},St.useInsertionEffect=function(R,q){return M.H.useInsertionEffect(R,q)},St.useLayoutEffect=function(R,q){return M.H.useLayoutEffect(R,q)},St.useMemo=function(R,q){return M.H.useMemo(R,q)},St.useOptimistic=function(R,q){return M.H.useOptimistic(R,q)},St.useReducer=function(R,q,Q){return M.H.useReducer(R,q,Q)},St.useRef=function(R){return M.H.useRef(R)},St.useState=function(R){return M.H.useState(R)},St.useSyncExternalStore=function(R,q,Q){return M.H.useSyncExternalStore(R,q,Q)},St.useTransition=function(){return M.H.useTransition()},St.version="19.1.0",St}var zg;function yh(){return zg||(zg=1,Gu.exports=s0()),Gu.exports}var G=yh();const i0=Mm(G),n0=Jb({__proto__:null,default:i0},[G]);var Vu={exports:{}},hr={},qu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function a0(){return Bg||(Bg=1,function(h){function t(L,B){var tt=L.length;L.push(B);t:for(;0<tt;){var mt=tt-1>>>1,R=L[mt];if(0<r(R,B))L[mt]=B,L[tt]=R,tt=mt;else break t}}function s(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],tt=L.pop();if(tt!==B){L[0]=tt;t:for(var mt=0,R=L.length,q=R>>>1;mt<q;){var Q=2*(mt+1)-1,K=L[Q],st=Q+1,pt=L[st];if(0>r(K,tt))st<R&&0>r(pt,K)?(L[mt]=pt,L[st]=tt,mt=st):(L[mt]=K,L[Q]=tt,mt=Q);else if(st<R&&0>r(pt,tt))L[mt]=pt,L[st]=tt,mt=st;else break t}}return B}function r(L,B){var tt=L.sortIndex-B.sortIndex;return tt!==0?tt:L.id-B.id}if(h.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;h.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();h.unstable_now=function(){return c.now()-u}}var f=[],p=[],m=1,y=null,b=3,S=!1,E=!1,x=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var B=s(p);B!==null;){if(B.callback===null)n(p);else if(B.startTime<=L)n(p),B.sortIndex=B.expirationTime,t(f,B);else break;B=s(p)}}function M(L){if(x=!1,j(L),!E)if(s(f)!==null)E=!0,F||(F=!0,at());else{var B=s(p);B!==null&&lt(M,B.startTime-L)}}var F=!1,H=-1,$=5,W=-1;function J(){return _?!0:!(h.unstable_now()-W<$)}function Z(){if(_=!1,F){var L=h.unstable_now();W=L;var B=!0;try{t:{E=!1,x&&(x=!1,O(H),H=-1),S=!0;var tt=b;try{e:{for(j(L),y=s(f);y!==null&&!(y.expirationTime>L&&J());){var mt=y.callback;if(typeof mt=="function"){y.callback=null,b=y.priorityLevel;var R=mt(y.expirationTime<=L);if(L=h.unstable_now(),typeof R=="function"){y.callback=R,j(L),B=!0;break e}y===s(f)&&n(f),j(L)}else n(f);y=s(f)}if(y!==null)B=!0;else{var q=s(p);q!==null&&lt(M,q.startTime-L),B=!1}}break t}finally{y=null,b=tt,S=!1}B=void 0}}finally{B?at():F=!1}}}var at;if(typeof N=="function")at=function(){N(Z)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,ct=yt.port2;yt.port1.onmessage=Z,at=function(){ct.postMessage(null)}}else at=function(){T(Z,0)};function lt(L,B){H=T(function(){L(h.unstable_now())},B)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(L){L.callback=null},h.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<L?Math.floor(1e3/L):5},h.unstable_getCurrentPriorityLevel=function(){return b},h.unstable_next=function(L){switch(b){case 1:case 2:case 3:var B=3;break;default:B=b}var tt=b;b=B;try{return L()}finally{b=tt}},h.unstable_requestPaint=function(){_=!0},h.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var tt=b;b=L;try{return B()}finally{b=tt}},h.unstable_scheduleCallback=function(L,B,tt){var mt=h.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?mt+tt:mt):tt=mt,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=tt+R,L={id:m++,callback:B,priorityLevel:L,startTime:tt,expirationTime:R,sortIndex:-1},tt>mt?(L.sortIndex=tt,t(p,L),s(f)===null&&L===s(p)&&(x?(O(H),H=-1):x=!0,lt(M,tt-mt))):(L.sortIndex=R,t(f,L),E||S||(E=!0,F||(F=!0,at()))),L},h.unstable_shouldYield=J,h.unstable_wrapCallback=function(L){var B=b;return function(){var tt=b;b=B;try{return L.apply(this,arguments)}finally{b=tt}}}}(Yu)),Yu}var Ug;function r0(){return Ug||(Ug=1,qu.exports=a0()),qu.exports}var Xu={exports:{}},De={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function l0(){if(Hg)return De;Hg=1;var h=yh();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(f,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:p,implementation:m}}var c=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return De.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,De.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,m)},De.flushSync=function(f){var p=c.T,m=n.p;try{if(c.T=null,n.p=2,f)return f()}finally{c.T=p,n.p=m,n.d.f()}},De.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(f,p))},De.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},De.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:S}):m==="script"&&n.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},De.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(f)},De.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin);n.d.L(f,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},De.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=u(p.as,p.crossOrigin);n.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(f)},De.requestFormReset=function(f){n.d.r(f)},De.unstable_batchedUpdates=function(f,p){return f(p)},De.useFormState=function(f,p,m){return c.H.useFormState(f,p,m)},De.useFormStatus=function(){return c.H.useHostTransitionStatus()},De.version="19.1.0",De}var Fg;function Dm(){if(Fg)return Xu.exports;Fg=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Xu.exports=l0(),Xu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function o0(){if(Gg)return hr;Gg=1;var h=r0(),t=yh(),s=Dm();function n(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(n(188))}function f(e){var i=e.alternate;if(!i){if(i=l(e),i===null)throw Error(n(188));return i!==e?null:e}for(var a=e,o=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(o=d.return,o!==null){a=o;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return u(d),e;if(g===o)return u(d),i;g=g.sibling}throw Error(n(188))}if(a.return!==o.return)a=d,o=g;else{for(var A=!1,w=d.child;w;){if(w===a){A=!0,a=d,o=g;break}if(w===o){A=!0,o=d,a=g;break}w=w.sibling}if(!A){for(w=g.child;w;){if(w===a){A=!0,a=g,o=d;break}if(w===o){A=!0,o=g,a=d;break}w=w.sibling}if(!A)throw Error(n(189))}}if(a.alternate!==o)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function at(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Symbol.for("react.client.reference");function ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case _:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case F:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case N:return(e.displayName||"Context")+".Provider";case O:return(e._context.displayName||"Context")+".Consumer";case j:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return i=e.displayName||null,i!==null?i:ct(e.type)||"Memo";case $:i=e._payload,e=e._init;try{return ct(e(i))}catch{}}return null}var lt=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},mt=[],R=-1;function q(e){return{current:e}}function Q(e){0>R||(e.current=mt[R],mt[R]=null,R--)}function K(e,i){R++,mt[R]=e.current,e.current=i}var st=q(null),pt=q(null),nt=q(null),At=q(null);function Nt(e,i){switch(K(nt,i),K(pt,e),K(st,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?lg(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=lg(i),e=og(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(st),K(st,e)}function he(){Q(st),Q(pt),Q(nt)}function Pt(e){e.memoizedState!==null&&K(At,e);var i=st.current,a=og(i,e.type);i!==a&&(K(pt,e),K(st,a))}function Be(e){pt.current===e&&(Q(st),Q(pt)),At.current===e&&(Q(At),ar._currentValue=tt)}var $e=Object.prototype.hasOwnProperty,de=h.unstable_scheduleCallback,Lt=h.unstable_cancelCallback,ne=h.unstable_shouldYield,Xt=h.unstable_requestPaint,fe=h.unstable_now,ii=h.unstable_getCurrentPriorityLevel,ni=h.unstable_ImmediatePriority,Hr=h.unstable_UserBlockingPriority,Is=h.unstable_NormalPriority,Co=h.unstable_LowPriority,Fr=h.unstable_IdlePriority,No=h.log,Ro=h.unstable_setDisableYieldValue,Oi=null,ae=null;function Ke(e){if(typeof No=="function"&&Ro(e),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(Oi,e)}catch{}}var ve=Math.clz32?Math.clz32:Bv,fa=Math.log,zv=Math.LN2;function Bv(e){return e>>>=0,e===0?32:31-(fa(e)/zv|0)|0}var Gr=256,Vr=4194304;function ji(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qr(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var d=0,g=e.suspendedLanes,A=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~g,o!==0?d=ji(o):(A&=w,A!==0?d=ji(A):a||(a=w&~e,a!==0&&(d=ji(a))))):(w=o&~g,w!==0?d=ji(w):A!==0?d=ji(A):a||(a=o&~e,a!==0&&(d=ji(a)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:d}function pa(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Uv(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(){var e=Gr;return Gr<<=1,(Gr&4194048)===0&&(Gr=256),e}function Vh(){var e=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),e}function Mo(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ga(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hv(e,i,a,o,d,g){var A=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,C=e.expirationTimes,I=e.hiddenUpdates;for(a=A&~a;0<a;){var V=31-ve(a),X=1<<V;w[V]=0,C[V]=-1;var z=I[V];if(z!==null)for(I[V]=null,V=0;V<z.length;V++){var U=z[V];U!==null&&(U.lane&=-536870913)}a&=~X}o!==0&&qh(e,o,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(A&~i))}function qh(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-ve(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Yh(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-ve(a),d=1<<o;d&i|e[o]&i&&(e[o]|=i),a&=~d}}function Do(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Lo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xh(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Cg(e.type))}function Fv(e,i){var a=B.p;try{return B.p=e,i()}finally{B.p=a}}var ai=Math.random().toString(36).slice(2),Re="__reactFiber$"+ai,Ue="__reactProps$"+ai,pn="__reactContainer$"+ai,Oo="__reactEvents$"+ai,Gv="__reactListeners$"+ai,Vv="__reactHandles$"+ai,$h="__reactResources$"+ai,ma="__reactMarker$"+ai;function jo(e){delete e[Re],delete e[Ue],delete e[Oo],delete e[Gv],delete e[Vv]}function gn(e){var i=e[Re];if(i)return i;for(var a=e.parentNode;a;){if(i=a[pn]||a[Re]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=dg(e);e!==null;){if(a=e[Re])return a;e=dg(e)}return i}e=a,a=e.parentNode}return null}function mn(e){if(e=e[Re]||e[pn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function va(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(n(33))}function vn(e){var i=e[$h];return i||(i=e[$h]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ye(e){e[ma]=!0}var Kh=new Set,Wh={};function ki(e,i){yn(e,i),yn(e+"Capture",i)}function yn(e,i){for(Wh[e]=i,e=0;e<i.length;e++)Kh.add(i[e])}var qv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qh={},Zh={};function Yv(e){return $e.call(Zh,e)?!0:$e.call(Qh,e)?!1:qv.test(e)?Zh[e]=!0:(Qh[e]=!0,!1)}function Yr(e,i,a){if(Yv(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Xr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function zs(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var ko,Jh;function bn(e){if(ko===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ko=i&&i[1]||"",Jh=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+e+Jh}var Po=!1;function Io(e,i){if(!e||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(U){var z=U}Reflect.construct(e,[],X)}else{try{X.call()}catch(U){z=U}e.call(X.prototype)}}else{try{throw Error()}catch(U){z=U}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(U){if(U&&z&&typeof U.stack=="string")return[U.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),A=g[0],w=g[1];if(A&&w){var C=A.split(`
`),I=w.split(`
`);for(d=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(o===C.length||d===I.length)for(o=C.length-1,d=I.length-1;1<=o&&0<=d&&C[o]!==I[d];)d--;for(;1<=o&&0<=d;o--,d--)if(C[o]!==I[d]){if(o!==1||d!==1)do if(o--,d--,0>d||C[o]!==I[d]){var V=`
`+C[o].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=o&&0<=d);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?bn(a):""}function Xv(e){switch(e.tag){case 26:case 27:case 5:return bn(e.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Io(e.type,!1);case 11:return Io(e.type.render,!1);case 1:return Io(e.type,!0);case 31:return bn("Activity");default:return""}}function td(e){try{var i="";do i+=Xv(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rs(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ed(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $v(e){var i=ed(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(A){o=""+A,g.call(this,A)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function $r(e){e._valueTracker||(e._valueTracker=$v(e))}function sd(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=ed(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Kv=/[\n"\\]/g;function ls(e){return e.replace(Kv,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function zo(e,i,a,o,d,g,A,w){e.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.type=A:e.removeAttribute("type"),i!=null?A==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+rs(i)):e.value!==""+rs(i)&&(e.value=""+rs(i)):A!=="submit"&&A!=="reset"||e.removeAttribute("value"),i!=null?Bo(e,A,rs(i)):a!=null?Bo(e,A,rs(a)):o!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+rs(w):e.removeAttribute("name")}function id(e,i,a,o,d,g,A,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+rs(a):"",i=i!=null?""+rs(i):a,w||i===e.value||(e.value=i),e.defaultValue=i}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.name=A)}function Bo(e,i,a){i==="number"&&Kr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function An(e,i,a,o){if(e=e.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=i.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&o&&(e[a].defaultSelected=!0)}else{for(a=""+rs(a),i=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function nd(e,i,a){if(i!=null&&(i=""+rs(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+rs(a):""}function ad(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(n(92));if(lt(o)){if(1<o.length)throw Error(n(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=rs(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Wv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rd(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Wv.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ld(e,i,a){if(i!=null&&typeof i!="object")throw Error(n(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in i)o=i[d],i.hasOwnProperty(d)&&a[d]!==o&&rd(e,d,o)}else for(var g in i)i.hasOwnProperty(g)&&rd(e,g,i[g])}function Uo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return Zv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ho=null;function Fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xn=null,En=null;function od(e){var i=mn(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(zo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ls(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var d=o[Ue]||null;if(!d)throw Error(n(90));zo(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&sd(o)}break t;case"textarea":nd(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&An(e,!!a.multiple,i,!1)}}}var Go=!1;function cd(e,i,a){if(Go)return e(i,a);Go=!0;try{var o=e(i);return o}finally{if(Go=!1,(xn!==null||En!==null)&&(kl(),xn&&(i=xn,e=En,En=xn=null,od(i),e)))for(i=0;i<e.length;i++)od(e[i])}}function ya(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ue]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(n(231,i,typeof a));return a}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vo=!1;if(Bs)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Vo=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Vo=!1}var ri=null,qo=null,Qr=null;function ud(){if(Qr)return Qr;var e,i=qo,a=i.length,o,d="value"in ri?ri.value:ri.textContent,g=d.length;for(e=0;e<a&&i[e]===d[e];e++);var A=a-e;for(o=1;o<=A&&i[a-o]===d[g-o];o++);return Qr=d.slice(e,1<o?1-o:void 0)}function Zr(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jr(){return!0}function hd(){return!1}function He(e){function i(a,o,d,g,A){this._reactName=a,this._targetInst=d,this.type=o,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Jr:hd,this.isPropagationStopped=hd,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jr)},persist:function(){},isPersistent:Jr}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=He(Pi),Aa=m({},Pi,{view:0,detail:0}),Jv=He(Aa),Yo,Xo,Sa,el=m({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(Yo=e.screenX-Sa.screenX,Xo=e.screenY-Sa.screenY):Xo=Yo=0,Sa=e),Yo)},movementY:function(e){return"movementY"in e?e.movementY:Xo}}),dd=He(el),ty=m({},el,{dataTransfer:0}),ey=He(ty),sy=m({},Aa,{relatedTarget:0}),$o=He(sy),iy=m({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=He(iy),ay=m({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ry=He(ay),ly=m({},Pi,{data:0}),fd=He(ly),oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hy(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=uy[e])?!!i[e]:!1}function Ko(){return hy}var dy=m({},Aa,{key:function(e){if(e.key){var i=oy[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(e){return e.type==="keypress"?Zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fy=He(dy),py=m({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=He(py),gy=m({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),my=He(gy),vy=m({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yy=He(vy),by=m({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ay=He(by),Sy=m({},Pi,{newState:0,oldState:0}),xy=He(Sy),Ey=[9,13,27,32],Wo=Bs&&"CompositionEvent"in window,xa=null;Bs&&"documentMode"in document&&(xa=document.documentMode);var wy=Bs&&"TextEvent"in window&&!xa,gd=Bs&&(!Wo||xa&&8<xa&&11>=xa),md=" ",vd=!1;function yd(e,i){switch(e){case"keyup":return Ey.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wn=!1;function _y(e,i){switch(e){case"compositionend":return bd(i);case"keypress":return i.which!==32?null:(vd=!0,md);case"textInput":return e=i.data,e===md&&vd?null:e;default:return null}}function Ty(e,i){if(wn)return e==="compositionend"||!Wo&&yd(e,i)?(e=ud(),Qr=qo=ri=null,wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gd&&i.locale!=="ko"?null:i.data;default:return null}}var Cy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Cy[e.type]:i==="textarea"}function Sd(e,i,a,o){xn?En?En.push(o):En=[o]:xn=o,i=Hl(i,"onChange"),0<i.length&&(a=new tl("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ea=null,wa=null;function Ny(e){sg(e,0)}function sl(e){var i=va(e);if(sd(i))return e}function xd(e,i){if(e==="change")return i}var Ed=!1;if(Bs){var Qo;if(Bs){var Zo="oninput"in document;if(!Zo){var wd=document.createElement("div");wd.setAttribute("oninput","return;"),Zo=typeof wd.oninput=="function"}Qo=Zo}else Qo=!1;Ed=Qo&&(!document.documentMode||9<document.documentMode)}function _d(){Ea&&(Ea.detachEvent("onpropertychange",Td),wa=Ea=null)}function Td(e){if(e.propertyName==="value"&&sl(wa)){var i=[];Sd(i,wa,e,Fo(e)),cd(Ny,i)}}function Ry(e,i,a){e==="focusin"?(_d(),Ea=i,wa=a,Ea.attachEvent("onpropertychange",Td)):e==="focusout"&&_d()}function My(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(wa)}function Dy(e,i){if(e==="click")return sl(i)}function Ly(e,i){if(e==="input"||e==="change")return sl(i)}function Oy(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var We=typeof Object.is=="function"?Object.is:Oy;function _a(e,i){if(We(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var d=a[o];if(!$e.call(i,d)||!We(e[d],i[d]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,i){var a=Cd(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cd(a)}}function Rd(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Rd(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Md(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Kr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Kr(e.document)}return i}function Jo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var jy=Bs&&"documentMode"in document&&11>=document.documentMode,_n=null,tc=null,Ta=null,ec=!1;function Dd(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ec||_n==null||_n!==Kr(o)||(o=_n,"selectionStart"in o&&Jo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ta&&_a(Ta,o)||(Ta=o,o=Hl(tc,"onSelect"),0<o.length&&(i=new tl("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=_n)))}function Ii(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Tn={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},sc={},Ld={};Bs&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function zi(e){if(sc[e])return sc[e];if(!Tn[e])return e;var i=Tn[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ld)return sc[e]=i[a];return e}var Od=zi("animationend"),jd=zi("animationiteration"),kd=zi("animationstart"),ky=zi("transitionrun"),Py=zi("transitionstart"),Iy=zi("transitioncancel"),Pd=zi("transitionend"),Id=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function ys(e,i){Id.set(e,i),ki(i,[e])}var zd=new WeakMap;function os(e,i){if(typeof e=="object"&&e!==null){var a=zd.get(e);return a!==void 0?a:(i={value:e,source:i,stack:td(i)},zd.set(e,i),i)}return{value:e,source:i,stack:td(i)}}var cs=[],Cn=0,nc=0;function il(){for(var e=Cn,i=nc=Cn=0;i<e;){var a=cs[i];cs[i++]=null;var o=cs[i];cs[i++]=null;var d=cs[i];cs[i++]=null;var g=cs[i];if(cs[i++]=null,o!==null&&d!==null){var A=o.pending;A===null?d.next=d:(d.next=A.next,A.next=d),o.pending=d}g!==0&&Bd(a,d,g)}}function nl(e,i,a,o){cs[Cn++]=e,cs[Cn++]=i,cs[Cn++]=a,cs[Cn++]=o,nc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ac(e,i,a,o){return nl(e,i,a,o),al(e)}function Nn(e,i){return nl(e,null,null,i),al(e)}function Bd(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var d=!1,g=e.return;g!==null;)g.childLanes|=a,o=g.alternate,o!==null&&(o.childLanes|=a),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&i!==null&&(d=31-ve(a),e=g.hiddenUpdates,o=e[d],o===null?e[d]=[i]:o.push(i),i.lane=a|536870912),g):null}function al(e){if(50<Qa)throw Qa=0,hu=null,Error(n(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Rn={};function zy(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,i,a,o){return new zy(e,i,a,o)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Us(e,i){var a=e.alternate;return a===null?(a=Qe(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ud(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function rl(e,i,a,o,d,g){var A=0;if(o=e,typeof e=="function")rc(e)&&(A=1);else if(typeof e=="string")A=Ub(e,a,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case W:return e=Qe(31,a,i,d),e.elementType=W,e.lanes=g,e;case E:return Bi(a.children,d,g,i);case x:A=8,d|=24;break;case _:return e=Qe(12,a,i,d|2),e.elementType=_,e.lanes=g,e;case M:return e=Qe(13,a,i,d),e.elementType=M,e.lanes=g,e;case F:return e=Qe(19,a,i,d),e.elementType=F,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case N:A=10;break t;case O:A=9;break t;case j:A=11;break t;case H:A=14;break t;case $:A=16,o=null;break t}A=29,a=Error(n(130,e===null?"null":typeof e,"")),o=null}return i=Qe(A,a,i,d),i.elementType=e,i.type=o,i.lanes=g,i}function Bi(e,i,a,o){return e=Qe(7,e,o,i),e.lanes=a,e}function lc(e,i,a){return e=Qe(6,e,null,i),e.lanes=a,e}function oc(e,i,a){return i=Qe(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Mn=[],Dn=0,ll=null,ol=0,us=[],hs=0,Ui=null,Hs=1,Fs="";function Hi(e,i){Mn[Dn++]=ol,Mn[Dn++]=ll,ll=e,ol=i}function Hd(e,i,a){us[hs++]=Hs,us[hs++]=Fs,us[hs++]=Ui,Ui=e;var o=Hs;e=Fs;var d=32-ve(o)-1;o&=~(1<<d),a+=1;var g=32-ve(i)+d;if(30<g){var A=d-d%5;g=(o&(1<<A)-1).toString(32),o>>=A,d-=A,Hs=1<<32-ve(i)+d|a<<d|o,Fs=g+e}else Hs=1<<g|a<<d|o,Fs=e}function cc(e){e.return!==null&&(Hi(e,1),Hd(e,1,0))}function uc(e){for(;e===ll;)ll=Mn[--Dn],Mn[Dn]=null,ol=Mn[--Dn],Mn[Dn]=null;for(;e===Ui;)Ui=us[--hs],us[hs]=null,Fs=us[--hs],us[hs]=null,Hs=us[--hs],us[hs]=null}var Pe=null,Wt=null,Dt=!1,Fi=null,ws=!1,hc=Error(n(519));function Gi(e){var i=Error(n(418,""));throw Ra(os(i,e)),hc}function Fd(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Re]=e,i[Ue]=o,a){case"dialog":_t("cancel",i),_t("close",i);break;case"iframe":case"object":case"embed":_t("load",i);break;case"video":case"audio":for(a=0;a<Ja.length;a++)_t(Ja[a],i);break;case"source":_t("error",i);break;case"img":case"image":case"link":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"input":_t("invalid",i),id(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),$r(i);break;case"select":_t("invalid",i);break;case"textarea":_t("invalid",i),ad(i,o.value,o.defaultValue,o.children),$r(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||rg(i.textContent,a)?(o.popover!=null&&(_t("beforetoggle",i),_t("toggle",i)),o.onScroll!=null&&_t("scroll",i),o.onScrollEnd!=null&&_t("scrollend",i),o.onClick!=null&&(i.onclick=Fl),i=!0):i=!1,i||Gi(e)}function Gd(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 5:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:Pe=Pe.return}}function Ca(e){if(e!==Pe)return!1;if(!Dt)return Gd(e),Dt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cu(e.type,e.memoizedProps)),a=!a),a&&Wt&&Gi(e),Gd(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Wt=As(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Wt=null}}else i===27?(i=Wt,xi(e.type)?(e=Du,Du=null,Wt=e):Wt=i):Wt=Pe?As(e.stateNode.nextSibling):null;return!0}function Na(){Wt=Pe=null,Dt=!1}function Vd(){var e=Fi;return e!==null&&(Ve===null?Ve=e:Ve.push.apply(Ve,e),Fi=null),e}function Ra(e){Fi===null?Fi=[e]:Fi.push(e)}var dc=q(null),Vi=null,Gs=null;function li(e,i,a){K(dc,i._currentValue),i._currentValue=a}function Vs(e){e._currentValue=dc.current,Q(dc)}function fc(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function pc(e,i,a,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var A=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var C=0;C<i.length;C++)if(w.context===i[C]){g.lanes|=a,w=g.alternate,w!==null&&(w.lanes|=a),fc(g.return,a,e),o||(A=null);break t}g=w.next}}else if(d.tag===18){if(A=d.return,A===null)throw Error(n(341));A.lanes|=a,g=A.alternate,g!==null&&(g.lanes|=a),fc(A,a,e),A=null}else A=d.child;if(A!==null)A.return=d;else for(A=d;A!==null;){if(A===e){A=null;break}if(d=A.sibling,d!==null){d.return=A.return,A=d;break}A=A.return}d=A}}function Ma(e,i,a,o){e=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var A=d.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var w=d.type;We(d.pendingProps.value,A.value)||(e!==null?e.push(w):e=[w])}}else if(d===At.current){if(A=d.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ar):e=[ar])}d=d.return}e!==null&&pc(i,e,a,o),i.flags|=262144}function cl(e){for(e=e.firstContext;e!==null;){if(!We(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qi(e){Vi=e,Gs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Me(e){return qd(Vi,e)}function ul(e,i){return Vi===null&&qi(e),qd(e,i)}function qd(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gs===null){if(e===null)throw Error(n(308));Gs=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gs=Gs.next=i;return a}var By=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Uy=h.unstable_scheduleCallback,Hy=h.unstable_NormalPriority,pe={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gc(){return{controller:new By,data:new Map,refCount:0}}function Da(e){e.refCount--,e.refCount===0&&Uy(Hy,function(){e.controller.abort()})}var La=null,mc=0,Ln=0,On=null;function Fy(e,i){if(La===null){var a=La=[];mc=0,Ln=yu(),On={status:"pending",value:void 0,then:function(o){a.push(o)}}}return mc++,i.then(Yd,Yd),i}function Yd(){if(--mc===0&&La!==null){On!==null&&(On.status="fulfilled");var e=La;La=null,Ln=0,On=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Gy(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(o.status="rejected",o.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),o}var Xd=L.S;L.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Fy(e,i),Xd!==null&&Xd(e,i)};var Yi=q(null);function vc(){var e=Yi.current;return e!==null?e:Gt.pooledCache}function hl(e,i){i===null?K(Yi,Yi.current):K(Yi,i.pool)}function $d(){var e=vc();return e===null?null:{parent:pe._currentValue,pool:e}}var Oa=Error(n(460)),Kd=Error(n(474)),dl=Error(n(542)),yc={then:function(){}};function Wd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fl(){}function Qd(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(fl,fl),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Jd(e),e;default:if(typeof i.status=="string")i.then(fl,fl);else{if(e=Gt,e!==null&&100<e.shellSuspendCounter)throw Error(n(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=o}},function(o){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Jd(e),e}throw ja=i,Oa}}var ja=null;function Zd(){if(ja===null)throw Error(n(459));var e=ja;return ja=null,e}function Jd(e){if(e===Oa||e===dl)throw Error(n(483))}var oi=!1;function bc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ac(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ci(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ui(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ot&2)!==0){var d=o.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),o.pending=i,i=al(e),Bd(e,null,a),i}return nl(e,o,i,a),al(e)}function ka(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Yh(e,a)}}function Sc(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?d=g=A:g=g.next=A,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var xc=!1;function Pa(){if(xc){var e=On;if(e!==null)throw e}}function Ia(e,i,a,o){xc=!1;var d=e.updateQueue;oi=!1;var g=d.firstBaseUpdate,A=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var C=w,I=C.next;C.next=null,A===null?g=I:A.next=I,A=C;var V=e.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==A&&(w===null?V.firstBaseUpdate=I:w.next=I,V.lastBaseUpdate=C))}if(g!==null){var X=d.baseState;A=0,V=I=C=null,w=g;do{var z=w.lane&-536870913,U=z!==w.lane;if(U?(Rt&z)===z:(o&z)===z){z!==0&&z===Ln&&(xc=!0),V!==null&&(V=V.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var gt=e,ht=w;z=i;var Bt=a;switch(ht.tag){case 1:if(gt=ht.payload,typeof gt=="function"){X=gt.call(Bt,X,z);break t}X=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ht.payload,z=typeof gt=="function"?gt.call(Bt,X,z):gt,z==null)break t;X=m({},X,z);break t;case 2:oi=!0}}z=w.callback,z!==null&&(e.flags|=64,U&&(e.flags|=8192),U=d.callbacks,U===null?d.callbacks=[z]:U.push(z))}else U={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(I=V=U,C=X):V=V.next=U,A|=z;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;U=w,w=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);V===null&&(C=X),d.baseState=C,d.firstBaseUpdate=I,d.lastBaseUpdate=V,g===null&&(d.shared.lanes=0),yi|=A,e.lanes=A,e.memoizedState=X}}function tf(e,i){if(typeof e!="function")throw Error(n(191,e));e.call(i)}function ef(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)tf(a[e],i)}var jn=q(null),pl=q(0);function sf(e,i){e=Qs,K(pl,e),K(jn,i),Qs=e|i.baseLanes}function Ec(){K(pl,Qs),K(jn,jn.current)}function wc(){Qs=pl.current,Q(jn),Q(pl)}var hi=0,xt=null,It=null,re=null,gl=!1,kn=!1,Xi=!1,ml=0,za=0,Pn=null,Vy=0;function Zt(){throw Error(n(321))}function _c(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!We(e[a],i[a]))return!1;return!0}function Tc(e,i,a,o,d,g){return hi=g,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=e===null||e.memoizedState===null?Uf:Hf,Xi=!1,g=a(o,d),Xi=!1,kn&&(g=af(i,a,o,d)),nf(e),g}function nf(e){L.H=xl;var i=It!==null&&It.next!==null;if(hi=0,re=It=xt=null,gl=!1,za=0,Pn=null,i)throw Error(n(300));e===null||be||(e=e.dependencies,e!==null&&cl(e)&&(be=!0))}function af(e,i,a,o){xt=e;var d=0;do{if(kn&&(Pn=null),za=0,kn=!1,25<=d)throw Error(n(301));if(d+=1,re=It=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}L.H=Qy,g=i(a,o)}while(kn);return g}function qy(){var e=L.H,i=e.useState()[0];return i=typeof i.then=="function"?Ba(i):i,e=e.useState()[0],(It!==null?It.memoizedState:null)!==e&&(xt.flags|=1024),i}function Cc(){var e=ml!==0;return ml=0,e}function Nc(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Rc(e){if(gl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}gl=!1}hi=0,re=It=xt=null,kn=!1,za=ml=0,Pn=null}function Fe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?xt.memoizedState=re=e:re=re.next=e,re}function le(){if(It===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var i=re===null?xt.memoizedState:re.next;if(i!==null)re=i,It=e;else{if(e===null)throw xt.alternate===null?Error(n(467)):Error(n(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},re===null?xt.memoizedState=re=e:re=re.next=e}return re}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(e){var i=za;return za+=1,Pn===null&&(Pn=[]),e=Qd(Pn,e,i),i=xt,(re===null?i.memoizedState:re.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?Uf:Hf),e}function vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ba(e);if(e.$$typeof===N)return Me(e)}throw Error(n(438,String(e)))}function Dc(e){var i=null,a=xt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Mc(),xt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=J;return i.index++,a}function qs(e,i){return typeof i=="function"?i(e):i}function yl(e){var i=le();return Lc(i,It,e)}function Lc(e,i,a){var o=e.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=a;var d=e.baseQueue,g=o.pending;if(g!==null){if(d!==null){var A=d.next;d.next=g.next,g.next=A}i.baseQueue=d=g,o.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{i=d.next;var w=A=null,C=null,I=i,V=!1;do{var X=I.lane&-536870913;if(X!==I.lane?(Rt&X)===X:(hi&X)===X){var z=I.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),X===Ln&&(V=!0);else if((hi&z)===z){I=I.next,z===Ln&&(V=!0);continue}else X={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},C===null?(w=C=X,A=g):C=C.next=X,xt.lanes|=z,yi|=z;X=I.action,Xi&&a(g,X),g=I.hasEagerState?I.eagerState:a(g,X)}else z={lane:X,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},C===null?(w=C=z,A=g):C=C.next=z,xt.lanes|=X,yi|=X;I=I.next}while(I!==null&&I!==i);if(C===null?A=g:C.next=w,!We(g,e.memoizedState)&&(be=!0,V&&(a=On,a!==null)))throw a;e.memoizedState=g,e.baseState=A,e.baseQueue=C,o.lastRenderedState=g}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Oc(e){var i=le(),a=i.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=e;var o=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var A=d=d.next;do g=e(g,A.action),A=A.next;while(A!==d);We(g,i.memoizedState)||(be=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,o]}function rf(e,i,a){var o=xt,d=le(),g=Dt;if(g){if(a===void 0)throw Error(n(407));a=a()}else a=i();var A=!We((It||d).memoizedState,a);A&&(d.memoizedState=a,be=!0),d=d.queue;var w=cf.bind(null,o,d,e);if(Ua(2048,8,w,[e]),d.getSnapshot!==i||A||re!==null&&re.memoizedState.tag&1){if(o.flags|=2048,In(9,bl(),of.bind(null,o,d,a,i),null),Gt===null)throw Error(n(349));g||(hi&124)!==0||lf(o,i,a)}return a}function lf(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=xt.updateQueue,i===null?(i=Mc(),xt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function of(e,i,a,o){i.value=a,i.getSnapshot=o,uf(i)&&hf(e)}function cf(e,i,a){return a(function(){uf(i)&&hf(e)})}function uf(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!We(e,a)}catch{return!0}}function hf(e){var i=Nn(e,2);i!==null&&ss(i,e,2)}function jc(e){var i=Fe();if(typeof e=="function"){var a=e;if(e=a(),Xi){Ke(!0);try{a()}finally{Ke(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},i}function df(e,i,a,o){return e.baseState=a,Lc(e,It,typeof o=="function"?o:qs)}function Yy(e,i,a,o,d){if(Sl(e))throw Error(n(485));if(e=i.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};L.T!==null?a(!0):g.isTransition=!1,o(g),a=i.pending,a===null?(g.next=i.pending=g,ff(i,g)):(g.next=a.next,i.pending=a.next=g)}}function ff(e,i){var a=i.action,o=i.payload,d=e.state;if(i.isTransition){var g=L.T,A={};L.T=A;try{var w=a(d,o),C=L.S;C!==null&&C(A,w),pf(e,i,w)}catch(I){kc(e,i,I)}finally{L.T=g}}else try{g=a(d,o),pf(e,i,g)}catch(I){kc(e,i,I)}}function pf(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gf(e,i,o)},function(o){return kc(e,i,o)}):gf(e,i,a)}function gf(e,i,a){i.status="fulfilled",i.value=a,mf(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ff(e,a)))}function kc(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,mf(i),i=i.next;while(i!==o)}e.action=null}function mf(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function vf(e,i){return i}function yf(e,i){if(Dt){var a=Gt.formState;if(a!==null){t:{var o=xt;if(Dt){if(Wt){e:{for(var d=Wt,g=ws;d.nodeType!==8;){if(!g){d=null;break e}if(d=As(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Wt=As(d.nextSibling),o=d.data==="F!";break t}}Gi(o)}o=!1}o&&(i=a[0])}}return a=Fe(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vf,lastRenderedState:i},a.queue=o,a=If.bind(null,xt,o),o.dispatch=a,o=jc(!1),g=Uc.bind(null,xt,!1,o.queue),o=Fe(),d={state:i,dispatch:null,action:e,pending:null},o.queue=d,a=Yy.bind(null,xt,d,g,a),d.dispatch=a,o.memoizedState=e,[i,a,!1]}function bf(e){var i=le();return Af(i,It,e)}function Af(e,i,a){if(i=Lc(e,i,vf)[0],e=yl(qs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ba(i)}catch(A){throw A===Oa?dl:A}else o=i;i=le();var d=i.queue,g=d.dispatch;return a!==i.memoizedState&&(xt.flags|=2048,In(9,bl(),Xy.bind(null,d,a),null)),[o,g,e]}function Xy(e,i){e.action=i}function Sf(e){var i=le(),a=It;if(a!==null)return Af(i,a,e);le(),i=i.memoizedState,a=le();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function In(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=xt.updateQueue,i===null&&(i=Mc(),xt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function bl(){return{destroy:void 0,resource:void 0}}function xf(){return le().memoizedState}function Al(e,i,a,o){var d=Fe();o=o===void 0?null:o,xt.flags|=e,d.memoizedState=In(1|i,bl(),a,o)}function Ua(e,i,a,o){var d=le();o=o===void 0?null:o;var g=d.memoizedState.inst;It!==null&&o!==null&&_c(o,It.memoizedState.deps)?d.memoizedState=In(i,g,a,o):(xt.flags|=e,d.memoizedState=In(1|i,g,a,o))}function Ef(e,i){Al(8390656,8,e,i)}function wf(e,i){Ua(2048,8,e,i)}function _f(e,i){return Ua(4,2,e,i)}function Tf(e,i){return Ua(4,4,e,i)}function Cf(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Nf(e,i,a){a=a!=null?a.concat([e]):null,Ua(4,4,Cf.bind(null,i,e),a)}function Pc(){}function Rf(e,i){var a=le();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&_c(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Mf(e,i){var a=le();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&_c(i,o[1]))return o[0];if(o=e(),Xi){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[o,i],o}function Ic(e,i,a){return a===void 0||(hi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Op(),xt.lanes|=e,yi|=e,a)}function Df(e,i,a,o){return We(a,i)?a:jn.current!==null?(e=Ic(e,a,o),We(e,i)||(be=!0),e):(hi&42)===0?(be=!0,e.memoizedState=a):(e=Op(),xt.lanes|=e,yi|=e,i)}function Lf(e,i,a,o,d){var g=B.p;B.p=g!==0&&8>g?g:8;var A=L.T,w={};L.T=w,Uc(e,!1,i,a);try{var C=d(),I=L.S;if(I!==null&&I(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=Gy(C,o);Ha(e,i,V,es(e))}else Ha(e,i,o,es(e))}catch(X){Ha(e,i,{then:function(){},status:"rejected",reason:X},es())}finally{B.p=g,L.T=A}}function $y(){}function zc(e,i,a,o){if(e.tag!==5)throw Error(n(476));var d=Of(e).queue;Lf(e,d,i,tt,a===null?$y:function(){return jf(e),a(o)})}function Of(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:tt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function jf(e){var i=Of(e).next.queue;Ha(e,i,{},es())}function Bc(){return Me(ar)}function kf(){return le().memoizedState}function Pf(){return le().memoizedState}function Ky(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=es();e=ci(a);var o=ui(i,e,a);o!==null&&(ss(o,i,a),ka(o,i,a)),i={cache:gc()},e.payload=i;return}i=i.return}}function Wy(e,i,a){var o=es();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sl(e)?zf(i,a):(a=ac(e,i,a,o),a!==null&&(ss(a,e,o),Bf(a,i,o)))}function If(e,i,a){var o=es();Ha(e,i,a,o)}function Ha(e,i,a,o){var d={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sl(e))zf(i,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var A=i.lastRenderedState,w=g(A,a);if(d.hasEagerState=!0,d.eagerState=w,We(w,A))return nl(e,i,d,0),Gt===null&&il(),!1}catch{}finally{}if(a=ac(e,i,d,o),a!==null)return ss(a,e,o),Bf(a,i,o),!0}return!1}function Uc(e,i,a,o){if(o={lane:2,revertLane:yu(),action:o,hasEagerState:!1,eagerState:null,next:null},Sl(e)){if(i)throw Error(n(479))}else i=ac(e,a,o,2),i!==null&&ss(i,e,2)}function Sl(e){var i=e.alternate;return e===xt||i!==null&&i===xt}function zf(e,i){kn=gl=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Bf(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Yh(e,a)}}var xl={readContext:Me,use:vl,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},Uf={readContext:Me,use:vl,useCallback:function(e,i){return Fe().memoizedState=[e,i===void 0?null:i],e},useContext:Me,useEffect:Ef,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Al(4194308,4,Cf.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Al(4194308,4,e,i)},useInsertionEffect:function(e,i){Al(4,2,e,i)},useMemo:function(e,i){var a=Fe();i=i===void 0?null:i;var o=e();if(Xi){Ke(!0);try{e()}finally{Ke(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=Fe();if(a!==void 0){var d=a(i);if(Xi){Ke(!0);try{a(i)}finally{Ke(!1)}}}else d=i;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=Wy.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var i=Fe();return e={current:e},i.memoizedState=e},useState:function(e){e=jc(e);var i=e.queue,a=If.bind(null,xt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Pc,useDeferredValue:function(e,i){var a=Fe();return Ic(a,e,i)},useTransition:function(){var e=jc(!1);return e=Lf.bind(null,xt,e.queue,!0,!1),Fe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=xt,d=Fe();if(Dt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=i(),Gt===null)throw Error(n(349));(Rt&124)!==0||lf(o,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Ef(cf.bind(null,o,g,e),[e]),o.flags|=2048,In(9,bl(),of.bind(null,o,g,a,i),null),a},useId:function(){var e=Fe(),i=Gt.identifierPrefix;if(Dt){var a=Fs,o=Hs;a=(o&~(1<<32-ve(o)-1)).toString(32)+a,i=""+i+"R"+a,a=ml++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Vy++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Bc,useFormState:yf,useActionState:yf,useOptimistic:function(e){var i=Fe();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Uc.bind(null,xt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Dc,useCacheRefresh:function(){return Fe().memoizedState=Ky.bind(null,xt)}},Hf={readContext:Me,use:vl,useCallback:Rf,useContext:Me,useEffect:wf,useImperativeHandle:Nf,useInsertionEffect:_f,useLayoutEffect:Tf,useMemo:Mf,useReducer:yl,useRef:xf,useState:function(){return yl(qs)},useDebugValue:Pc,useDeferredValue:function(e,i){var a=le();return Df(a,It.memoizedState,e,i)},useTransition:function(){var e=yl(qs)[0],i=le().memoizedState;return[typeof e=="boolean"?e:Ba(e),i]},useSyncExternalStore:rf,useId:kf,useHostTransitionStatus:Bc,useFormState:bf,useActionState:bf,useOptimistic:function(e,i){var a=le();return df(a,It,e,i)},useMemoCache:Dc,useCacheRefresh:Pf},Qy={readContext:Me,use:vl,useCallback:Rf,useContext:Me,useEffect:wf,useImperativeHandle:Nf,useInsertionEffect:_f,useLayoutEffect:Tf,useMemo:Mf,useReducer:Oc,useRef:xf,useState:function(){return Oc(qs)},useDebugValue:Pc,useDeferredValue:function(e,i){var a=le();return It===null?Ic(a,e,i):Df(a,It.memoizedState,e,i)},useTransition:function(){var e=Oc(qs)[0],i=le().memoizedState;return[typeof e=="boolean"?e:Ba(e),i]},useSyncExternalStore:rf,useId:kf,useHostTransitionStatus:Bc,useFormState:Sf,useActionState:Sf,useOptimistic:function(e,i){var a=le();return It!==null?df(a,It,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Dc,useCacheRefresh:Pf},zn=null,Fa=0;function El(e){var i=Fa;return Fa+=1,zn===null&&(zn=[]),Qd(zn,e,i)}function Ga(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function wl(e,i){throw i.$$typeof===y?Error(n(525)):(e=Object.prototype.toString.call(i),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ff(e){var i=e._init;return i(e._payload)}function Gf(e){function i(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function a(k,D){if(!e)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function d(k,D){return k=Us(k,D),k.index=0,k.sibling=null,k}function g(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function A(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function w(k,D,P,Y){return D===null||D.tag!==6?(D=lc(P,k.mode,Y),D.return=k,D):(D=d(D,P),D.return=k,D)}function C(k,D,P,Y){var it=P.type;return it===E?V(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===$&&Ff(it)===D.type)?(D=d(D,P.props),Ga(D,P),D.return=k,D):(D=rl(P.type,P.key,P.props,null,k.mode,Y),Ga(D,P),D.return=k,D)}function I(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=oc(P,k.mode,Y),D.return=k,D):(D=d(D,P.children||[]),D.return=k,D)}function V(k,D,P,Y,it){return D===null||D.tag!==7?(D=Bi(P,k.mode,Y,it),D.return=k,D):(D=d(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=lc(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return P=rl(D.type,D.key,D.props,null,k.mode,P),Ga(P,D),P.return=k,P;case S:return D=oc(D,k.mode,P),D.return=k,D;case $:var Y=D._init;return D=Y(D._payload),X(k,D,P)}if(lt(D)||at(D))return D=Bi(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,El(D),P);if(D.$$typeof===N)return X(k,ul(k,D),P);wl(k,D)}return null}function z(k,D,P,Y){var it=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return it!==null?null:w(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return P.key===it?C(k,D,P,Y):null;case S:return P.key===it?I(k,D,P,Y):null;case $:return it=P._init,P=it(P._payload),z(k,D,P,Y)}if(lt(P)||at(P))return it!==null?null:V(k,D,P,Y,null);if(typeof P.then=="function")return z(k,D,El(P),Y);if(P.$$typeof===N)return z(k,D,ul(k,P),Y);wl(k,P)}return null}function U(k,D,P,Y,it){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,w(D,k,""+Y,it);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case b:return k=k.get(Y.key===null?P:Y.key)||null,C(D,k,Y,it);case S:return k=k.get(Y.key===null?P:Y.key)||null,I(D,k,Y,it);case $:var Et=Y._init;return Y=Et(Y._payload),U(k,D,P,Y,it)}if(lt(Y)||at(Y))return k=k.get(P)||null,V(D,k,Y,it,null);if(typeof Y.then=="function")return U(k,D,P,El(Y),it);if(Y.$$typeof===N)return U(k,D,P,ul(D,Y),it);wl(D,Y)}return null}function gt(k,D,P,Y){for(var it=null,Et=null,rt=D,dt=D=0,Se=null;rt!==null&&dt<P.length;dt++){rt.index>dt?(Se=rt,rt=null):Se=rt.sibling;var Mt=z(k,rt,P[dt],Y);if(Mt===null){rt===null&&(rt=Se);break}e&&rt&&Mt.alternate===null&&i(k,rt),D=g(Mt,D,dt),Et===null?it=Mt:Et.sibling=Mt,Et=Mt,rt=Se}if(dt===P.length)return a(k,rt),Dt&&Hi(k,dt),it;if(rt===null){for(;dt<P.length;dt++)rt=X(k,P[dt],Y),rt!==null&&(D=g(rt,D,dt),Et===null?it=rt:Et.sibling=rt,Et=rt);return Dt&&Hi(k,dt),it}for(rt=o(rt);dt<P.length;dt++)Se=U(rt,k,dt,P[dt],Y),Se!==null&&(e&&Se.alternate!==null&&rt.delete(Se.key===null?dt:Se.key),D=g(Se,D,dt),Et===null?it=Se:Et.sibling=Se,Et=Se);return e&&rt.forEach(function(Ci){return i(k,Ci)}),Dt&&Hi(k,dt),it}function ht(k,D,P,Y){if(P==null)throw Error(n(151));for(var it=null,Et=null,rt=D,dt=D=0,Se=null,Mt=P.next();rt!==null&&!Mt.done;dt++,Mt=P.next()){rt.index>dt?(Se=rt,rt=null):Se=rt.sibling;var Ci=z(k,rt,Mt.value,Y);if(Ci===null){rt===null&&(rt=Se);break}e&&rt&&Ci.alternate===null&&i(k,rt),D=g(Ci,D,dt),Et===null?it=Ci:Et.sibling=Ci,Et=Ci,rt=Se}if(Mt.done)return a(k,rt),Dt&&Hi(k,dt),it;if(rt===null){for(;!Mt.done;dt++,Mt=P.next())Mt=X(k,Mt.value,Y),Mt!==null&&(D=g(Mt,D,dt),Et===null?it=Mt:Et.sibling=Mt,Et=Mt);return Dt&&Hi(k,dt),it}for(rt=o(rt);!Mt.done;dt++,Mt=P.next())Mt=U(rt,k,dt,Mt.value,Y),Mt!==null&&(e&&Mt.alternate!==null&&rt.delete(Mt.key===null?dt:Mt.key),D=g(Mt,D,dt),Et===null?it=Mt:Et.sibling=Mt,Et=Mt);return e&&rt.forEach(function(Zb){return i(k,Zb)}),Dt&&Hi(k,dt),it}function Bt(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===E&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case b:t:{for(var it=P.key;D!==null;){if(D.key===it){if(it=P.type,it===E){if(D.tag===7){a(k,D.sibling),Y=d(D,P.props.children),Y.return=k,k=Y;break t}}else if(D.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===$&&Ff(it)===D.type){a(k,D.sibling),Y=d(D,P.props),Ga(Y,P),Y.return=k,k=Y;break t}a(k,D);break}else i(k,D);D=D.sibling}P.type===E?(Y=Bi(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=rl(P.type,P.key,P.props,null,k.mode,Y),Ga(Y,P),Y.return=k,k=Y)}return A(k);case S:t:{for(it=P.key;D!==null;){if(D.key===it)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){a(k,D.sibling),Y=d(D,P.children||[]),Y.return=k,k=Y;break t}else{a(k,D);break}else i(k,D);D=D.sibling}Y=oc(P,k.mode,Y),Y.return=k,k=Y}return A(k);case $:return it=P._init,P=it(P._payload),Bt(k,D,P,Y)}if(lt(P))return gt(k,D,P,Y);if(at(P)){if(it=at(P),typeof it!="function")throw Error(n(150));return P=it.call(P),ht(k,D,P,Y)}if(typeof P.then=="function")return Bt(k,D,El(P),Y);if(P.$$typeof===N)return Bt(k,D,ul(k,P),Y);wl(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(a(k,D.sibling),Y=d(D,P),Y.return=k,k=Y):(a(k,D),Y=lc(P,k.mode,Y),Y.return=k,k=Y),A(k)):a(k,D)}return function(k,D,P,Y){try{Fa=0;var it=Bt(k,D,P,Y);return zn=null,it}catch(rt){if(rt===Oa||rt===dl)throw rt;var Et=Qe(29,rt,null,k.mode);return Et.lanes=Y,Et.return=k,Et}finally{}}}var Bn=Gf(!0),Vf=Gf(!1),ds=q(null),_s=null;function di(e){var i=e.alternate;K(ge,ge.current&1),K(ds,e),_s===null&&(i===null||jn.current!==null||i.memoizedState!==null)&&(_s=e)}function qf(e){if(e.tag===22){if(K(ge,ge.current),K(ds,e),_s===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(_s=e)}}else fi()}function fi(){K(ge,ge.current),K(ds,ds.current)}function Ys(e){Q(ds),_s===e&&(_s=null),Q(ge)}var ge=q(0);function _l(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Mu(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Hc(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:m({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Fc={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=es(),d=ci(o);d.payload=i,a!=null&&(d.callback=a),i=ui(e,d,o),i!==null&&(ss(i,e,o),ka(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=es(),d=ci(o);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=ui(e,d,o),i!==null&&(ss(i,e,o),ka(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=es(),o=ci(a);o.tag=2,i!=null&&(o.callback=i),i=ui(e,o,a),i!==null&&(ss(i,e,a),ka(i,e,a))}};function Yf(e,i,a,o,d,g,A){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,A):i.prototype&&i.prototype.isPureReactComponent?!_a(a,o)||!_a(d,g):!0}function Xf(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Fc.enqueueReplaceState(i,i.state,null)}function $i(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=m({},a));for(var d in e)a[d]===void 0&&(a[d]=e[d])}return a}var Tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $f(e){Tl(e)}function Kf(e){console.error(e)}function Wf(e){Tl(e)}function Cl(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Qf(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gc(e,i,a){return a=ci(a),a.tag=3,a.payload={element:null},a.callback=function(){Cl(e,i)},a}function Zf(e){return e=ci(e),e.tag=3,e}function Jf(e,i,a,o){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var g=o.value;e.payload=function(){return d(g)},e.callback=function(){Qf(i,a,o)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(e.callback=function(){Qf(i,a,o),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Zy(e,i,a,o,d){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ma(i,a,d,!0),a=ds.current,a!==null){switch(a.tag){case 13:return _s===null?fu():a.alternate===null&&Qt===0&&(Qt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,o===yc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),gu(e,o,d)),!1;case 22:return a.flags|=65536,o===yc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),gu(e,o,d)),!1}throw Error(n(435,a.tag))}return gu(e,o,d),fu(),!1}if(Dt)return i=ds.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,o!==hc&&(e=Error(n(422),{cause:o}),Ra(os(e,a)))):(o!==hc&&(i=Error(n(423),{cause:o}),Ra(os(i,a))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=os(o,a),d=Gc(e.stateNode,o,d),Sc(e,d),Qt!==4&&(Qt=2)),!1;var g=Error(n(520),{cause:o});if(g=os(g,a),Wa===null?Wa=[g]:Wa.push(g),Qt!==4&&(Qt=2),i===null)return!0;o=os(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=d&-d,a.lanes|=e,e=Gc(a.stateNode,o,e),Sc(a,e),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(bi===null||!bi.has(g))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Zf(d),Jf(d,e,a,o),Sc(a,d),!1}a=a.return}while(a!==null);return!1}var tp=Error(n(461)),be=!1;function we(e,i,a,o){i.child=e===null?Vf(i,null,a,o):Bn(i,e.child,a,o)}function ep(e,i,a,o,d){a=a.render;var g=i.ref;if("ref"in o){var A={};for(var w in o)w!=="ref"&&(A[w]=o[w])}else A=o;return qi(i),o=Tc(e,i,a,A,g,d),w=Cc(),e!==null&&!be?(Nc(e,i,d),Xs(e,i,d)):(Dt&&w&&cc(i),i.flags|=1,we(e,i,o,d),i.child)}function sp(e,i,a,o,d){if(e===null){var g=a.type;return typeof g=="function"&&!rc(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,ip(e,i,g,o,d)):(e=rl(a.type,null,o,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Qc(e,d)){var A=g.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(A,o)&&e.ref===i.ref)return Xs(e,i,d)}return i.flags|=1,e=Us(g,o),e.ref=i.ref,e.return=i,i.child=e}function ip(e,i,a,o,d){if(e!==null){var g=e.memoizedProps;if(_a(g,o)&&e.ref===i.ref)if(be=!1,i.pendingProps=o=g,Qc(e,d))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Xs(e,i,d)}return Vc(e,i,a,o,d)}function np(e,i,a){var o=i.pendingProps,d=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=g!==null?g.baseLanes|a:a,e!==null){for(d=i.child=e.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~o}else i.childLanes=0,i.child=null;return ap(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&hl(i,g!==null?g.cachePool:null),g!==null?sf(i,g):Ec(),qf(i);else return i.lanes=i.childLanes=536870912,ap(e,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(hl(i,g.cachePool),sf(i,g),fi(),i.memoizedState=null):(e!==null&&hl(i,null),Ec(),fi());return we(e,i,d,a),i.child}function ap(e,i,a,o){var d=vc();return d=d===null?null:{parent:pe._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&hl(i,null),Ec(),qf(i),e!==null&&Ma(e,i,o,!0),null}function Nl(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Vc(e,i,a,o,d){return qi(i),a=Tc(e,i,a,o,void 0,d),o=Cc(),e!==null&&!be?(Nc(e,i,d),Xs(e,i,d)):(Dt&&o&&cc(i),i.flags|=1,we(e,i,a,d),i.child)}function rp(e,i,a,o,d,g){return qi(i),i.updateQueue=null,a=af(i,o,a,d),nf(e),o=Cc(),e!==null&&!be?(Nc(e,i,g),Xs(e,i,g)):(Dt&&o&&cc(i),i.flags|=1,we(e,i,a,g),i.child)}function lp(e,i,a,o,d){if(qi(i),i.stateNode===null){var g=Rn,A=a.contextType;typeof A=="object"&&A!==null&&(g=Me(A)),g=new a(o,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Fc,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=o,g.state=i.memoizedState,g.refs={},bc(i),A=a.contextType,g.context=typeof A=="object"&&A!==null?Me(A):Rn,g.state=i.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Hc(i,a,A,o),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Fc.enqueueReplaceState(g,g.state,null),Ia(i,o,g,d),Pa(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){g=i.stateNode;var w=i.memoizedProps,C=$i(a,w);g.props=C;var I=g.context,V=a.contextType;A=Rn,typeof V=="object"&&V!==null&&(A=Me(V));var X=a.getDerivedStateFromProps;V=typeof X=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||I!==A)&&Xf(i,g,o,A),oi=!1;var z=i.memoizedState;g.state=z,Ia(i,o,g,d),Pa(),I=i.memoizedState,w||z!==I||oi?(typeof X=="function"&&(Hc(i,a,X,o),I=i.memoizedState),(C=oi||Yf(i,a,C,o,z,I,A))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=I),g.props=o,g.state=I,g.context=A,o=C):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{g=i.stateNode,Ac(e,i),A=i.memoizedProps,V=$i(a,A),g.props=V,X=i.pendingProps,z=g.context,I=a.contextType,C=Rn,typeof I=="object"&&I!==null&&(C=Me(I)),w=a.getDerivedStateFromProps,(I=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==X||z!==C)&&Xf(i,g,o,C),oi=!1,z=i.memoizedState,g.state=z,Ia(i,o,g,d),Pa();var U=i.memoizedState;A!==X||z!==U||oi||e!==null&&e.dependencies!==null&&cl(e.dependencies)?(typeof w=="function"&&(Hc(i,a,w,o),U=i.memoizedState),(V=oi||Yf(i,a,V,o,z,U,C)||e!==null&&e.dependencies!==null&&cl(e.dependencies))?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,U,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,U,C)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=U),g.props=o,g.state=U,g.context=C,o=V):(typeof g.componentDidUpdate!="function"||A===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return g=o,Nl(e,i),o=(i.flags&128)!==0,g||o?(g=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&o?(i.child=Bn(i,e.child,null,d),i.child=Bn(i,null,a,d)):we(e,i,a,d),i.memoizedState=g.state,e=i.child):e=Xs(e,i,d),e}function op(e,i,a,o){return Na(),i.flags|=256,we(e,i,a,o),i.child}var qc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yc(e){return{baseLanes:e,cachePool:$d()}}function Xc(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=fs),e}function cp(e,i,a){var o=i.pendingProps,d=!1,g=(i.flags&128)!==0,A;if((A=g)||(A=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),A&&(d=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,e===null){if(Dt){if(d?di(i):fi(),Dt){var w=Wt,C;if(C=w){t:{for(C=w,w=ws;C.nodeType!==8;){if(!w){w=null;break t}if(C=As(C.nextSibling),C===null){w=null;break t}}w=C}w!==null?(i.memoizedState={dehydrated:w,treeContext:Ui!==null?{id:Hs,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},C=Qe(18,null,null,0),C.stateNode=w,C.return=i,i.child=C,Pe=i,Wt=null,C=!0):C=!1}C||Gi(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Mu(w)?i.lanes=32:i.lanes=536870912,null;Ys(i)}return w=o.children,o=o.fallback,d?(fi(),d=i.mode,w=Rl({mode:"hidden",children:w},d),o=Bi(o,d,a,null),w.return=i,o.return=i,w.sibling=o,i.child=w,d=i.child,d.memoizedState=Yc(a),d.childLanes=Xc(e,A,a),i.memoizedState=qc,o):(di(i),$c(i,w))}if(C=e.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(g)i.flags&256?(di(i),i.flags&=-257,i=Kc(e,i,a)):i.memoizedState!==null?(fi(),i.child=e.child,i.flags|=128,i=null):(fi(),d=o.fallback,w=i.mode,o=Rl({mode:"visible",children:o.children},w),d=Bi(d,w,a,null),d.flags|=2,o.return=i,d.return=i,o.sibling=d,i.child=o,Bn(i,e.child,null,a),o=i.child,o.memoizedState=Yc(a),o.childLanes=Xc(e,A,a),i.memoizedState=qc,i=d);else if(di(i),Mu(w)){if(A=w.nextSibling&&w.nextSibling.dataset,A)var I=A.dgst;A=I,o=Error(n(419)),o.stack="",o.digest=A,Ra({value:o,source:null,stack:null}),i=Kc(e,i,a)}else if(be||Ma(e,i,a,!1),A=(a&e.childLanes)!==0,be||A){if(A=Gt,A!==null&&(o=a&-a,o=(o&42)!==0?1:Do(o),o=(o&(A.suspendedLanes|a))!==0?0:o,o!==0&&o!==C.retryLane))throw C.retryLane=o,Nn(e,o),ss(A,e,o),tp;w.data==="$?"||fu(),i=Kc(e,i,a)}else w.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,Wt=As(w.nextSibling),Pe=i,Dt=!0,Fi=null,ws=!1,e!==null&&(us[hs++]=Hs,us[hs++]=Fs,us[hs++]=Ui,Hs=e.id,Fs=e.overflow,Ui=i),i=$c(i,o.children),i.flags|=4096);return i}return d?(fi(),d=o.fallback,w=i.mode,C=e.child,I=C.sibling,o=Us(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,I!==null?d=Us(I,d):(d=Bi(d,w,a,null),d.flags|=2),d.return=i,o.return=i,o.sibling=d,i.child=o,o=d,d=i.child,w=e.child.memoizedState,w===null?w=Yc(a):(C=w.cachePool,C!==null?(I=pe._currentValue,C=C.parent!==I?{parent:I,pool:I}:C):C=$d(),w={baseLanes:w.baseLanes|a,cachePool:C}),d.memoizedState=w,d.childLanes=Xc(e,A,a),i.memoizedState=qc,o):(di(i),a=e.child,e=a.sibling,a=Us(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(A=i.deletions,A===null?(i.deletions=[e],i.flags|=16):A.push(e)),i.child=a,i.memoizedState=null,a)}function $c(e,i){return i=Rl({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Rl(e,i){return e=Qe(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Kc(e,i,a){return Bn(i,e.child,null,a),e=$c(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function up(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),fc(e.return,i,a)}function Wc(e,i,a,o,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=d)}function hp(e,i,a){var o=i.pendingProps,d=o.revealOrder,g=o.tail;if(we(e,i,o.children,a),o=ge.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&up(e,a,i);else if(e.tag===19)up(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(K(ge,o),d){case"forwards":for(a=i.child,d=null;a!==null;)e=a.alternate,e!==null&&_l(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Wc(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&_l(e)===null){i.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}Wc(i,!0,a,null,g);break;case"together":Wc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xs(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),yi|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ma(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(n(153));if(i.child!==null){for(e=i.child,a=Us(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Us(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Qc(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&cl(e)))}function Jy(e,i,a){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),li(i,pe,e.memoizedState.cache),Na();break;case 27:case 5:Pt(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:li(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(di(i),i.flags|=128,null):(a&i.child.childLanes)!==0?cp(e,i,a):(di(i),e=Xs(e,i,a),e!==null?e.sibling:null);di(i);break;case 19:var d=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ma(e,i,a,!1),o=(a&i.childLanes)!==0),d){if(o)return hp(e,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(ge,ge.current),o)break;return null;case 22:case 23:return i.lanes=0,np(e,i,a);case 24:li(i,pe,e.memoizedState.cache)}return Xs(e,i,a)}function dp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!Qc(e,a)&&(i.flags&128)===0)return be=!1,Jy(e,i,a);be=(e.flags&131072)!==0}else be=!1,Dt&&(i.flags&1048576)!==0&&Hd(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,d=o._init;if(o=d(o._payload),i.type=o,typeof o=="function")rc(o)?(e=$i(o,e),i.tag=1,i=lp(null,i,o,e,a)):(i.tag=0,i=Vc(null,i,o,e,a));else{if(o!=null){if(d=o.$$typeof,d===j){i.tag=11,i=ep(null,i,o,e,a);break t}else if(d===H){i.tag=14,i=sp(null,i,o,e,a);break t}}throw i=ct(o)||o,Error(n(306,i,""))}}return i;case 0:return Vc(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,d=$i(o,i.pendingProps),lp(e,i,o,d,a);case 3:t:{if(Nt(i,i.stateNode.containerInfo),e===null)throw Error(n(387));o=i.pendingProps;var g=i.memoizedState;d=g.element,Ac(e,i),Ia(i,o,null,a);var A=i.memoizedState;if(o=A.cache,li(i,pe,o),o!==g.cache&&pc(i,[pe],a,!0),Pa(),o=A.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=op(e,i,o,a);break t}else if(o!==d){d=os(Error(n(424)),i),Ra(d),i=op(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Wt=As(e.firstChild),Pe=i,Dt=!0,Fi=null,ws=!0,a=Vf(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Na(),o===d){i=Xs(e,i,a);break t}we(e,i,o,a)}i=i.child}return i;case 26:return Nl(e,i),e===null?(a=mg(i.type,null,i.pendingProps,null))?i.memoizedState=a:Dt||(a=i.type,e=i.pendingProps,o=Gl(nt.current).createElement(a),o[Re]=i,o[Ue]=e,Te(o,a,e),ye(o),i.stateNode=o):i.memoizedState=mg(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Pt(i),e===null&&Dt&&(o=i.stateNode=fg(i.type,i.pendingProps,nt.current),Pe=i,ws=!0,d=Wt,xi(i.type)?(Du=d,Wt=As(o.firstChild)):Wt=d),we(e,i,i.pendingProps.children,a),Nl(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Dt&&((d=o=Wt)&&(o=Cb(o,i.type,i.pendingProps,ws),o!==null?(i.stateNode=o,Pe=i,Wt=As(o.firstChild),ws=!1,d=!0):d=!1),d||Gi(i)),Pt(i),d=i.type,g=i.pendingProps,A=e!==null?e.memoizedProps:null,o=g.children,Cu(d,g)?o=null:A!==null&&Cu(d,A)&&(i.flags|=32),i.memoizedState!==null&&(d=Tc(e,i,qy,null,null,a),ar._currentValue=d),Nl(e,i),we(e,i,o,a),i.child;case 6:return e===null&&Dt&&((e=a=Wt)&&(a=Nb(a,i.pendingProps,ws),a!==null?(i.stateNode=a,Pe=i,Wt=null,e=!0):e=!1),e||Gi(i)),null;case 13:return cp(e,i,a);case 4:return Nt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Bn(i,null,o,a):we(e,i,o,a),i.child;case 11:return ep(e,i,i.type,i.pendingProps,a);case 7:return we(e,i,i.pendingProps,a),i.child;case 8:return we(e,i,i.pendingProps.children,a),i.child;case 12:return we(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,li(i,i.type,o.value),we(e,i,o.children,a),i.child;case 9:return d=i.type._context,o=i.pendingProps.children,qi(i),d=Me(d),o=o(d),i.flags|=1,we(e,i,o,a),i.child;case 14:return sp(e,i,i.type,i.pendingProps,a);case 15:return ip(e,i,i.type,i.pendingProps,a);case 19:return hp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Rl(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Us(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return np(e,i,a);case 24:return qi(i),o=Me(pe),e===null?(d=vc(),d===null&&(d=Gt,g=gc(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=a),d=g),i.memoizedState={parent:o,cache:d},bc(i),li(i,pe,d)):((e.lanes&a)!==0&&(Ac(e,i),Ia(i,null,null,a),Pa()),d=e.memoizedState,g=i.memoizedState,d.parent!==o?(d={parent:o,cache:o},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),li(i,pe,o)):(o=g.cache,li(i,pe,o),o!==d.cache&&pc(i,[pe],a,!0))),we(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function $s(e){e.flags|=4}function fp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sg(i)){if(i=ds.current,i!==null&&((Rt&4194048)===Rt?_s!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||i!==_s))throw ja=yc,Kd;e.flags|=8192}}function Ml(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Vh():536870912,e.lanes|=i,Gn|=i)}function Va(e,i){if(!Dt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $t(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function tb(e,i,a){var o=i.pendingProps;switch(uc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(i),null;case 1:return $t(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Vs(pe),he(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ca(i)?$s(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vd())),$t(i),null;case 26:return a=i.memoizedState,e===null?($s(i),a!==null?($t(i),fp(i,a)):($t(i),i.flags&=-16777217)):a?a!==e.memoizedState?($s(i),$t(i),fp(i,a)):($t(i),i.flags&=-16777217):(e.memoizedProps!==o&&$s(i),$t(i),i.flags&=-16777217),null;case 27:Be(i),a=nt.current;var d=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$s(i);else{if(!o){if(i.stateNode===null)throw Error(n(166));return $t(i),null}e=st.current,Ca(i)?Fd(i):(e=fg(d,o,a),i.stateNode=e,$s(i))}return $t(i),null;case 5:if(Be(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$s(i);else{if(!o){if(i.stateNode===null)throw Error(n(166));return $t(i),null}if(e=st.current,Ca(i))Fd(i);else{switch(d=Gl(nt.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?d.createElement(a,{is:o.is}):d.createElement(a)}}e[Re]=i,e[Ue]=o;t:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break t;for(;d.sibling===null;){if(d.return===null||d.return===i)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=e;t:switch(Te(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&$s(i)}}return $t(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&$s(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(n(166));if(e=nt.current,Ca(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,d=Pe,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[Re]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||rg(e.nodeValue,a)),e||Gi(i)}else e=Gl(e).createTextNode(o),e[Re]=i,i.stateNode=e}return $t(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ca(i),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(n(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));d[Re]=i}else Na(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),d=!1}else d=Vd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Ys(i),i):(Ys(i),null)}if(Ys(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ml(i,i.updateQueue),$t(i),null;case 4:return he(),e===null&&xu(i.stateNode.containerInfo),$t(i),null;case 10:return Vs(i.type),$t(i),null;case 19:if(Q(ge),d=i.memoizedState,d===null)return $t(i),null;if(o=(i.flags&128)!==0,g=d.rendering,g===null)if(o)Va(d,!1);else{if(Qt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=_l(e),g!==null){for(i.flags|=128,Va(d,!1),e=g.updateQueue,i.updateQueue=e,Ml(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ud(a,e),a=a.sibling;return K(ge,ge.current&1|2),i.child}e=e.sibling}d.tail!==null&&fe()>Ol&&(i.flags|=128,o=!0,Va(d,!1),i.lanes=4194304)}else{if(!o)if(e=_l(g),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Ml(i,e),Va(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Dt)return $t(i),null}else 2*fe()-d.renderingStartTime>Ol&&a!==536870912&&(i.flags|=128,o=!0,Va(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(e=d.last,e!==null?e.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=fe(),i.sibling=null,e=ge.current,K(ge,o?e&1|2:e&1),i):($t(i),null);case 22:case 23:return Ys(i),wc(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&($t(i),i.subtreeFlags&6&&(i.flags|=8192)):$t(i),a=i.updateQueue,a!==null&&Ml(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Q(Yi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vs(pe),$t(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function eb(e,i){switch(uc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Vs(pe),he(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Be(i),null;case 13:if(Ys(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Na()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Q(ge),null;case 4:return he(),null;case 10:return Vs(i.type),null;case 22:case 23:return Ys(i),wc(),e!==null&&Q(Yi),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Vs(pe),null;case 25:return null;default:return null}}function pp(e,i){switch(uc(i),i.tag){case 3:Vs(pe),he();break;case 26:case 27:case 5:Be(i);break;case 4:he();break;case 13:Ys(i);break;case 19:Q(ge);break;case 10:Vs(i.type);break;case 22:case 23:Ys(i),wc(),e!==null&&Q(Yi);break;case 24:Vs(pe)}}function qa(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var d=o.next;a=d;do{if((a.tag&e)===e){o=void 0;var g=a.create,A=a.inst;o=g(),A.destroy=o}a=a.next}while(a!==d)}}catch(w){Ht(i,i.return,w)}}function pi(e,i,a){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&e)===e){var A=o.inst,w=A.destroy;if(w!==void 0){A.destroy=void 0,d=i;var C=a,I=w;try{I()}catch(V){Ht(d,C,V)}}}o=o.next}while(o!==g)}}catch(V){Ht(i,i.return,V)}}function gp(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ef(i,a)}catch(o){Ht(e,e.return,o)}}}function mp(e,i,a){a.props=$i(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ht(e,i,o)}}function Ya(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){Ht(e,i,d)}}function Ts(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(d){Ht(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ht(e,i,d)}else a.current=null}function vp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(d){Ht(e,e.return,d)}}function Zc(e,i,a){try{var o=e.stateNode;xb(o,e.type,a,i),o[Ue]=i}catch(d){Ht(e,e.return,d)}}function yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xi(e.type)||e.tag===4}function Jc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fl));else if(o!==4&&(o===27&&xi(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(tu(e,i,a),e=e.sibling;e!==null;)tu(e,i,a),e=e.sibling}function Dl(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&xi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Dl(e,i,a),e=e.sibling;e!==null;)Dl(e,i,a),e=e.sibling}function bp(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Te(i,o,a),i[Re]=e,i[Ue]=a}catch(g){Ht(e,e.return,g)}}var Ks=!1,Jt=!1,eu=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function sb(e,i){if(e=e.containerInfo,_u=Kl,e=Md(e),Jo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var d=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break t}var A=0,w=-1,C=-1,I=0,V=0,X=e,z=null;e:for(;;){for(var U;X!==a||d!==0&&X.nodeType!==3||(w=A+d),X!==g||o!==0&&X.nodeType!==3||(C=A+o),X.nodeType===3&&(A+=X.nodeValue.length),(U=X.firstChild)!==null;)z=X,X=U;for(;;){if(X===e)break e;if(z===a&&++I===d&&(w=A),z===g&&++V===o&&(C=A),(U=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=U}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tu={focusedElem:e,selectionRange:a},Kl=!1,Ae=i;Ae!==null;)if(i=Ae,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Ae=e;else for(;Ae!==null;){switch(i=Ae,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,a=i,d=g.memoizedProps,g=g.memoizedState,o=a.stateNode;try{var gt=$i(a.type,d,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(gt,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Ht(a,a.return,ht)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ru(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(n(163))}if(e=i.sibling,e!==null){e.return=i.return,Ae=e;break}Ae=i.return}}function Sp(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:gi(e,a),o&4&&qa(5,a);break;case 1:if(gi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(A){Ht(a,a.return,A)}else{var d=$i(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(A){Ht(a,a.return,A)}}o&64&&gp(a),o&512&&Ya(a,a.return);break;case 3:if(gi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ef(e,i)}catch(A){Ht(a,a.return,A)}}break;case 27:i===null&&o&4&&bp(a);case 26:case 5:gi(e,a),i===null&&o&4&&vp(a),o&512&&Ya(a,a.return);break;case 12:gi(e,a);break;case 13:gi(e,a),o&4&&wp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hb.bind(null,a),Rb(e,a))));break;case 22:if(o=a.memoizedState!==null||Ks,!o){i=i!==null&&i.memoizedState!==null||Jt,d=Ks;var g=Jt;Ks=o,(Jt=i)&&!g?mi(e,a,(a.subtreeFlags&8772)!==0):gi(e,a),Ks=d,Jt=g}break;case 30:break;default:gi(e,a)}}function xp(e){var i=e.alternate;i!==null&&(e.alternate=null,xp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&jo(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vt=null,Ge=!1;function Ws(e,i,a){for(a=a.child;a!==null;)Ep(e,i,a),a=a.sibling}function Ep(e,i,a){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(Oi,a)}catch{}switch(a.tag){case 26:Jt||Ts(a,i),Ws(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Jt||Ts(a,i);var o=Vt,d=Ge;xi(a.type)&&(Vt=a.stateNode,Ge=!1),Ws(e,i,a),er(a.stateNode),Vt=o,Ge=d;break;case 5:Jt||Ts(a,i);case 6:if(o=Vt,d=Ge,Vt=null,Ws(e,i,a),Vt=o,Ge=d,Vt!==null)if(Ge)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(a.stateNode)}catch(g){Ht(a,i,g)}else try{Vt.removeChild(a.stateNode)}catch(g){Ht(a,i,g)}break;case 18:Vt!==null&&(Ge?(e=Vt,hg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cr(e)):hg(Vt,a.stateNode));break;case 4:o=Vt,d=Ge,Vt=a.stateNode.containerInfo,Ge=!0,Ws(e,i,a),Vt=o,Ge=d;break;case 0:case 11:case 14:case 15:Jt||pi(2,a,i),Jt||pi(4,a,i),Ws(e,i,a);break;case 1:Jt||(Ts(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&mp(a,i,o)),Ws(e,i,a);break;case 21:Ws(e,i,a);break;case 22:Jt=(o=Jt)||a.memoizedState!==null,Ws(e,i,a),Jt=o;break;default:Ws(e,i,a)}}function wp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cr(e)}catch(a){Ht(i,i.return,a)}}function ib(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ap),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ap),i;default:throw Error(n(435,e.tag))}}function su(e,i){var a=ib(e);i.forEach(function(o){var d=db.bind(null,e,o);a.has(o)||(a.add(o),o.then(d,d))})}function Ze(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var d=a[o],g=e,A=i,w=A;t:for(;w!==null;){switch(w.tag){case 27:if(xi(w.type)){Vt=w.stateNode,Ge=!1;break t}break;case 5:Vt=w.stateNode,Ge=!1;break t;case 3:case 4:Vt=w.stateNode.containerInfo,Ge=!0;break t}w=w.return}if(Vt===null)throw Error(n(160));Ep(g,A,d),Vt=null,Ge=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)_p(i,e),i=i.sibling}var bs=null;function _p(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ze(i,e),Je(e),o&4&&(pi(3,e,e.return),qa(3,e),pi(5,e,e.return));break;case 1:Ze(i,e),Je(e),o&512&&(Jt||a===null||Ts(a,a.return)),o&64&&Ks&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var d=bs;if(Ze(i,e),Je(e),o&512&&(Jt||a===null||Ts(a,a.return)),o&4){var g=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,d=d.ownerDocument||d;e:switch(o){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ma]||g[Re]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(o),d.head.insertBefore(g,d.querySelector("head > title"))),Te(g,o,a),g[Re]=e,ye(g),o=g;break t;case"link":var A=bg("link","href",d).get(o+(a.href||""));if(A){for(var w=0;w<A.length;w++)if(g=A[w],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(w,1);break e}}g=d.createElement(o),Te(g,o,a),d.head.appendChild(g);break;case"meta":if(A=bg("meta","content",d).get(o+(a.content||""))){for(w=0;w<A.length;w++)if(g=A[w],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(w,1);break e}}g=d.createElement(o),Te(g,o,a),d.head.appendChild(g);break;default:throw Error(n(468,o))}g[Re]=e,ye(g),o=g}e.stateNode=o}else Ag(d,e.type,e.stateNode);else e.stateNode=yg(d,o,e.memoizedProps);else g!==o?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,o===null?Ag(d,e.type,e.stateNode):yg(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Zc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ze(i,e),Je(e),o&512&&(Jt||a===null||Ts(a,a.return)),a!==null&&o&4&&Zc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ze(i,e),Je(e),o&512&&(Jt||a===null||Ts(a,a.return)),e.flags&32){d=e.stateNode;try{Sn(d,"")}catch(U){Ht(e,e.return,U)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Zc(e,d,a!==null?a.memoizedProps:d)),o&1024&&(eu=!0);break;case 6:if(Ze(i,e),Je(e),o&4){if(e.stateNode===null)throw Error(n(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(U){Ht(e,e.return,U)}}break;case 3:if(Yl=null,d=bs,bs=Vl(i.containerInfo),Ze(i,e),bs=d,Je(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(i.containerInfo)}catch(U){Ht(e,e.return,U)}eu&&(eu=!1,Tp(e));break;case 4:o=bs,bs=Vl(e.stateNode.containerInfo),Ze(i,e),Je(e),bs=o;break;case 12:Ze(i,e),Je(e);break;case 13:Ze(i,e),Je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ou=fe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,su(e,o)));break;case 22:d=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,I=Ks,V=Jt;if(Ks=I||d,Jt=V||C,Ze(i,e),Jt=V,Ks=I,Je(e),o&8192)t:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||C||Ks||Jt||Ki(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(g=C.stateNode,d)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{w=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(U){Ht(C,C.return,U)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(U){Ht(C,C.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,su(e,a))));break;case 19:Ze(i,e),Je(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,su(e,o)));break;case 30:break;case 21:break;default:Ze(i,e),Je(e)}}function Je(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(yp(o)){a=o;break}o=o.return}if(a==null)throw Error(n(160));switch(a.tag){case 27:var d=a.stateNode,g=Jc(e);Dl(e,g,d);break;case 5:var A=a.stateNode;a.flags&32&&(Sn(A,""),a.flags&=-33);var w=Jc(e);Dl(e,w,A);break;case 3:case 4:var C=a.stateNode.containerInfo,I=Jc(e);tu(e,I,C);break;default:throw Error(n(161))}}catch(V){Ht(e,e.return,V)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Tp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Tp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function gi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sp(e,i.alternate,i),i=i.sibling}function Ki(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:pi(4,i,i.return),Ki(i);break;case 1:Ts(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&mp(i,i.return,a),Ki(i);break;case 27:er(i.stateNode);case 26:case 5:Ts(i,i.return),Ki(i);break;case 22:i.memoizedState===null&&Ki(i);break;case 30:Ki(i);break;default:Ki(i)}e=e.sibling}}function mi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,d=e,g=i,A=g.flags;switch(g.tag){case 0:case 11:case 15:mi(d,g,a),qa(4,g);break;case 1:if(mi(d,g,a),o=g,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){Ht(o,o.return,I)}if(o=g,d=o.updateQueue,d!==null){var w=o.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)tf(C[d],w)}catch(I){Ht(o,o.return,I)}}a&&A&64&&gp(g),Ya(g,g.return);break;case 27:bp(g);case 26:case 5:mi(d,g,a),a&&o===null&&A&4&&vp(g),Ya(g,g.return);break;case 12:mi(d,g,a);break;case 13:mi(d,g,a),a&&A&4&&wp(d,g);break;case 22:g.memoizedState===null&&mi(d,g,a),Ya(g,g.return);break;case 30:break;default:mi(d,g,a)}i=i.sibling}}function iu(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Da(a))}function nu(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Da(e))}function Cs(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cp(e,i,a,o),i=i.sibling}function Cp(e,i,a,o){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Cs(e,i,a,o),d&2048&&qa(9,i);break;case 1:Cs(e,i,a,o);break;case 3:Cs(e,i,a,o),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Da(e)));break;case 12:if(d&2048){Cs(e,i,a,o),e=i.stateNode;try{var g=i.memoizedProps,A=g.id,w=g.onPostCommit;typeof w=="function"&&w(A,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ht(i,i.return,C)}}else Cs(e,i,a,o);break;case 13:Cs(e,i,a,o);break;case 23:break;case 22:g=i.stateNode,A=i.alternate,i.memoizedState!==null?g._visibility&2?Cs(e,i,a,o):Xa(e,i):g._visibility&2?Cs(e,i,a,o):(g._visibility|=2,Un(e,i,a,o,(i.subtreeFlags&10256)!==0)),d&2048&&iu(A,i);break;case 24:Cs(e,i,a,o),d&2048&&nu(i.alternate,i);break;default:Cs(e,i,a,o)}}function Un(e,i,a,o,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,A=i,w=a,C=o,I=A.flags;switch(A.tag){case 0:case 11:case 15:Un(g,A,w,C,d),qa(8,A);break;case 23:break;case 22:var V=A.stateNode;A.memoizedState!==null?V._visibility&2?Un(g,A,w,C,d):Xa(g,A):(V._visibility|=2,Un(g,A,w,C,d)),d&&I&2048&&iu(A.alternate,A);break;case 24:Un(g,A,w,C,d),d&&I&2048&&nu(A.alternate,A);break;default:Un(g,A,w,C,d)}i=i.sibling}}function Xa(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,d=o.flags;switch(o.tag){case 22:Xa(a,o),d&2048&&iu(o.alternate,o);break;case 24:Xa(a,o),d&2048&&nu(o.alternate,o);break;default:Xa(a,o)}i=i.sibling}}var $a=8192;function Hn(e){if(e.subtreeFlags&$a)for(e=e.child;e!==null;)Np(e),e=e.sibling}function Np(e){switch(e.tag){case 26:Hn(e),e.flags&$a&&e.memoizedState!==null&&Fb(bs,e.memoizedState,e.memoizedProps);break;case 5:Hn(e);break;case 3:case 4:var i=bs;bs=Vl(e.stateNode.containerInfo),Hn(e),bs=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=$a,$a=16777216,Hn(e),$a=i):Hn(e));break;default:Hn(e)}}function Rp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ka(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ae=o,Dp(o,e)}Rp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mp(e),e=e.sibling}function Mp(e){switch(e.tag){case 0:case 11:case 15:Ka(e),e.flags&2048&&pi(9,e,e.return);break;case 3:Ka(e);break;case 12:Ka(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Ll(e)):Ka(e);break;default:Ka(e)}}function Ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Ae=o,Dp(o,e)}Rp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:pi(8,i,i.return),Ll(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ll(i));break;default:Ll(i)}e=e.sibling}}function Dp(e,i){for(;Ae!==null;){var a=Ae;switch(a.tag){case 0:case 11:case 15:pi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Da(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ae=o;else t:for(a=e;Ae!==null;){o=Ae;var d=o.sibling,g=o.return;if(xp(o),o===a){Ae=null;break t}if(d!==null){d.return=g,Ae=d;break t}Ae=g}}}var nb={getCacheForType:function(e){var i=Me(pe),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},ab=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Gt=null,wt=null,Rt=0,jt=0,ts=null,vi=!1,Fn=!1,au=!1,Qs=0,Qt=0,yi=0,Wi=0,ru=0,fs=0,Gn=0,Wa=null,Ve=null,lu=!1,ou=0,Ol=1/0,jl=null,bi=null,_e=0,Ai=null,Vn=null,qn=0,cu=0,uu=null,Lp=null,Qa=0,hu=null;function es(){if((Ot&2)!==0&&Rt!==0)return Rt&-Rt;if(L.T!==null){var e=Ln;return e!==0?e:yu()}return Xh()}function Op(){fs===0&&(fs=(Rt&536870912)===0||Dt?Gh():536870912);var e=ds.current;return e!==null&&(e.flags|=32),fs}function ss(e,i,a){(e===Gt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(Yn(e,0),Si(e,Rt,fs,!1)),ga(e,a),((Ot&2)===0||e!==Gt)&&(e===Gt&&((Ot&2)===0&&(Wi|=a),Qt===4&&Si(e,Rt,fs,!1)),Ns(e))}function jp(e,i,a){if((Ot&6)!==0)throw Error(n(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||pa(e,i),d=o?ob(e,i):pu(e,i,!0),g=o;do{if(d===0){Fn&&!o&&Si(e,i,0,!1);break}else{if(a=e.current.alternate,g&&!rb(a)){d=pu(e,i,!1),g=!1;continue}if(d===2){if(g=i,e.errorRecoveryDisabledLanes&g)var A=0;else A=e.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;t:{var w=e;d=Wa;var C=w.current.memoizedState.isDehydrated;if(C&&(Yn(w,A).flags|=256),A=pu(w,A,!1),A!==2){if(au&&!C){w.errorRecoveryDisabledLanes|=g,Wi|=g,d=4;break t}g=Ve,Ve=d,g!==null&&(Ve===null?Ve=g:Ve.push.apply(Ve,g))}d=A}if(g=!1,d!==2)continue}}if(d===1){Yn(e,0),Si(e,i,0,!0);break}t:{switch(o=e,g=d,g){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Si(o,i,fs,!vi);break t;case 2:Ve=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(d=ou+300-fe(),10<d)){if(Si(o,i,fs,!vi),qr(o,0,!0)!==0)break t;o.timeoutHandle=cg(kp.bind(null,o,a,Ve,jl,lu,i,fs,Wi,Gn,vi,g,2,-0,0),d);break t}kp(o,a,Ve,jl,lu,i,fs,Wi,Gn,vi,g,0,-0,0)}}break}while(!0);Ns(e)}function kp(e,i,a,o,d,g,A,w,C,I,V,X,z,U){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(nr={stylesheets:null,count:0,unsuspend:Hb},Np(i),X=Gb(),X!==null)){e.cancelPendingCommit=X(Fp.bind(null,e,i,g,a,o,d,A,w,C,V,1,z,U)),Si(e,g,A,!I);return}Fp(e,i,g,a,o,d,A,w,C)}function rb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var d=a[o],g=d.getSnapshot;d=d.value;try{if(!We(g(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Si(e,i,a,o){i&=~ru,i&=~Wi,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var d=i;0<d;){var g=31-ve(d),A=1<<g;o[g]=-1,d&=~A}a!==0&&qh(e,a,i)}function kl(){return(Ot&6)===0?(Za(0),!1):!0}function du(){if(wt!==null){if(jt===0)var e=wt.return;else e=wt,Gs=Vi=null,Rc(e),zn=null,Fa=0,e=wt;for(;e!==null;)pp(e.alternate,e),e=e.return;wt=null}}function Yn(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,wb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),du(),Gt=e,wt=a=Us(e.current,null),Rt=i,jt=0,ts=null,vi=!1,Fn=pa(e,i),au=!1,Gn=fs=ru=Wi=yi=Qt=0,Ve=Wa=null,lu=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var d=31-ve(o),g=1<<d;i|=e[d],o&=~g}return Qs=i,il(),a}function Pp(e,i){xt=null,L.H=xl,i===Oa||i===dl?(i=Zd(),jt=3):i===Kd?(i=Zd(),jt=4):jt=i===tp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ts=i,wt===null&&(Qt=1,Cl(e,os(i,e.current)))}function Ip(){var e=L.H;return L.H=xl,e===null?xl:e}function zp(){var e=L.A;return L.A=nb,e}function fu(){Qt=4,vi||(Rt&4194048)!==Rt&&ds.current!==null||(Fn=!0),(yi&134217727)===0&&(Wi&134217727)===0||Gt===null||Si(Gt,Rt,fs,!1)}function pu(e,i,a){var o=Ot;Ot|=2;var d=Ip(),g=zp();(Gt!==e||Rt!==i)&&(jl=null,Yn(e,i)),i=!1;var A=Qt;t:do try{if(jt!==0&&wt!==null){var w=wt,C=ts;switch(jt){case 8:du(),A=6;break t;case 3:case 2:case 9:case 6:ds.current===null&&(i=!0);var I=jt;if(jt=0,ts=null,Xn(e,w,C,I),a&&Fn){A=0;break t}break;default:I=jt,jt=0,ts=null,Xn(e,w,C,I)}}lb(),A=Qt;break}catch(V){Pp(e,V)}while(!0);return i&&e.shellSuspendCounter++,Gs=Vi=null,Ot=o,L.H=d,L.A=g,wt===null&&(Gt=null,Rt=0,il()),A}function lb(){for(;wt!==null;)Bp(wt)}function ob(e,i){var a=Ot;Ot|=2;var o=Ip(),d=zp();Gt!==e||Rt!==i?(jl=null,Ol=fe()+500,Yn(e,i)):Fn=pa(e,i);t:do try{if(jt!==0&&wt!==null){i=wt;var g=ts;e:switch(jt){case 1:jt=0,ts=null,Xn(e,i,g,1);break;case 2:case 9:if(Wd(g)){jt=0,ts=null,Up(i);break}i=function(){jt!==2&&jt!==9||Gt!==e||(jt=7),Ns(e)},g.then(i,i);break t;case 3:jt=7;break t;case 4:jt=5;break t;case 7:Wd(g)?(jt=0,ts=null,Up(i)):(jt=0,ts=null,Xn(e,i,g,7));break;case 5:var A=null;switch(wt.tag){case 26:A=wt.memoizedState;case 5:case 27:var w=wt;if(!A||Sg(A)){jt=0,ts=null;var C=w.sibling;if(C!==null)wt=C;else{var I=w.return;I!==null?(wt=I,Pl(I)):wt=null}break e}}jt=0,ts=null,Xn(e,i,g,5);break;case 6:jt=0,ts=null,Xn(e,i,g,6);break;case 8:du(),Qt=6;break t;default:throw Error(n(462))}}cb();break}catch(V){Pp(e,V)}while(!0);return Gs=Vi=null,L.H=o,L.A=d,Ot=a,wt!==null?0:(Gt=null,Rt=0,il(),Qt)}function cb(){for(;wt!==null&&!ne();)Bp(wt)}function Bp(e){var i=dp(e.alternate,e,Qs);e.memoizedProps=e.pendingProps,i===null?Pl(e):wt=i}function Up(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=rp(a,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=rp(a,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:Rc(i);default:pp(a,i),i=wt=Ud(i,Qs),i=dp(a,i,Qs)}e.memoizedProps=e.pendingProps,i===null?Pl(e):wt=i}function Xn(e,i,a,o){Gs=Vi=null,Rc(i),zn=null,Fa=0;var d=i.return;try{if(Zy(e,d,i,a,Rt)){Qt=1,Cl(e,os(a,e.current)),wt=null;return}}catch(g){if(d!==null)throw wt=d,g;Qt=1,Cl(e,os(a,e.current)),wt=null;return}i.flags&32768?(Dt||o===1?e=!0:Fn||(Rt&536870912)!==0?e=!1:(vi=e=!0,(o===2||o===9||o===3||o===6)&&(o=ds.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hp(i,e)):Pl(i)}function Pl(e){var i=e;do{if((i.flags&32768)!==0){Hp(i,vi);return}e=i.return;var a=tb(i.alternate,i,Qs);if(a!==null){wt=a;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=e}while(i!==null);Qt===0&&(Qt=5)}function Hp(e,i){do{var a=eb(e.alternate,e);if(a!==null){a.flags&=32767,wt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){wt=e;return}wt=e=a}while(e!==null);Qt=6,wt=null}function Fp(e,i,a,o,d,g,A,w,C){e.cancelPendingCommit=null;do Il();while(_e!==0);if((Ot&6)!==0)throw Error(n(327));if(i!==null){if(i===e.current)throw Error(n(177));if(g=i.lanes|i.childLanes,g|=nc,Hv(e,a,g,A,w,C),e===Gt&&(wt=Gt=null,Rt=0),Vn=i,Ai=e,qn=a,cu=g,uu=d,Lp=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fb(Is,function(){return Xp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=L.T,L.T=null,d=B.p,B.p=2,A=Ot,Ot|=4;try{sb(e,i,a)}finally{Ot=A,B.p=d,L.T=o}}_e=1,Gp(),Vp(),qp()}}function Gp(){if(_e===1){_e=0;var e=Ai,i=Vn,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var o=B.p;B.p=2;var d=Ot;Ot|=4;try{_p(i,e);var g=Tu,A=Md(e.containerInfo),w=g.focusedElem,C=g.selectionRange;if(A!==w&&w&&w.ownerDocument&&Rd(w.ownerDocument.documentElement,w)){if(C!==null&&Jo(w)){var I=C.start,V=C.end;if(V===void 0&&(V=I),"selectionStart"in w)w.selectionStart=I,w.selectionEnd=Math.min(V,w.value.length);else{var X=w.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var U=z.getSelection(),gt=w.textContent.length,ht=Math.min(C.start,gt),Bt=C.end===void 0?ht:Math.min(C.end,gt);!U.extend&&ht>Bt&&(A=Bt,Bt=ht,ht=A);var k=Nd(w,ht),D=Nd(w,Bt);if(k&&D&&(U.rangeCount!==1||U.anchorNode!==k.node||U.anchorOffset!==k.offset||U.focusNode!==D.node||U.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),U.removeAllRanges(),ht>Bt?(U.addRange(P),U.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),U.addRange(P))}}}}for(X=[],U=w;U=U.parentNode;)U.nodeType===1&&X.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<X.length;w++){var Y=X[w];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Kl=!!_u,Tu=_u=null}finally{Ot=d,B.p=o,L.T=a}}e.current=i,_e=2}}function Vp(){if(_e===2){_e=0;var e=Ai,i=Vn,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var o=B.p;B.p=2;var d=Ot;Ot|=4;try{Sp(e,i.alternate,i)}finally{Ot=d,B.p=o,L.T=a}}_e=3}}function qp(){if(_e===4||_e===3){_e=0,Xt();var e=Ai,i=Vn,a=qn,o=Lp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?_e=5:(_e=0,Vn=Ai=null,Yp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(bi=null),Lo(a),i=i.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(Oi,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=L.T,d=B.p,B.p=2,L.T=null;try{for(var g=e.onRecoverableError,A=0;A<o.length;A++){var w=o[A];g(w.value,{componentStack:w.stack})}}finally{L.T=i,B.p=d}}(qn&3)!==0&&Il(),Ns(e),d=e.pendingLanes,(a&4194090)!==0&&(d&42)!==0?e===hu?Qa++:(Qa=0,hu=e):Qa=0,Za(0)}}function Yp(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Da(i)))}function Il(e){return Gp(),Vp(),qp(),Xp()}function Xp(){if(_e!==5)return!1;var e=Ai,i=cu;cu=0;var a=Lo(qn),o=L.T,d=B.p;try{B.p=32>a?32:a,L.T=null,a=uu,uu=null;var g=Ai,A=qn;if(_e=0,Vn=Ai=null,qn=0,(Ot&6)!==0)throw Error(n(331));var w=Ot;if(Ot|=4,Mp(g.current),Cp(g,g.current,A,a),Ot=w,Za(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(Oi,g)}catch{}return!0}finally{B.p=d,L.T=o,Yp(e,i)}}function $p(e,i,a){i=os(a,i),i=Gc(e.stateNode,i,2),e=ui(e,i,2),e!==null&&(ga(e,2),Ns(e))}function Ht(e,i,a){if(e.tag===3)$p(e,e,a);else for(;i!==null;){if(i.tag===3){$p(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(bi===null||!bi.has(o))){e=os(a,e),a=Zf(2),o=ui(i,a,2),o!==null&&(Jf(a,o,i,e),ga(o,2),Ns(o));break}}i=i.return}}function gu(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new ab;var d=new Set;o.set(i,d)}else d=o.get(i),d===void 0&&(d=new Set,o.set(i,d));d.has(a)||(au=!0,d.add(a),e=ub.bind(null,e,i,a),i.then(e,e))}function ub(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Gt===e&&(Rt&a)===a&&(Qt===4||Qt===3&&(Rt&62914560)===Rt&&300>fe()-ou?(Ot&2)===0&&Yn(e,0):ru|=a,Gn===Rt&&(Gn=0)),Ns(e)}function Kp(e,i){i===0&&(i=Vh()),e=Nn(e,i),e!==null&&(ga(e,i),Ns(e))}function hb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Kp(e,a)}function db(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(n(314))}o!==null&&o.delete(i),Kp(e,a)}function fb(e,i){return de(e,i)}var zl=null,$n=null,mu=!1,Bl=!1,vu=!1,Qi=0;function Ns(e){e!==$n&&e.next===null&&($n===null?zl=$n=e:$n=$n.next=e),Bl=!0,mu||(mu=!0,gb())}function Za(e,i){if(!vu&&Bl){vu=!0;do for(var a=!1,o=zl;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var g=0;else{var A=o.suspendedLanes,w=o.pingedLanes;g=(1<<31-ve(42|e)+1)-1,g&=d&~(A&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Jp(o,g))}else g=Rt,g=qr(o,o===Gt?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||pa(o,g)||(a=!0,Jp(o,g));o=o.next}while(a);vu=!1}}function pb(){Wp()}function Wp(){Bl=mu=!1;var e=0;Qi!==0&&(Eb()&&(e=Qi),Qi=0);for(var i=fe(),a=null,o=zl;o!==null;){var d=o.next,g=Qp(o,i);g===0?(o.next=null,a===null?zl=d:a.next=d,d===null&&($n=a)):(a=o,(e!==0||(g&3)!==0)&&(Bl=!0)),o=d}Za(e)}function Qp(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var A=31-ve(g),w=1<<A,C=d[A];C===-1?((w&a)===0||(w&o)!==0)&&(d[A]=Uv(w,i)):C<=i&&(e.expiredLanes|=w),g&=~w}if(i=Gt,a=Rt,a=qr(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Lt(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pa(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Lt(o),Lo(a)){case 2:case 8:a=Hr;break;case 32:a=Is;break;case 268435456:a=Fr;break;default:a=Is}return o=Zp.bind(null,e),a=de(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Lt(o),e.callbackPriority=2,e.callbackNode=null,2}function Zp(e,i){if(_e!==0&&_e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Il()&&e.callbackNode!==a)return null;var o=Rt;return o=qr(e,e===Gt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(jp(e,o,i),Qp(e,fe()),e.callbackNode!=null&&e.callbackNode===a?Zp.bind(null,e):null)}function Jp(e,i){if(Il())return null;jp(e,i,!0)}function gb(){_b(function(){(Ot&6)!==0?de(ni,pb):Wp()})}function yu(){return Qi===0&&(Qi=Gh()),Qi}function tg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function eg(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function mb(e,i,a,o,d){if(i==="submit"&&a&&a.stateNode===d){var g=tg((d[Ue]||null).action),A=o.submitter;A&&(i=(i=A[Ue]||null)?tg(i.formAction):A.getAttribute("formAction"),i!==null&&(g=i,A=null));var w=new tl("action","action",null,o,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qi!==0){var C=A?eg(d,A):new FormData(d);zc(a,{pending:!0,data:C,method:d.method,action:g},null,C)}}else typeof g=="function"&&(w.preventDefault(),C=A?eg(d,A):new FormData(d),zc(a,{pending:!0,data:C,method:d.method,action:g},g,C))},currentTarget:d}]})}}for(var bu=0;bu<ic.length;bu++){var Au=ic[bu],vb=Au.toLowerCase(),yb=Au[0].toUpperCase()+Au.slice(1);ys(vb,"on"+yb)}ys(Od,"onAnimationEnd"),ys(jd,"onAnimationIteration"),ys(kd,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(ky,"onTransitionRun"),ys(Py,"onTransitionStart"),ys(Iy,"onTransitionCancel"),ys(Pd,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ki("onBeforeInput",["compositionend","keypress","textInput","paste"]),ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function sg(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],d=o.event;o=o.listeners;t:{var g=void 0;if(i)for(var A=o.length-1;0<=A;A--){var w=o[A],C=w.instance,I=w.currentTarget;if(w=w.listener,C!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=I;try{g(d)}catch(V){Tl(V)}d.currentTarget=null,g=C}else for(A=0;A<o.length;A++){if(w=o[A],C=w.instance,I=w.currentTarget,w=w.listener,C!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=I;try{g(d)}catch(V){Tl(V)}d.currentTarget=null,g=C}}}}function _t(e,i){var a=i[Oo];a===void 0&&(a=i[Oo]=new Set);var o=e+"__bubble";a.has(o)||(ig(i,e,2,!1),a.add(o))}function Su(e,i,a){var o=0;i&&(o|=4),ig(a,e,o,i)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function xu(e){if(!e[Ul]){e[Ul]=!0,Kh.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||Su(a,!1,e),Su(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ul]||(i[Ul]=!0,Su("selectionchange",!1,i))}}function ig(e,i,a,o){switch(Cg(i)){case 2:var d=Yb;break;case 8:d=Xb;break;default:d=Pu}a=d.bind(null,i,a,e),d=void 0,!Vo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(i,a,{capture:!0,passive:d}):e.addEventListener(i,a,!0):d!==void 0?e.addEventListener(i,a,{passive:d}):e.addEventListener(i,a,!1)}function Eu(e,i,a,o,d){var g=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var A=o.tag;if(A===3||A===4){var w=o.stateNode.containerInfo;if(w===d)break;if(A===4)for(A=o.return;A!==null;){var C=A.tag;if((C===3||C===4)&&A.stateNode.containerInfo===d)return;A=A.return}for(;w!==null;){if(A=gn(w),A===null)return;if(C=A.tag,C===5||C===6||C===26||C===27){o=g=A;continue t}w=w.parentNode}}o=o.return}cd(function(){var I=g,V=Fo(a),X=[];t:{var z=Id.get(e);if(z!==void 0){var U=tl,gt=e;switch(e){case"keypress":if(Zr(a)===0)break t;case"keydown":case"keyup":U=fy;break;case"focusin":gt="focus",U=$o;break;case"focusout":gt="blur",U=$o;break;case"beforeblur":case"afterblur":U=$o;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=my;break;case Od:case jd:case kd:U=ny;break;case Pd:U=yy;break;case"scroll":case"scrollend":U=Jv;break;case"wheel":U=Ay;break;case"copy":case"cut":case"paste":U=ry;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=pd;break;case"toggle":case"beforetoggle":U=xy}var ht=(i&4)!==0,Bt=!ht&&(e==="scroll"||e==="scrollend"),k=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=I,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=ya(D,k),Y!=null&&ht.push(tr(D,Y,P))),Bt)break;D=D.return}0<ht.length&&(z=new U(z,gt,null,a,V),X.push({event:z,listeners:ht}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",z&&a!==Ho&&(gt=a.relatedTarget||a.fromElement)&&(gn(gt)||gt[pn]))break t;if((U||z)&&(z=V.window===V?V:(z=V.ownerDocument)?z.defaultView||z.parentWindow:window,U?(gt=a.relatedTarget||a.toElement,U=I,gt=gt?gn(gt):null,gt!==null&&(Bt=l(gt),ht=gt.tag,gt!==Bt||ht!==5&&ht!==27&&ht!==6)&&(gt=null)):(U=null,gt=I),U!==gt)){if(ht=dd,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=pd,Y="onPointerLeave",k="onPointerEnter",D="pointer"),Bt=U==null?z:va(U),P=gt==null?z:va(gt),z=new ht(Y,D+"leave",U,a,V),z.target=Bt,z.relatedTarget=P,Y=null,gn(V)===I&&(ht=new ht(k,D+"enter",gt,a,V),ht.target=P,ht.relatedTarget=Bt,Y=ht),Bt=Y,U&&gt)e:{for(ht=U,k=gt,D=0,P=ht;P;P=Kn(P))D++;for(P=0,Y=k;Y;Y=Kn(Y))P++;for(;0<D-P;)ht=Kn(ht),D--;for(;0<P-D;)k=Kn(k),P--;for(;D--;){if(ht===k||k!==null&&ht===k.alternate)break e;ht=Kn(ht),k=Kn(k)}ht=null}else ht=null;U!==null&&ng(X,z,U,ht,!1),gt!==null&&Bt!==null&&ng(X,Bt,gt,ht,!0)}}t:{if(z=I?va(I):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var it=xd;else if(Ad(z))if(Ed)it=Ly;else{it=My;var Et=Ry}else U=z.nodeName,!U||U.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?I&&Uo(I.elementType)&&(it=xd):it=Dy;if(it&&(it=it(e,I))){Sd(X,it,a,V);break t}Et&&Et(e,z,I),e==="focusout"&&I&&z.type==="number"&&I.memoizedProps.value!=null&&Bo(z,"number",z.value)}switch(Et=I?va(I):window,e){case"focusin":(Ad(Et)||Et.contentEditable==="true")&&(_n=Et,tc=I,Ta=null);break;case"focusout":Ta=tc=_n=null;break;case"mousedown":ec=!0;break;case"contextmenu":case"mouseup":case"dragend":ec=!1,Dd(X,a,V);break;case"selectionchange":if(jy)break;case"keydown":case"keyup":Dd(X,a,V)}var rt;if(Wo)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else wn?yd(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(gd&&a.locale!=="ko"&&(wn||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&wn&&(rt=ud()):(ri=V,qo="value"in ri?ri.value:ri.textContent,wn=!0)),Et=Hl(I,dt),0<Et.length&&(dt=new fd(dt,e,null,a,V),X.push({event:dt,listeners:Et}),rt?dt.data=rt:(rt=bd(a),rt!==null&&(dt.data=rt)))),(rt=wy?_y(e,a):Ty(e,a))&&(dt=Hl(I,"onBeforeInput"),0<dt.length&&(Et=new fd("onBeforeInput","beforeinput",null,a,V),X.push({event:Et,listeners:dt}),Et.data=rt)),mb(X,e,I,a,V)}sg(X,i)})}function tr(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Hl(e,i){for(var a=i+"Capture",o=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=ya(e,a),d!=null&&o.unshift(tr(e,d,g)),d=ya(e,i),d!=null&&o.push(tr(e,d,g))),e.tag===3)return o;e=e.return}return[]}function Kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ng(e,i,a,o,d){for(var g=i._reactName,A=[];a!==null&&a!==o;){var w=a,C=w.alternate,I=w.stateNode;if(w=w.tag,C!==null&&C===o)break;w!==5&&w!==26&&w!==27||I===null||(C=I,d?(I=ya(a,g),I!=null&&A.unshift(tr(a,I,C))):d||(I=ya(a,g),I!=null&&A.push(tr(a,I,C)))),a=a.return}A.length!==0&&e.push({event:i,listeners:A})}var Ab=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function ag(e){return(typeof e=="string"?e:""+e).replace(Ab,`
`).replace(Sb,"")}function rg(e,i){return i=ag(i),ag(e)===i}function Fl(){}function zt(e,i,a,o,d,g){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Sn(e,""+o);break;case"className":Xr(e,"class",o);break;case"tabIndex":Xr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(e,a,o);break;case"style":ld(e,o,g);break;case"data":if(i!=="object"){Xr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Wr(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&zt(e,i,"name",d.name,d,null),zt(e,i,"formEncType",d.formEncType,d,null),zt(e,i,"formMethod",d.formMethod,d,null),zt(e,i,"formTarget",d.formTarget,d,null)):(zt(e,i,"encType",d.encType,d,null),zt(e,i,"method",d.method,d,null),zt(e,i,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Wr(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fl);break;case"onScroll":o!=null&&_t("scroll",e);break;case"onScrollEnd":o!=null&&_t("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(n(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Wr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":_t("beforetoggle",e),_t("toggle",e),Yr(e,"popover",o);break;case"xlinkActuate":zs(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":zs(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":zs(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":zs(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":zs(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":zs(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":zs(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":zs(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":zs(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Yr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qv.get(a)||a,Yr(e,a,o))}}function wu(e,i,a,o,d,g){switch(a){case"style":ld(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(n(61));if(a=o.__html,a!=null){if(d.children!=null)throw Error(n(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Sn(e,o):(typeof o=="number"||typeof o=="bigint")&&Sn(e,""+o);break;case"onScroll":o!=null&&_t("scroll",e);break;case"onScrollEnd":o!=null&&_t("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wh.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),g=e[Ue]||null,g=g!=null?g[a]:null,typeof g=="function"&&e.removeEventListener(i,g,d),typeof o=="function")){typeof g!="function"&&g!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,d);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Yr(e,a,o)}}}function Te(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",e),_t("load",e);var o=!1,d=!1,g;for(g in a)if(a.hasOwnProperty(g)){var A=a[g];if(A!=null)switch(g){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:zt(e,i,g,A,a,null)}}d&&zt(e,i,"srcSet",a.srcSet,a,null),o&&zt(e,i,"src",a.src,a,null);return;case"input":_t("invalid",e);var w=g=A=d=null,C=null,I=null;for(o in a)if(a.hasOwnProperty(o)){var V=a[o];if(V!=null)switch(o){case"name":d=V;break;case"type":A=V;break;case"checked":C=V;break;case"defaultChecked":I=V;break;case"value":g=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(137,i));break;default:zt(e,i,o,V,a,null)}}id(e,g,w,C,I,A,d,!1),$r(e);return;case"select":_t("invalid",e),o=A=g=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":A=w;break;case"multiple":o=w;default:zt(e,i,d,w,a,null)}i=g,a=A,e.multiple=!!o,i!=null?An(e,!!o,i,!1):a!=null&&An(e,!!o,a,!0);return;case"textarea":_t("invalid",e),g=d=o=null;for(A in a)if(a.hasOwnProperty(A)&&(w=a[A],w!=null))switch(A){case"value":o=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:zt(e,i,A,w,a,null)}ad(e,o,d,g),$r(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:zt(e,i,C,o,a,null)}return;case"dialog":_t("beforetoggle",e),_t("toggle",e),_t("cancel",e),_t("close",e);break;case"iframe":case"object":_t("load",e);break;case"video":case"audio":for(o=0;o<Ja.length;o++)_t(Ja[o],e);break;case"image":_t("error",e),_t("load",e);break;case"details":_t("toggle",e);break;case"embed":case"source":case"link":_t("error",e),_t("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:zt(e,i,I,o,a,null)}return;default:if(Uo(i)){for(V in a)a.hasOwnProperty(V)&&(o=a[V],o!==void 0&&wu(e,i,V,o,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(o=a[w],o!=null&&zt(e,i,w,o,a,null))}function xb(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,A=null,w=null,C=null,I=null,V=null;for(U in a){var X=a[U];if(a.hasOwnProperty(U)&&X!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(U)||zt(e,i,U,null,o,X)}}for(var z in o){var U=o[z];if(X=a[z],o.hasOwnProperty(z)&&(U!=null||X!=null))switch(z){case"type":g=U;break;case"name":d=U;break;case"checked":I=U;break;case"defaultChecked":V=U;break;case"value":A=U;break;case"defaultValue":w=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(137,i));break;default:U!==X&&zt(e,i,z,U,o,X)}}zo(e,A,w,C,I,V,g,d);return;case"select":U=A=w=z=null;for(g in a)if(C=a[g],a.hasOwnProperty(g)&&C!=null)switch(g){case"value":break;case"multiple":U=C;default:o.hasOwnProperty(g)||zt(e,i,g,null,o,C)}for(d in o)if(g=o[d],C=a[d],o.hasOwnProperty(d)&&(g!=null||C!=null))switch(d){case"value":z=g;break;case"defaultValue":w=g;break;case"multiple":A=g;default:g!==C&&zt(e,i,d,g,o,C)}i=w,a=A,o=U,z!=null?An(e,!!a,z,!1):!!o!=!!a&&(i!=null?An(e,!!a,i,!0):An(e,!!a,a?[]:"",!1));return;case"textarea":U=z=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:zt(e,i,w,null,o,d)}for(A in o)if(d=o[A],g=a[A],o.hasOwnProperty(A)&&(d!=null||g!=null))switch(A){case"value":z=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(n(91));break;default:d!==g&&zt(e,i,A,d,o,g)}nd(e,z,U);return;case"option":for(var gt in a)if(z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:zt(e,i,gt,null,o,z)}for(C in o)if(z=o[C],U=a[C],o.hasOwnProperty(C)&&z!==U&&(z!=null||U!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:zt(e,i,C,z,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)z=a[ht],a.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&zt(e,i,ht,null,o,z);for(I in o)if(z=o[I],U=a[I],o.hasOwnProperty(I)&&z!==U&&(z!=null||U!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(137,i));break;default:zt(e,i,I,z,o,U)}return;default:if(Uo(i)){for(var Bt in a)z=a[Bt],a.hasOwnProperty(Bt)&&z!==void 0&&!o.hasOwnProperty(Bt)&&wu(e,i,Bt,void 0,o,z);for(V in o)z=o[V],U=a[V],!o.hasOwnProperty(V)||z===U||z===void 0&&U===void 0||wu(e,i,V,z,o,U);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&zt(e,i,k,null,o,z);for(X in o)z=o[X],U=a[X],!o.hasOwnProperty(X)||z===U||z==null&&U==null||zt(e,i,X,z,o,U)}var _u=null,Tu=null;function Gl(e){return e.nodeType===9?e:e.ownerDocument}function lg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function og(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Cu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nu=null;function Eb(){var e=window.event;return e&&e.type==="popstate"?e===Nu?!1:(Nu=e,!0):(Nu=null,!1)}var cg=typeof setTimeout=="function"?setTimeout:void 0,wb=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,_b=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(e){return ug.resolve(null).then(e).catch(Tb)}:cg;function Tb(e){setTimeout(function(){throw e})}function xi(e){return e==="head"}function hg(e,i){var a=i,o=0,d=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<o&&8>o){a=o;var A=e.ownerDocument;if(a&1&&er(A.documentElement),a&2&&er(A.body),a&4)for(a=A.head,er(a),A=a.firstChild;A;){var w=A.nextSibling,C=A.nodeName;A[ma]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&A.rel.toLowerCase()==="stylesheet"||a.removeChild(A),A=w}}if(d===0){e.removeChild(g),cr(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:o=a.charCodeAt(0)-48;else o=0;a=g}while(a);cr(i)}function Ru(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ru(a),jo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Cb(e,i,a,o){for(;e.nodeType===1;){var d=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ma])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=As(e.nextSibling),e===null)break}return null}function Nb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=As(e.nextSibling),e===null))return null;return e}function Mu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Rb(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function As(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Du=null;function dg(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function fg(e,i,a){switch(i=Gl(a),e){case"html":if(e=i.documentElement,!e)throw Error(n(452));return e;case"head":if(e=i.head,!e)throw Error(n(453));return e;case"body":if(e=i.body,!e)throw Error(n(454));return e;default:throw Error(n(451))}}function er(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);jo(e)}var ps=new Map,pg=new Set;function Vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zs=B.d;B.d={f:Mb,r:Db,D:Lb,C:Ob,L:jb,m:kb,X:Ib,S:Pb,M:zb};function Mb(){var e=Zs.f(),i=kl();return e||i}function Db(e){var i=mn(e);i!==null&&i.tag===5&&i.type==="form"?jf(i):Zs.r(e)}var Wn=typeof document>"u"?null:document;function gg(e,i,a){var o=Wn;if(o&&typeof i=="string"&&i){var d=ls(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),pg.has(d)||(pg.add(d),e={rel:e,crossOrigin:a,href:i},o.querySelector(d)===null&&(i=o.createElement("link"),Te(i,"link",e),ye(i),o.head.appendChild(i)))}}function Lb(e){Zs.D(e),gg("dns-prefetch",e,null)}function Ob(e,i){Zs.C(e,i),gg("preconnect",e,i)}function jb(e,i,a){Zs.L(e,i,a);var o=Wn;if(o&&e&&i){var d='link[rel="preload"][as="'+ls(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+ls(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+ls(a.imageSizes)+'"]')):d+='[href="'+ls(e)+'"]';var g=d;switch(i){case"style":g=Qn(e);break;case"script":g=Zn(e)}ps.has(g)||(e=m({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),ps.set(g,e),o.querySelector(d)!==null||i==="style"&&o.querySelector(sr(g))||i==="script"&&o.querySelector(ir(g))||(i=o.createElement("link"),Te(i,"link",e),ye(i),o.head.appendChild(i)))}}function kb(e,i){Zs.m(e,i);var a=Wn;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+ls(o)+'"][href="'+ls(e)+'"]',g=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zn(e)}if(!ps.has(g)&&(e=m({rel:"modulepreload",href:e},i),ps.set(g,e),a.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ir(g)))return}o=a.createElement("link"),Te(o,"link",e),ye(o),a.head.appendChild(o)}}}function Pb(e,i,a){Zs.S(e,i,a);var o=Wn;if(o&&e){var d=vn(o).hoistableStyles,g=Qn(e);i=i||"default";var A=d.get(g);if(!A){var w={loading:0,preload:null};if(A=o.querySelector(sr(g)))w.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":i},a),(a=ps.get(g))&&Lu(e,a);var C=A=o.createElement("link");ye(C),Te(C,"link",e),C._p=new Promise(function(I,V){C.onload=I,C.onerror=V}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ql(A,i,o)}A={type:"stylesheet",instance:A,count:1,state:w},d.set(g,A)}}}function Ib(e,i){Zs.X(e,i);var a=Wn;if(a&&e){var o=vn(a).hoistableScripts,d=Zn(e),g=o.get(d);g||(g=a.querySelector(ir(d)),g||(e=m({src:e,async:!0},i),(i=ps.get(d))&&Ou(e,i),g=a.createElement("script"),ye(g),Te(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function zb(e,i){Zs.M(e,i);var a=Wn;if(a&&e){var o=vn(a).hoistableScripts,d=Zn(e),g=o.get(d);g||(g=a.querySelector(ir(d)),g||(e=m({src:e,async:!0,type:"module"},i),(i=ps.get(d))&&Ou(e,i),g=a.createElement("script"),ye(g),Te(g,"link",e),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(d,g))}}function mg(e,i,a,o){var d=(d=nt.current)?Vl(d):null;if(!d)throw Error(n(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qn(a.href),a=vn(d).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Qn(a.href);var g=vn(d).hoistableStyles,A=g.get(e);if(A||(d=d.ownerDocument||d,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,A),(g=d.querySelector(sr(e)))&&!g._p&&(A.instance=g,A.state.loading=5),ps.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ps.set(e,a),g||Bb(d,e,a,A.state))),i&&o===null)throw Error(n(528,""));return A}if(i&&o!==null)throw Error(n(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Zn(a),a=vn(d).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,e))}}function Qn(e){return'href="'+ls(e)+'"'}function sr(e){return'link[rel="stylesheet"]['+e+"]"}function vg(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Bb(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Te(i,"link",a),ye(i),e.head.appendChild(i))}function Zn(e){return'[src="'+ls(e)+'"]'}function ir(e){return"script[async]"+e}function yg(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ls(a.href)+'"]');if(o)return i.instance=o,ye(o),o;var d=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ye(o),Te(o,"style",d),ql(o,a.precedence,e),i.instance=o;case"stylesheet":d=Qn(a.href);var g=e.querySelector(sr(d));if(g)return i.state.loading|=4,i.instance=g,ye(g),g;o=vg(a),(d=ps.get(d))&&Lu(o,d),g=(e.ownerDocument||e).createElement("link"),ye(g);var A=g;return A._p=new Promise(function(w,C){A.onload=w,A.onerror=C}),Te(g,"link",o),i.state.loading|=4,ql(g,a.precedence,e),i.instance=g;case"script":return g=Zn(a.src),(d=e.querySelector(ir(g)))?(i.instance=d,ye(d),d):(o=a,(d=ps.get(g))&&(o=m({},a),Ou(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),ye(d),Te(d,"link",o),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,ql(o,a.precedence,e));return i.instance}function ql(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,g=d,A=0;A<o.length;A++){var w=o[A];if(w.dataset.precedence===i)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Lu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Ou(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Yl=null;function bg(e,i,a){if(Yl===null){var o=new Map,d=Yl=new Map;d.set(a,o)}else d=Yl,o=d.get(a),o||(o=new Map,d.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),d=0;d<a.length;d++){var g=a[d];if(!(g[ma]||g[Re]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(i)||"";A=e+A;var w=o.get(A);w?w.push(g):o.set(A,[g])}}return o}function Ag(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Ub(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Sg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nr=null;function Hb(){}function Fb(e,i,a){if(nr===null)throw Error(n(475));var o=nr;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Qn(a.href),g=e.querySelector(sr(d));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Xl.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=g,ye(g);return}g=e.ownerDocument||e,a=vg(a),(d=ps.get(d))&&Lu(a,d),g=g.createElement("link"),ye(g);var A=g;A._p=new Promise(function(w,C){A.onload=w,A.onerror=C}),Te(g,"link",a),i.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Xl.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function Gb(){if(nr===null)throw Error(n(475));var e=nr;return e.stylesheets&&e.count===0&&ju(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&ju(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Xl(){if(this.count--,this.count===0){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $l=null;function ju(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$l=new Map,i.forEach(Vb,e),$l=null,Xl.call(e))}function Vb(e,i){if(!(i.state.loading&4)){var a=$l.get(e);if(a)var o=a.get(null);else{a=new Map,$l.set(e,a);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var A=d[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),o=A)}o&&a.set(null,o)}d=i.instance,A=d.getAttribute("data-precedence"),g=a.get(A)||o,g===o&&a.set(null,d),a.set(A,d),this.count++,o=Xl.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var ar={$$typeof:N,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function qb(e,i,a,o,d,g,A,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.hiddenUpdates=Mo(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function xg(e,i,a,o,d,g,A,w,C,I,V,X){return e=new qb(e,i,a,A,w,C,I,X),i=1,g===!0&&(i|=24),g=Qe(3,null,null,i),e.current=g,g.stateNode=e,i=gc(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:o,isDehydrated:a,cache:i},bc(g),e}function Eg(e){return e?(e=Rn,e):Rn}function wg(e,i,a,o,d,g){d=Eg(d),o.context===null?o.context=d:o.pendingContext=d,o=ci(i),o.payload={element:a},g=g===void 0?null:g,g!==null&&(o.callback=g),a=ui(e,o,i),a!==null&&(ss(a,e,i),ka(a,e,i))}function _g(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ku(e,i){_g(e,i),(e=e.alternate)&&_g(e,i)}function Tg(e){if(e.tag===13){var i=Nn(e,67108864);i!==null&&ss(i,e,67108864),ku(e,67108864)}}var Kl=!0;function Yb(e,i,a,o){var d=L.T;L.T=null;var g=B.p;try{B.p=2,Pu(e,i,a,o)}finally{B.p=g,L.T=d}}function Xb(e,i,a,o){var d=L.T;L.T=null;var g=B.p;try{B.p=8,Pu(e,i,a,o)}finally{B.p=g,L.T=d}}function Pu(e,i,a,o){if(Kl){var d=Iu(o);if(d===null)Eu(e,i,o,Wl,a),Ng(e,o);else if(Kb(d,e,i,a,o))o.stopPropagation();else if(Ng(e,o),i&4&&-1<$b.indexOf(e)){for(;d!==null;){var g=mn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=ji(g.pendingLanes);if(A!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;A;){var C=1<<31-ve(A);w.entanglements[1]|=C,A&=~C}Ns(g),(Ot&6)===0&&(Ol=fe()+500,Za(0))}}break;case 13:w=Nn(g,2),w!==null&&ss(w,g,2),kl(),ku(g,2)}if(g=Iu(o),g===null&&Eu(e,i,o,Wl,a),g===d)break;d=g}d!==null&&o.stopPropagation()}else Eu(e,i,o,null,a)}}function Iu(e){return e=Fo(e),zu(e)}var Wl=null;function zu(e){if(Wl=null,e=gn(e),e!==null){var i=l(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=c(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Wl=e,null}function Cg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case ni:return 2;case Hr:return 8;case Is:case Co:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Bu=!1,Ei=null,wi=null,_i=null,rr=new Map,lr=new Map,Ti=[],$b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ng(e,i){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":rr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(i.pointerId)}}function or(e,i,a,o,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:g,targetContainers:[d]},i!==null&&(i=mn(i),i!==null&&Tg(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function Kb(e,i,a,o,d){switch(i){case"focusin":return Ei=or(Ei,e,i,a,o,d),!0;case"dragenter":return wi=or(wi,e,i,a,o,d),!0;case"mouseover":return _i=or(_i,e,i,a,o,d),!0;case"pointerover":var g=d.pointerId;return rr.set(g,or(rr.get(g)||null,e,i,a,o,d)),!0;case"gotpointercapture":return g=d.pointerId,lr.set(g,or(lr.get(g)||null,e,i,a,o,d)),!0}return!1}function Rg(e){var i=gn(e.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){e.blockedOn=i,Fv(e.priority,function(){if(a.tag===13){var o=es();o=Do(o);var d=Nn(a,o);d!==null&&ss(d,a,o),ku(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Iu(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ho=o,a.target.dispatchEvent(o),Ho=null}else return i=mn(a),i!==null&&Tg(i),e.blockedOn=a,!1;i.shift()}return!0}function Mg(e,i,a){Ql(e)&&a.delete(i)}function Wb(){Bu=!1,Ei!==null&&Ql(Ei)&&(Ei=null),wi!==null&&Ql(wi)&&(wi=null),_i!==null&&Ql(_i)&&(_i=null),rr.forEach(Mg),lr.forEach(Mg)}function Zl(e,i){e.blockedOn===i&&(e.blockedOn=null,Bu||(Bu=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,Wb)))}var Jl=null;function Dg(e){Jl!==e&&(Jl=e,h.unstable_scheduleCallback(h.unstable_NormalPriority,function(){Jl===e&&(Jl=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],d=e[i+2];if(typeof o!="function"){if(zu(o||a)===null)continue;break}var g=mn(a);g!==null&&(e.splice(i,3),i-=3,zc(g,{pending:!0,data:d,method:a.method,action:o},o,d))}}))}function cr(e){function i(C){return Zl(C,e)}Ei!==null&&Zl(Ei,e),wi!==null&&Zl(wi,e),_i!==null&&Zl(_i,e),rr.forEach(i),lr.forEach(i);for(var a=0;a<Ti.length;a++){var o=Ti[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ti.length&&(a=Ti[0],a.blockedOn===null);)Rg(a),a.blockedOn===null&&Ti.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var d=a[o],g=a[o+1],A=d[Ue]||null;if(typeof g=="function")A||Dg(a);else if(A){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,A=g[Ue]||null)w=A.formAction;else if(zu(d)!==null)continue}else w=A.action;typeof w=="function"?a[o+1]=w:(a.splice(o,3),o-=3),Dg(a)}}}function Uu(e){this._internalRoot=e}to.prototype.render=Uu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(n(409));var a=i.current,o=es();wg(a,o,e,i,null,null)},to.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;wg(e.current,2,null,e,null,null),kl(),i[pn]=null}};function to(e){this._internalRoot=e}to.prototype.unstable_scheduleHydration=function(e){if(e){var i=Xh();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ti.length&&i!==0&&i<Ti[a].priority;a++);Ti.splice(a,0,e),a===0&&Rg(e)}};var Lg=t.version;if(Lg!=="19.1.0")throw Error(n(527,Lg,"19.1.0"));B.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=f(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Qb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Oi=eo.inject(Qb),ae=eo}catch{}}return hr.createRoot=function(e,i){if(!r(e))throw Error(n(299));var a=!1,o="",d=$f,g=Kf,A=Wf,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=xg(e,1,!1,null,null,a,o,d,g,A,w,null),e[pn]=i.current,xu(e),new Uu(i)},hr.hydrateRoot=function(e,i,a){if(!r(e))throw Error(n(299));var o=!1,d="",g=$f,A=Kf,w=Wf,C=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),i=xg(e,1,!0,i,a??null,o,d,g,A,w,C,I),i.context=Eg(null),a=i.current,o=es(),o=Do(o),d=ci(o),d.callback=null,ui(a,d,o),a=o,i.current.lanes=a,ga(i,a),Ns(i),e[pn]=i.current,xu(e),new to(i)},hr.version="19.1.0",hr}var Vg;function c0(){if(Vg)return Vu.exports;Vg=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(t){console.error(t)}}return h(),Vu.exports=o0(),Vu.exports}var u0=c0();Dm();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sr(){return Sr=Object.assign?Object.assign.bind():function(h){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(h[n]=s[n])}return h},Sr.apply(this,arguments)}var Mi;(function(h){h.Pop="POP",h.Push="PUSH",h.Replace="REPLACE"})(Mi||(Mi={}));const qg="popstate";function h0(h){h===void 0&&(h={});function t(r,l){let{pathname:c="/",search:u="",hash:f=""}=cn(r.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),nh("",{pathname:c,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(r,l){let c=r.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=r.location.href,p=f.indexOf("#");u=p===-1?f:f.slice(0,p)}return u+"#"+(typeof l=="string"?l:ho(l))}function n(r,l){bh(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return f0(t,s,n,h)}function ue(h,t){if(h===!1||h===null||typeof h>"u")throw new Error(t)}function bh(h,t){if(!h){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d0(){return Math.random().toString(36).substr(2,8)}function Yg(h,t){return{usr:h.state,key:h.key,idx:t}}function nh(h,t,s,n){return s===void 0&&(s=null),Sr({pathname:typeof h=="string"?h:h.pathname,search:"",hash:""},typeof t=="string"?cn(t):t,{state:s,key:t&&t.key||n||d0()})}function ho(h){let{pathname:t="/",search:s="",hash:n=""}=h;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cn(h){let t={};if(h){let s=h.indexOf("#");s>=0&&(t.hash=h.substr(s),h=h.substr(0,s));let n=h.indexOf("?");n>=0&&(t.search=h.substr(n),h=h.substr(0,n)),h&&(t.pathname=h)}return t}function f0(h,t,s,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:l=!1}=n,c=r.history,u=Mi.Pop,f=null,p=m();p==null&&(p=0,c.replaceState(Sr({},c.state,{idx:p}),""));function m(){return(c.state||{idx:null}).idx}function y(){u=Mi.Pop;let _=m(),T=_==null?null:_-p;p=_,f&&f({action:u,location:x.location,delta:T})}function b(_,T){u=Mi.Push;let O=nh(x.location,_,T);s&&s(O,_),p=m()+1;let N=Yg(O,p),j=x.createHref(O);try{c.pushState(N,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(j)}l&&f&&f({action:u,location:x.location,delta:1})}function S(_,T){u=Mi.Replace;let O=nh(x.location,_,T);s&&s(O,_),p=m();let N=Yg(O,p),j=x.createHref(O);c.replaceState(N,"",j),l&&f&&f({action:u,location:x.location,delta:0})}function E(_){let T=r.location.origin!=="null"?r.location.origin:r.location.href,O=typeof _=="string"?_:ho(_);return O=O.replace(/ $/,"%20"),ue(T,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,T)}let x={get action(){return u},get location(){return h(r,c)},listen(_){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(qg,y),f=_,()=>{r.removeEventListener(qg,y),f=null}},createHref(_){return t(r,_)},createURL:E,encodeLocation(_){let T=E(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:b,replace:S,go(_){return c.go(_)}};return x}var Xg;(function(h){h.data="data",h.deferred="deferred",h.redirect="redirect",h.error="error"})(Xg||(Xg={}));function p0(h,t,s){return s===void 0&&(s="/"),g0(h,t,s)}function g0(h,t,s,n){let r=typeof t=="string"?cn(t):t,l=Ah(r.pathname||"/",s);if(l==null)return null;let c=Lm(h);m0(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let p=N0(l);u=_0(c[f],p)}return u}function Lm(h,t,s,n){t===void 0&&(t=[]),s===void 0&&(s=[]),n===void 0&&(n="");let r=(l,c,u)=>{let f={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(ue(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let p=Di([n,f.relativePath]),m=s.concat(f);l.children&&l.children.length>0&&(ue(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Lm(l.children,t,m,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:E0(p,l.index),routesMeta:m})};return h.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))r(l,c);else for(let f of Om(l.path))r(l,c,f)}),t}function Om(h){let t=h.split("/");if(t.length===0)return[];let[s,...n]=t,r=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return r?[l,""]:[l];let c=Om(n.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),r&&u.push(...c),u.map(f=>h.startsWith("/")&&f===""?"/":f)}function m0(h){h.sort((t,s)=>t.score!==s.score?s.score-t.score:w0(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const v0=/^:[\w-]+$/,y0=3,b0=2,A0=1,S0=10,x0=-2,$g=h=>h==="*";function E0(h,t){let s=h.split("/"),n=s.length;return s.some($g)&&(n+=x0),t&&(n+=b0),s.filter(r=>!$g(r)).reduce((r,l)=>r+(v0.test(l)?y0:l===""?A0:S0),n)}function w0(h,t){return h.length===t.length&&h.slice(0,-1).every((n,r)=>n===t[r])?h[h.length-1]-t[t.length-1]:0}function _0(h,t,s){let{routesMeta:n}=h,r={},l="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],p=u===n.length-1,m=l==="/"?t:t.slice(l.length)||"/",y=T0({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),b=f.route;if(!y)return null;Object.assign(r,y.params),c.push({params:r,pathname:Di([l,y.pathname]),pathnameBase:L0(Di([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Di([l,y.pathnameBase]))}return c}function T0(h,t){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[s,n]=C0(h.path,h.caseSensitive,h.end),r=t.match(s);if(!r)return null;let l=r[0],c=l.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:n.reduce((p,m,y)=>{let{paramName:b,isOptional:S}=m;if(b==="*"){let x=u[y]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const E=u[y];return S&&!E?p[b]=void 0:p[b]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:h}}function C0(h,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),bh(h==="*"||!h.endsWith("*")||h.endsWith("/*"),'Route path "'+h+'" will be treated as if it were '+('"'+h.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+h.replace(/\*$/,"/*")+'".'));let n=[],r="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return h.endsWith("*")?(n.push({paramName:"*"}),r+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":h!==""&&h!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function N0(h){try{return h.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bh(!1,'The URL path "'+h+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),h}}function Ah(h,t){if(t==="/")return h;if(!h.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=h.charAt(s);return n&&n!=="/"?null:h.slice(s)||"/"}function R0(h,t){t===void 0&&(t="/");let{pathname:s,search:n="",hash:r=""}=typeof h=="string"?cn(h):h;return{pathname:s?s.startsWith("/")?s:M0(s,t):t,search:O0(n),hash:j0(r)}}function M0(h,t){let s=t.replace(/\/+$/,"").split("/");return h.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function $u(h,t,s,n){return"Cannot include a '"+h+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D0(h){return h.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function jm(h,t){let s=D0(h);return t?s.map((n,r)=>r===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function km(h,t,s,n){n===void 0&&(n=!1);let r;typeof h=="string"?r=cn(h):(r=Sr({},h),ue(!r.pathname||!r.pathname.includes("?"),$u("?","pathname","search",r)),ue(!r.pathname||!r.pathname.includes("#"),$u("#","pathname","hash",r)),ue(!r.search||!r.search.includes("#"),$u("#","search","hash",r)));let l=h===""||r.pathname==="",c=l?"/":r.pathname,u;if(c==null)u=s;else{let y=t.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;r.pathname=b.join("/")}u=y>=0?t[y]:"/"}let f=R0(r,u),p=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}const Di=h=>h.join("/").replace(/\/\/+/g,"/"),L0=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),O0=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,j0=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h;function k0(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}const Pm=["post","put","patch","delete"];new Set(Pm);const P0=["get",...Pm];new Set(P0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xr(){return xr=Object.assign?Object.assign.bind():function(h){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(h[n]=s[n])}return h},xr.apply(this,arguments)}const Sh=G.createContext(null),I0=G.createContext(null),un=G.createContext(null),mo=G.createContext(null),hn=G.createContext({outlet:null,matches:[],isDataRoute:!1}),Im=G.createContext(null);function z0(h,t){let{relative:s}=t===void 0?{}:t;Nr()||ue(!1);let{basename:n,navigator:r}=G.useContext(un),{hash:l,pathname:c,search:u}=Bm(h,{relative:s}),f=c;return n!=="/"&&(f=c==="/"?n:Di([n,c])),r.createHref({pathname:f,search:u,hash:l})}function Nr(){return G.useContext(mo)!=null}function Rr(){return Nr()||ue(!1),G.useContext(mo).location}function zm(h){G.useContext(un).static||G.useLayoutEffect(h)}function B0(){let{isDataRoute:h}=G.useContext(hn);return h?Z0():U0()}function U0(){Nr()||ue(!1);let h=G.useContext(Sh),{basename:t,future:s,navigator:n}=G.useContext(un),{matches:r}=G.useContext(hn),{pathname:l}=Rr(),c=JSON.stringify(jm(r,s.v7_relativeSplatPath)),u=G.useRef(!1);return zm(()=>{u.current=!0}),G.useCallback(function(p,m){if(m===void 0&&(m={}),!u.current)return;if(typeof p=="number"){n.go(p);return}let y=km(p,JSON.parse(c),l,m.relative==="path");h==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Di([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,c,l,h])}function Bm(h,t){let{relative:s}=t===void 0?{}:t,{future:n}=G.useContext(un),{matches:r}=G.useContext(hn),{pathname:l}=Rr(),c=JSON.stringify(jm(r,n.v7_relativeSplatPath));return G.useMemo(()=>km(h,JSON.parse(c),l,s==="path"),[h,c,l,s])}function H0(h,t){return F0(h,t)}function F0(h,t,s,n){Nr()||ue(!1);let{navigator:r}=G.useContext(un),{matches:l}=G.useContext(hn),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let p=Rr(),m;if(t){var y;let _=typeof t=="string"?cn(t):t;f==="/"||(y=_.pathname)!=null&&y.startsWith(f)||ue(!1),m=_}else m=p;let b=m.pathname||"/",S=b;if(f!=="/"){let _=f.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=p0(h,{pathname:S}),x=X0(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Di([f,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Di([f,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,s,n);return t&&x?G.createElement(mo.Provider,{value:{location:xr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Mi.Pop}},x):x}function G0(){let h=Q0(),t=k0(h)?h.status+" "+h.statusText:h instanceof Error?h.message:JSON.stringify(h),s=h instanceof Error?h.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),s?G.createElement("pre",{style:r},s):null,null)}const V0=G.createElement(G0,null);class q0 extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?G.createElement(hn.Provider,{value:this.props.routeContext},G.createElement(Im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y0(h){let{routeContext:t,match:s,children:n}=h,r=G.useContext(Sh);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),G.createElement(hn.Provider,{value:t},n)}function X0(h,t,s,n){var r;if(t===void 0&&(t=[]),s===void 0&&(s=null),n===void 0&&(n=null),h==null){var l;if(!s)return null;if(s.errors)h=s.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)h=s.matches;else return null}let c=h,u=(r=s)==null?void 0:r.errors;if(u!=null){let m=c.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);m>=0||ue(!1),c=c.slice(0,Math.min(c.length,m+1))}let f=!1,p=-1;if(s&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let y=c[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:b,errors:S}=s,E=y.route.loader&&b[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||E){f=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,y,b)=>{let S,E=!1,x=null,_=null;s&&(S=u&&y.route.id?u[y.route.id]:void 0,x=y.route.errorElement||V0,f&&(p<0&&b===0?(J0("route-fallback"),E=!0,_=null):p===b&&(E=!0,_=y.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,b+1)),O=()=>{let N;return S?N=x:E?N=_:y.route.Component?N=G.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=m,G.createElement(Y0,{match:y,routeContext:{outlet:m,matches:T,isDataRoute:s!=null},children:N})};return s&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?G.createElement(q0,{location:s.location,revalidation:s.revalidation,component:x,error:S,children:O(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):O()},null)}var Um=function(h){return h.UseBlocker="useBlocker",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h}(Um||{}),Hm=function(h){return h.UseBlocker="useBlocker",h.UseLoaderData="useLoaderData",h.UseActionData="useActionData",h.UseRouteError="useRouteError",h.UseNavigation="useNavigation",h.UseRouteLoaderData="useRouteLoaderData",h.UseMatches="useMatches",h.UseRevalidator="useRevalidator",h.UseNavigateStable="useNavigate",h.UseRouteId="useRouteId",h}(Hm||{});function $0(h){let t=G.useContext(Sh);return t||ue(!1),t}function K0(h){let t=G.useContext(I0);return t||ue(!1),t}function W0(h){let t=G.useContext(hn);return t||ue(!1),t}function Fm(h){let t=W0(),s=t.matches[t.matches.length-1];return s.route.id||ue(!1),s.route.id}function Q0(){var h;let t=G.useContext(Im),s=K0(),n=Fm();return t!==void 0?t:(h=s.errors)==null?void 0:h[n]}function Z0(){let{router:h}=$0(Um.UseNavigateStable),t=Fm(Hm.UseNavigateStable),s=G.useRef(!1);return zm(()=>{s.current=!0}),G.useCallback(function(r,l){l===void 0&&(l={}),s.current&&(typeof r=="number"?h.navigate(r):h.navigate(r,xr({fromRouteId:t},l)))},[h,t])}const Kg={};function J0(h,t,s){Kg[h]||(Kg[h]=!0)}function tA(h,t){h?.v7_startTransition,h?.v7_relativeSplatPath}function ta(h){ue(!1)}function eA(h){let{basename:t="/",children:s=null,location:n,navigationType:r=Mi.Pop,navigator:l,static:c=!1,future:u}=h;Nr()&&ue(!1);let f=t.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:f,navigator:l,static:c,future:xr({v7_relativeSplatPath:!1},u)}),[f,u,l,c]);typeof n=="string"&&(n=cn(n));let{pathname:m="/",search:y="",hash:b="",state:S=null,key:E="default"}=n,x=G.useMemo(()=>{let _=Ah(m,f);return _==null?null:{location:{pathname:_,search:y,hash:b,state:S,key:E},navigationType:r}},[f,m,y,b,S,E,r]);return x==null?null:G.createElement(un.Provider,{value:p},G.createElement(mo.Provider,{children:s,value:x}))}function sA(h){let{children:t,location:s}=h;return H0(ah(t),s)}new Promise(()=>{});function ah(h,t){t===void 0&&(t=[]);let s=[];return G.Children.forEach(h,(n,r)=>{if(!G.isValidElement(n))return;let l=[...t,r];if(n.type===G.Fragment){s.push.apply(s,ah(n.props.children,l));return}n.type!==ta&&ue(!1),!n.props.index||!n.props.children||ue(!1);let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ah(n.props.children,l)),s.push(c)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(h){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(h[n]=s[n])}return h},rh.apply(this,arguments)}function iA(h,t){if(h==null)return{};var s={},n=Object.keys(h),r,l;for(l=0;l<n.length;l++)r=n[l],!(t.indexOf(r)>=0)&&(s[r]=h[r]);return s}function nA(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function aA(h,t){return h.button===0&&(!t||t==="_self")&&!nA(h)}const rA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lA="6";try{window.__reactRouterVersion=lA}catch{}const oA="startTransition",Wg=n0[oA];function cA(h){let{basename:t,children:s,future:n,window:r}=h,l=G.useRef();l.current==null&&(l.current=h0({window:r,v5Compat:!0}));let c=l.current,[u,f]=G.useState({action:c.action,location:c.location}),{v7_startTransition:p}=n||{},m=G.useCallback(y=>{p&&Wg?Wg(()=>f(y)):f(y)},[f,p]);return G.useLayoutEffect(()=>c.listen(m),[c,m]),G.useEffect(()=>tA(n),[n]),G.createElement(eA,{basename:t,children:s,location:u.location,navigationType:u.action,navigator:c,future:n})}const uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=G.forwardRef(function(t,s){let{onClick:n,relative:r,reloadDocument:l,replace:c,state:u,target:f,to:p,preventScrollReset:m,viewTransition:y}=t,b=iA(t,rA),{basename:S}=G.useContext(un),E,x=!1;if(typeof p=="string"&&hA.test(p)&&(E=p,uA))try{let N=new URL(window.location.href),j=p.startsWith("//")?new URL(N.protocol+p):new URL(p),M=Ah(j.pathname,S);j.origin===N.origin&&M!=null?p=M+j.search+j.hash:x=!0}catch{}let _=z0(p,{relative:r}),T=dA(p,{replace:c,state:u,target:f,preventScrollReset:m,relative:r,viewTransition:y});function O(N){n&&n(N),N.defaultPrevented||T(N)}return G.createElement("a",rh({},b,{href:E||_,onClick:x||l?n:O,ref:s,target:f}))});var Qg;(function(h){h.UseScrollRestoration="useScrollRestoration",h.UseSubmit="useSubmit",h.UseSubmitFetcher="useSubmitFetcher",h.UseFetcher="useFetcher",h.useViewTransitionState="useViewTransitionState"})(Qg||(Qg={}));var Zg;(function(h){h.UseFetcher="useFetcher",h.UseFetchers="useFetchers",h.UseScrollRestoration="useScrollRestoration"})(Zg||(Zg={}));function dA(h,t){let{target:s,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:u}=t===void 0?{}:t,f=B0(),p=Rr(),m=Bm(h,{relative:c});return G.useCallback(y=>{if(aA(y,s)){y.preventDefault();let b=n!==void 0?n:ho(p)===ho(m);f(h,{replace:b,state:r,preventScrollReset:l,relative:c,viewTransition:u})}},[p,f,m,n,r,s,h,l,c,u])}const lh=[{name:"GitHub",url:"https://github.com/JustinAngara",icon:""},{name:"LinkedIn",url:"https://www.linkedin.com/in/justinangara/",icon:""},{name:"Email",url:"mailto:justin.angara@gmail.com",icon:""},{name:"Website",url:"https://justinangara.github.io/personal-website/",icon:""}],aa={languages:["C/C++","Java","JavaScript/TypeScript","Python"],technologies:["AWS","ReactJS","Springboot","Flask","MongoDB","MySQL","RESTful API","WebSocket","OpenCV","Unity","OpenAI/GPT"],concepts:["Database Theory & Security","Git","Image Processing","Computer Vision","Process Injection","Kernel Development","Reverse Engineering","Automation","AR/VR Development"]},Ni={email:"justin.angara@gmail.com",phone:"(630) 589-6140",location:"Chicago, IL",availability:"Available for new opportunities"},Ne={name:"Justin Angara",title:"Full-Stack & Kernel Developer",description:"Curious full-stack & kernel + systems-focused developer passionate about reverse-engineering and automation.",website:"https://justinangara.github.io/personal-website/",linkedin:"https://www.linkedin.com/in/justinangara/",github:"https://github.com/JustinAngara"},fA=[{title:"Software Engineer Contractor for Telecom Data Tools & AI/GPT Integration",company:"Fortune 500 Wireless Industry Client",location:"Chicago, IL",period:"May 2025 - Present",highlights:["Designed Python-based tools to parse, clean, and transform multiple network configuration files in XML","Analyzed telecom parameters (e.g., NRCELL, cellBwpList) to support internal data (over 1000+ IDs)","Built custom GPT-powered scripts to explain 5+ technical configurations for easier communication","Created visualizations of 100+ US network sites to identify overlap, dead zones, and coverage gaps"]},{title:"Full-Stack Software Engineering Internship",company:"OpenQQuantify",location:"Vienna, VA",period:"May 2025  Present",highlights:["Recording 10+ technical walkthroughs on Flask systems (auth & SQLAlchemy) with GitHub demos","Building modular Flask apps with HTML/Junja, JavaScript, and WebSockets that integrate Open AI tools","Contributing to multiple company domains through open source development"]},{title:"AI & Prototyping Engineer | Innovation & Venture Fellowship",company:"Tech Exploration Lab - University of Wisconsin-Madison",location:"Madison, WI",period:"June 2025  August 2025",highlights:["Researching AR/CV stacks (OpenCV & Unity) for vehicle condition detection in rental workflows","Building low-fidelity AI-assisted AR check-in flow demos and testing 3+ use cases for damage","Conducting user interviews and mapping the rental workflow to validate the demand for AR conditions","Delivering final demo + memo evaluating options (i.e., partners) based on prototype feedback"]},{title:"Advanced Placement Computer Science Teacher Assistant",company:"St. Charles East High School",location:"St Charles, Illinois",period:"August 2022 - August 2023",highlights:["Assisted students in understanding core computer science concepts, including object-oriented programming, data structures, and Java syntax","Reviewed and debugged student code, providing personalized feedback on coding logic and problem-solving strategies","Helped students prepare for the Advanced Placement Exam by explaining common problem-solving strategies","Led group discussions through the Code Club on workforce programming concepts and held office hours to help students debug their projects"]},{title:"Front-End Software Engineering Internship",company:"Comet",location:"Santa Clara, CA",period:"October 2022 - January 2023",highlights:["Contributed to 5+ cross-functional projects across engineering, enhancing testing, and UI/UX design","Selected as Intern of the Week (Top 7%) for initiative during the software delivery cycle","Assisted in internal development efforts that contributed to website features and UI improvements"]}],Jn={university:"University of Wisconsin-Madison",degree:"Bachelor of Science, Double Major in Computer Science and Economics",graduation:"May 2027",highlights:["Pi Kappa Phi Fraternity Recruitment Chair: Organized social events for 1000+ underclassmen students"],bootcamp:{name:"QuickStart (formerly Promineo Tech) Software Engineering Bootcamp",status:"Graduated"}},pA=()=>{const[h,t]=G.useState(!1),s=()=>{t(!h)};return v.jsx("header",{className:"header",children:v.jsxs("div",{className:"header-container",children:[v.jsx(xs,{to:"/",className:"logo",children:v.jsx("span",{className:"logo-text",children:Ne.name.split(" ")[0]})}),v.jsx("nav",{className:`nav ${h?"nav-open":""}`,children:v.jsxs("ul",{className:"nav-list",children:[v.jsx("li",{children:v.jsx(xs,{to:"/",className:"nav-link",onClick:()=>t(!1),children:"Home"})}),v.jsx("li",{children:v.jsx(xs,{to:"/about",className:"nav-link",onClick:()=>t(!1),children:"About"})}),v.jsx("li",{children:v.jsx(xs,{to:"/projects",className:"nav-link",onClick:()=>t(!1),children:"Projects"})}),v.jsx("li",{children:v.jsx(xs,{to:"/skills",className:"nav-link",onClick:()=>t(!1),children:"Skills"})}),v.jsx("li",{children:v.jsx(xs,{to:"/contact",className:"nav-link",onClick:()=>t(!1),children:"Contact"})})]})}),v.jsxs("button",{className:`hamburger ${h?"hamburger-open":""}`,onClick:s,"aria-label":"Toggle menu",children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]})]})})},gA=()=>v.jsx("footer",{className:"footer",children:v.jsxs("div",{className:"footer-container",children:[v.jsxs("div",{className:"footer-content",children:[v.jsxs("div",{className:"footer-section",children:[v.jsx("h3",{className:"footer-title",children:Ne.name}),v.jsx("p",{className:"footer-description",children:Ne.description})]}),v.jsxs("div",{className:"footer-section",children:[v.jsx("h4",{className:"footer-subtitle",children:"Quick Links"}),v.jsxs("ul",{className:"footer-links",children:[v.jsx("li",{children:v.jsx(xs,{to:"/",className:"footer-link",children:"Home"})}),v.jsx("li",{children:v.jsx(xs,{to:"/about",className:"footer-link",children:"About"})}),v.jsx("li",{children:v.jsx(xs,{to:"/projects",className:"footer-link",children:"Projects"})}),v.jsx("li",{children:v.jsx(xs,{to:"/skills",className:"footer-link",children:"Skills"})}),v.jsx("li",{children:v.jsx(xs,{to:"/contact",className:"footer-link",children:"Contact"})})]})]}),v.jsxs("div",{className:"footer-section",children:[v.jsx("h4",{className:"footer-subtitle",children:"Connect"}),v.jsx("div",{className:"social-links",children:lh.map((h,t)=>v.jsxs("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx("span",{className:"social-icon",children:h.icon}),h.name]},t))})]})]}),v.jsx("div",{className:"footer-bottom",children:v.jsxs("p",{children:[" 2024 ",Ne.name,". All rights reserved."]})})]})}),je=({children:h,variant:t="primary",size:s="medium",onClick:n,disabled:r=!1,type:l="button",className:c="",...u})=>v.jsx("button",{type:l,className:`btn btn-${t} btn-${s} ${c}`,onClick:n,disabled:r,...u,children:h}),Mr=({page:h})=>{const[t,s]=G.useState(0);G.useEffect(()=>{const r=()=>{s(window.scrollY)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]);const n={home:v.jsxs("div",{className:"greek-background greek-background-blur home-bg",style:{transform:`translateY(${t*.1}px)`},children:[v.jsxs("div",{className:"colosseum",style:{transform:`translateY(${t*.05}px)`},children:[v.jsxs("div",{className:"colosseum-base",children:[v.jsx("div",{className:"colosseum-arch arch-1"}),v.jsx("div",{className:"colosseum-arch arch-2"}),v.jsx("div",{className:"colosseum-arch arch-3"}),v.jsx("div",{className:"colosseum-arch arch-4"}),v.jsx("div",{className:"colosseum-arch arch-5"}),v.jsx("div",{className:"colosseum-arch arch-6"}),v.jsx("div",{className:"colosseum-arch arch-7"}),v.jsx("div",{className:"colosseum-arch arch-8"})]}),v.jsxs("div",{className:"colosseum-top",children:[v.jsx("div",{className:"colosseum-pillar pillar-1"}),v.jsx("div",{className:"colosseum-pillar pillar-2"}),v.jsx("div",{className:"colosseum-pillar pillar-3"}),v.jsx("div",{className:"colosseum-pillar pillar-4"}),v.jsx("div",{className:"colosseum-pillar pillar-5"})]})]}),v.jsxs("div",{className:"goddess athena",style:{transform:`translateY(${t*.15}px)`},children:[v.jsxs("div",{className:"goddess-head",children:[v.jsx("div",{className:"goddess-helmet",children:v.jsx("div",{className:"helmet-plume"})}),v.jsxs("div",{className:"goddess-face",children:[v.jsx("div",{className:"goddess-eye left"}),v.jsx("div",{className:"goddess-eye right"})]})]}),v.jsxs("div",{className:"goddess-body",children:[v.jsx("div",{className:"goddess-toga"}),v.jsxs("div",{className:"goddess-armor",children:[v.jsx("div",{className:"breastplate"}),v.jsx("div",{className:"arm-band left"}),v.jsx("div",{className:"arm-band right"})]})]}),v.jsxs("div",{className:"goddess-weapons",children:[v.jsx("div",{className:"spear"}),v.jsx("div",{className:"shield"})]})]}),v.jsxs("div",{className:"greek-columns",style:{transform:`translateY(${t*.08}px)`},children:[v.jsx("div",{className:"column column-1"}),v.jsx("div",{className:"column column-2"}),v.jsx("div",{className:"column column-3"}),v.jsx("div",{className:"column column-4"})]}),v.jsx("div",{className:"cloud cloud-1",style:{transform:`translateY(${t*.2}px)`}}),v.jsx("div",{className:"cloud cloud-2",style:{transform:`translateY(${t*.12}px)`}}),v.jsx("div",{className:"cloud cloud-3",style:{transform:`translateY(${t*.18}px)`}}),v.jsx("div",{className:"cloud cloud-4",style:{transform:`translateY(${t*.25}px)`}}),v.jsx("div",{className:"lightning lightning-1",style:{transform:`translateY(${t*.3}px)`}}),v.jsx("div",{className:"lightning lightning-2",style:{transform:`translateY(${t*.22}px)`}}),v.jsx("div",{className:"laurel-wreath wreath-1",style:{transform:`translateY(${t*.35}px)`},children:""}),v.jsx("div",{className:"laurel-wreath wreath-2",style:{transform:`translateY(${t*.28}px)`},children:""}),v.jsx("div",{className:"laurel-wreath wreath-3",style:{transform:`translateY(${t*.32}px)`},children:""}),t>500&&v.jsx("div",{className:"scroll-revealed scroll-element-1",children:v.jsx("div",{className:"floating-temple"})}),t>800&&v.jsx("div",{className:"scroll-revealed scroll-element-2",children:v.jsx("div",{className:"floating-statue",children:""})}),t>1200&&v.jsx("div",{className:"scroll-revealed scroll-element-3",children:v.jsx("div",{className:"floating-fire",children:""})})]}),about:v.jsxs("div",{className:"greek-background greek-background-blur about-bg",style:{transform:`translateY(${t*.1}px)`},children:[v.jsxs("div",{className:"temple",style:{transform:`translateY(${t*.05}px)`},children:[v.jsx("div",{className:"temple-roof",children:v.jsx("div",{className:"temple-pediment"})}),v.jsxs("div",{className:"temple-columns",children:[v.jsx("div",{className:"column column-1"}),v.jsx("div",{className:"column column-2"}),v.jsx("div",{className:"column column-3"}),v.jsx("div",{className:"column column-4"}),v.jsx("div",{className:"column column-5"}),v.jsx("div",{className:"column column-6"})]}),v.jsx("div",{className:"temple-base"})]}),v.jsxs("div",{className:"goddess hermes",style:{transform:`translateY(${t*.15}px)`},children:[v.jsxs("div",{className:"goddess-head",children:[v.jsx("div",{className:"goddess-helmet",children:v.jsx("div",{className:"winged-helmet"})}),v.jsxs("div",{className:"goddess-face",children:[v.jsx("div",{className:"goddess-eye left"}),v.jsx("div",{className:"goddess-eye right"})]})]}),v.jsxs("div",{className:"goddess-body",children:[v.jsx("div",{className:"goddess-toga"}),v.jsxs("div",{className:"winged-sandals",children:[v.jsx("div",{className:"wing left"}),v.jsx("div",{className:"wing right"})]})]}),v.jsx("div",{className:"goddess-weapons",children:v.jsx("div",{className:"caduceus"})})]}),v.jsxs("div",{className:"scroll",style:{transform:`translateY(${t*.08}px)`},children:[v.jsx("div",{className:"scroll-paper",children:v.jsx("div",{className:"scroll-text",children:"Knowledge"})}),v.jsxs("div",{className:"scroll-ends",children:[v.jsx("div",{className:"scroll-end left"}),v.jsx("div",{className:"scroll-end right"})]})]}),v.jsx("div",{className:"greek-symbol symbol-1",style:{transform:`translateY(${t*.2}px)`},children:""}),v.jsx("div",{className:"greek-symbol symbol-2",style:{transform:`translateY(${t*.12}px)`},children:""}),v.jsx("div",{className:"greek-symbol symbol-3",style:{transform:`translateY(${t*.18}px)`},children:""}),t>500&&v.jsx("div",{className:"scroll-revealed scroll-element-1",children:v.jsx("div",{className:"floating-scroll",children:""})}),t>800&&v.jsx("div",{className:"scroll-revealed scroll-element-2",children:v.jsx("div",{className:"floating-quill",children:""})}),t>1200&&v.jsx("div",{className:"scroll-revealed scroll-element-3",children:v.jsx("div",{className:"floating-book",children:""})})]}),projects:v.jsxs("div",{className:"greek-background greek-background-blur projects-bg",style:{transform:`translateY(${t*.1}px)`},children:[v.jsxs("div",{className:"mount-olympus",style:{transform:`translateY(${t*.05}px)`},children:[v.jsx("div",{className:"mountain-peak peak-1"}),v.jsx("div",{className:"mountain-peak peak-2"}),v.jsx("div",{className:"mountain-peak peak-3"}),v.jsx("div",{className:"mountain-base"})]}),v.jsxs("div",{className:"goddess zeus",style:{transform:`translateY(${t*.15}px)`},children:[v.jsxs("div",{className:"goddess-head",children:[v.jsx("div",{className:"goddess-helmet",children:v.jsx("div",{className:"crown"})}),v.jsxs("div",{className:"goddess-face",children:[v.jsx("div",{className:"goddess-eye left"}),v.jsx("div",{className:"goddess-eye right"}),v.jsx("div",{className:"goddess-beard"})]})]}),v.jsxs("div",{className:"goddess-body",children:[v.jsx("div",{className:"goddess-toga"}),v.jsx("div",{className:"thunder-clouds",children:v.jsx("div",{className:"cloud-bolt"})})]}),v.jsx("div",{className:"goddess-weapons",children:v.jsx("div",{className:"thunderbolt"})})]}),v.jsxs("div",{className:"achievement achievement-1",style:{transform:`translateY(${t*.08}px)`},children:[v.jsx("div",{className:"achievement-medal",children:""}),v.jsx("div",{className:"achievement-text",children:"Kernel Dev"})]}),v.jsxs("div",{className:"achievement achievement-2",style:{transform:`translateY(${t*.12}px)`},children:[v.jsx("div",{className:"achievement-medal",children:""}),v.jsx("div",{className:"achievement-text",children:"Security"})]}),v.jsxs("div",{className:"achievement achievement-3",style:{transform:`translateY(${t*.18}px)`},children:[v.jsx("div",{className:"achievement-medal",children:""}),v.jsx("div",{className:"achievement-text",children:"AI/ML"})]}),v.jsx("div",{className:"lightning-effect lightning-1",style:{transform:`translateY(${t*.25}px)`}}),v.jsx("div",{className:"lightning-effect lightning-2",style:{transform:`translateY(${t*.22}px)`}}),v.jsx("div",{className:"lightning-effect lightning-3",style:{transform:`translateY(${t*.28}px)`}}),t>500&&v.jsx("div",{className:"scroll-revealed scroll-element-1",children:v.jsx("div",{className:"floating-trophy",children:""})}),t>800&&v.jsx("div",{className:"scroll-revealed scroll-element-2",children:v.jsx("div",{className:"floating-code",children:""})}),t>1200&&v.jsx("div",{className:"scroll-revealed scroll-element-3",children:v.jsx("div",{className:"floating-rocket",children:""})})]}),skills:v.jsxs("div",{className:"greek-background greek-background-blur skills-bg",style:{transform:`translateY(${t*.1}px)`},children:[v.jsxs("div",{className:"forge",style:{transform:`translateY(${t*.05}px)`},children:[v.jsxs("div",{className:"forge-building",children:[v.jsx("div",{className:"forge-roof"}),v.jsxs("div",{className:"forge-walls",children:[v.jsx("div",{className:"forge-door"}),v.jsx("div",{className:"forge-window"})]})]}),v.jsxs("div",{className:"forge-fire",children:[v.jsx("div",{className:"fire-flame flame-1"}),v.jsx("div",{className:"fire-flame flame-2"}),v.jsx("div",{className:"fire-flame flame-3"})]})]}),v.jsxs("div",{className:"goddess hephaestus",style:{transform:`translateY(${t*.15}px)`},children:[v.jsxs("div",{className:"goddess-head",children:[v.jsx("div",{className:"goddess-helmet",children:v.jsx("div",{className:"smith-cap"})}),v.jsxs("div",{className:"goddess-face",children:[v.jsx("div",{className:"goddess-eye left"}),v.jsx("div",{className:"goddess-eye right"})]})]}),v.jsxs("div",{className:"goddess-body",children:[v.jsx("div",{className:"goddess-toga"}),v.jsx("div",{className:"smith-apron"})]}),v.jsxs("div",{className:"goddess-weapons",children:[v.jsx("div",{className:"hammer"}),v.jsx("div",{className:"anvil"})]})]}),v.jsx("div",{className:"skill-tool tool-1",style:{transform:`translateY(${t*.08}px)`},children:""}),v.jsx("div",{className:"skill-tool tool-2",style:{transform:`translateY(${t*.12}px)`},children:""}),v.jsx("div",{className:"skill-tool tool-3",style:{transform:`translateY(${t*.18}px)`},children:""}),v.jsx("div",{className:"skill-tool tool-4",style:{transform:`translateY(${t*.22}px)`},children:""}),v.jsx("div",{className:"skill-column column-1",style:{transform:`translateY(${t*.25}px)`},children:v.jsx("div",{className:"column-fill"})}),v.jsx("div",{className:"skill-column column-2",style:{transform:`translateY(${t*.28}px)`},children:v.jsx("div",{className:"column-fill"})}),v.jsx("div",{className:"skill-column column-3",style:{transform:`translateY(${t*.32}px)`},children:v.jsx("div",{className:"column-fill"})}),t>500&&v.jsx("div",{className:"scroll-revealed scroll-element-1",children:v.jsx("div",{className:"floating-gear",children:""})}),t>800&&v.jsx("div",{className:"scroll-revealed scroll-element-2",children:v.jsx("div",{className:"floating-wrench",children:""})}),t>1200&&v.jsx("div",{className:"scroll-revealed scroll-element-3",children:v.jsx("div",{className:"floating-lightbulb",children:""})})]}),contact:v.jsxs("div",{className:"greek-background greek-background-blur contact-bg",style:{transform:`translateY(${t*.1}px)`},children:[v.jsxs("div",{className:"communication-temple",style:{transform:`translateY(${t*.05}px)`},children:[v.jsx("div",{className:"temple-roof",children:v.jsx("div",{className:"temple-pediment"})}),v.jsxs("div",{className:"temple-columns",children:[v.jsx("div",{className:"column column-1"}),v.jsx("div",{className:"column column-2"}),v.jsx("div",{className:"column column-3"}),v.jsx("div",{className:"column column-4"})]}),v.jsx("div",{className:"temple-base"})]}),v.jsxs("div",{className:"goddess iris",style:{transform:`translateY(${t*.15}px)`},children:[v.jsxs("div",{className:"goddess-head",children:[v.jsx("div",{className:"goddess-helmet",children:v.jsx("div",{className:"rainbow-crown"})}),v.jsxs("div",{className:"goddess-face",children:[v.jsx("div",{className:"goddess-eye left"}),v.jsx("div",{className:"goddess-eye right"})]})]}),v.jsxs("div",{className:"goddess-body",children:[v.jsx("div",{className:"goddess-toga"}),v.jsxs("div",{className:"rainbow-wings",children:[v.jsx("div",{className:"wing left"}),v.jsx("div",{className:"wing right"})]})]}),v.jsx("div",{className:"goddess-weapons",children:v.jsx("div",{className:"message-scroll"})})]}),v.jsx("div",{className:"message-vase vase-1",style:{transform:`translateY(${t*.08}px)`},children:v.jsx("div",{className:"vase-body",children:v.jsx("div",{className:"vase-text",children:"Hello!"})})}),v.jsx("div",{className:"message-vase vase-2",style:{transform:`translateY(${t*.12}px)`},children:v.jsx("div",{className:"vase-body",children:v.jsx("div",{className:"vase-text",children:"Let's talk!"})})}),v.jsx("div",{className:"rainbow-bridge bridge-1",style:{transform:`translateY(${t*.18}px)`}}),v.jsx("div",{className:"rainbow-bridge bridge-2",style:{transform:`translateY(${t*.22}px)`}}),v.jsx("div",{className:"rainbow-bridge bridge-3",style:{transform:`translateY(${t*.25}px)`}}),t>500&&v.jsx("div",{className:"scroll-revealed scroll-element-1",children:v.jsx("div",{className:"floating-envelope",children:""})}),t>800&&v.jsx("div",{className:"scroll-revealed scroll-element-2",children:v.jsx("div",{className:"floating-phone",children:""})}),t>1200&&v.jsx("div",{className:"scroll-revealed scroll-element-3",children:v.jsx("div",{className:"floating-chat",children:""})})]})};return v.jsx("div",{className:"greek-background-container",children:n[h]})},mA=()=>{const[h,t]=G.useState(0),[s,n]=G.useState(()=>!sessionStorage.getItem("splashShown")),[r,l]=G.useState(!1),[c,u]=G.useState(""),f=G.useRef(),p='System.out.println("Hello, World!");';return G.useEffect(()=>{const m=()=>{t(window.scrollY)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),G.useEffect(()=>{if(s)if(c.length<p.length){const m=setTimeout(()=>{u(p.slice(0,c.length+1))},25);return()=>clearTimeout(m)}else return f.current=setTimeout(()=>l(!0),700),()=>clearTimeout(f.current)},[c,s]),G.useEffect(()=>{if(r)return f.current=setTimeout(()=>n(!1),600),()=>clearTimeout(f.current)},[r]),G.useEffect(()=>{s||sessionStorage.setItem("splashShown","true")},[s]),v.jsxs("div",{className:"home-page",children:[s&&v.jsx("div",{className:`splash-screen${r?" fade-out":""}`,children:v.jsxs("span",{className:"splash-text",children:[c,v.jsx("span",{className:"splash-cursor",children:"|"})]})}),v.jsx(Mr,{page:"home"}),v.jsxs("section",{className:"hero-section",children:[v.jsx("div",{className:"hero-background",children:v.jsxs("div",{className:"floating-shapes",children:[v.jsx("div",{className:"shape shape-1",style:{transform:`translateY(${h*.1}px)`}}),v.jsx("div",{className:"shape shape-2",style:{transform:`translateY(${h*.15}px)`}}),v.jsx("div",{className:"shape shape-3",style:{transform:`translateY(${h*.2}px)`}}),v.jsx("div",{className:"shape shape-4",style:{transform:`translateY(${h*.05}px)`}})]})}),v.jsx("div",{className:"hero-content",children:v.jsxs("div",{className:"profile-container",children:[v.jsx("div",{className:"profile-avatar",children:v.jsxs("div",{className:"avatar-circle",children:[v.jsxs("div",{className:"avatar-eyes",children:[v.jsx("div",{className:"eye left-eye"}),v.jsx("div",{className:"eye right-eye"})]}),v.jsx("div",{className:"avatar-smile"})]})}),v.jsxs("h1",{className:"hero-title",children:[v.jsx("span",{className:"title-line",children:"Hi, I'm"}),v.jsx("span",{className:"title-name",children:Ne.name}),v.jsx("span",{className:"title-subtitle",children:Ne.title})]}),v.jsx("p",{className:"hero-description",children:Ne.description}),v.jsxs("div",{className:"hero-buttons",children:[v.jsx(je,{variant:"primary",size:"large",children:"View My Work"}),v.jsx(je,{variant:"secondary",size:"large",children:"Get In Touch"})]})]})})]}),v.jsxs("section",{className:"about-section",children:[v.jsx("div",{className:"section-background",children:v.jsxs("div",{className:"code-elements",children:[v.jsxs("div",{className:"code-line",style:{transform:`translateX(${h*.1}px)`},children:[v.jsx("span",{className:"code-keyword",children:"const"})," ",v.jsx("span",{className:"code-variable",children:"developer"})," = ",v.jsxs("span",{className:"code-string",children:['"',Ne.name,'"']}),";"]}),v.jsxs("div",{className:"code-line",style:{transform:`translateX(${h*.15}px)`},children:[v.jsx("span",{className:"code-keyword",children:"let"})," ",v.jsx("span",{className:"code-variable",children:"skills"})," = [",v.jsx("span",{className:"code-string",children:'"C/C++"'}),", ",v.jsx("span",{className:"code-string",children:'"Kernel Dev"'}),", ",v.jsx("span",{className:"code-string",children:'"AI/ML"'}),"];"]}),v.jsxs("div",{className:"code-line",style:{transform:`translateX(${h*.2}px)`},children:[v.jsx("span",{className:"code-keyword",children:"function"})," ",v.jsx("span",{className:"code-function",children:"reverseEngineer"}),"() ",v.jsx("span",{className:"code-comment",children:"// Security & Automation"})]})]})}),v.jsxs("div",{className:"section-content",children:[v.jsx("h2",{className:"section-title",children:"About Me"}),v.jsxs("div",{className:"about-grid",children:[v.jsxs("div",{className:"about-card",children:[v.jsx("div",{className:"card-icon",children:""}),v.jsx("h3",{children:"Reverse Engineering Expert"}),v.jsx("p",{children:"Passionate about analyzing systems, understanding how they work, and building innovative solutions through reverse engineering."})]}),v.jsxs("div",{className:"about-card",children:[v.jsx("div",{className:"card-icon",children:""}),v.jsx("h3",{children:"Kernel & Systems Developer"}),v.jsx("p",{children:"Deep expertise in low-level programming, kernel development, and system-level security with hands-on experience in Windows kernel drivers."})]})]})]})]}),v.jsxs("section",{className:"skills-section",children:[v.jsx("div",{className:"section-background",children:v.jsxs("div",{className:"tech-bubbles",children:[v.jsx("div",{className:"bubble",style:{transform:`translateY(${h*.1}px) rotate(${h*.01}deg)`},children:"C/C++"}),v.jsx("div",{className:"bubble",style:{transform:`translateY(${h*.15}px) rotate(${h*-.01}deg)`},children:"Kernel"}),v.jsx("div",{className:"bubble",style:{transform:`translateY(${h*.2}px) rotate(${h*.02}deg)`},children:"Python"}),v.jsx("div",{className:"bubble",style:{transform:`translateY(${h*.05}px) rotate(${h*-.02}deg)`},children:"React"}),v.jsx("div",{className:"bubble",style:{transform:`translateY(${h*.12}px) rotate(${h*.015}deg)`},children:"OpenCV"}),v.jsx("div",{className:"bubble",style:{transform:`translateY(${h*.18}px) rotate(${h*-.015}deg)`},children:"AI/ML"})]})}),v.jsxs("div",{className:"section-content",children:[v.jsx("h2",{className:"section-title",children:"Skills & Technologies"}),v.jsxs("div",{className:"skills-container",children:[v.jsxs("div",{className:"skill-category",children:[v.jsx("h3",{children:"Languages"}),v.jsx("div",{className:"skill-items",children:aa.languages.map((m,y)=>v.jsx("span",{className:"skill-item",children:m},y))})]}),v.jsxs("div",{className:"skill-category",children:[v.jsx("h3",{children:"Technologies"}),v.jsx("div",{className:"skill-items",children:aa.technologies.slice(0,6).map((m,y)=>v.jsx("span",{className:"skill-item",children:m},y))})]}),v.jsxs("div",{className:"skill-category",children:[v.jsx("h3",{children:"Concepts & Expertise"}),v.jsx("div",{className:"skill-items",children:aa.concepts.slice(0,5).map((m,y)=>v.jsx("span",{className:"skill-item",children:m},y))})]})]})]})]}),v.jsx("section",{className:"stats-section",children:v.jsxs("div",{className:"section-content",children:[v.jsx("h2",{className:"section-title",children:"Experience & Impact"}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:"5+"}),v.jsx("div",{className:"stat-label",children:"Years Experience"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:"50+"}),v.jsx("div",{className:"stat-label",children:"Projects Completed"})]}),v.jsxs("div",{className:"stat-card",children:[v.jsx("div",{className:"stat-number",children:"40+"}),v.jsx("div",{className:"stat-label",children:"Students Mentored"})]})]})]})}),v.jsxs("section",{className:"contact-section",children:[v.jsx("div",{className:"section-background",children:v.jsxs("div",{className:"contact-elements",children:[v.jsxs("div",{className:"envelope",style:{transform:`translateY(${h*.1}px)`},children:[v.jsx("div",{className:"envelope-body"}),v.jsx("div",{className:"envelope-flap"})]}),v.jsxs("div",{className:"phone",style:{transform:`translateY(${h*.15}px)`},children:[v.jsx("div",{className:"phone-body"}),v.jsx("div",{className:"phone-screen"})]})]})}),v.jsxs("div",{className:"section-content",children:[v.jsx("h2",{className:"section-title",children:"Let's Connect"}),v.jsx("p",{className:"contact-description",children:"Interested in kernel development, reverse engineering, or AI integration? Let's discuss your next project!"}),v.jsxs("div",{className:"contact-buttons",children:[v.jsx(je,{variant:"primary",size:"large",onClick:()=>window.open(`mailto:${Ne.email}`,"_blank"),children:"Send Email"}),v.jsx(je,{variant:"secondary",size:"large",onClick:()=>window.open(Ne.linkedin,"_blank"),children:"LinkedIn"}),v.jsx(je,{variant:"secondary",size:"large",onClick:()=>window.open(Ne.github,"_blank"),children:"GitHub"})]})]})]})]})},kt=({children:h,variant:t="default",className:s="",onClick:n,...r})=>v.jsx("div",{className:`card card-${t} ${s}`,onClick:n,...r,children:h}),Ie=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),oh=[.001,0,0,.001,0,0],Ku=1.35,is={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ps={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},vA="pdfjs_internal_editor_",vt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Ct={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Gm={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Le={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},br={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},te={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ea={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Dr={ERRORS:0,WARNINGS:1,INFOS:5},Er={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},so={moveTo:0,lineTo:1,curveTo:2,closePath:3},Vm={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let vo=Dr.WARNINGS;function yA(h){Number.isInteger(h)&&(vo=h)}function bA(){return vo}function yo(h){vo>=Dr.INFOS&&console.log(`Info: ${h}`)}function bt(h){vo>=Dr.WARNINGS&&console.log(`Warning: ${h}`)}function Ut(h){throw new Error(h)}function ce(h,t){h||Ut(t)}function AA(h){switch(h?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function xh(h,t=null,s=null){if(!h)return null;if(s&&typeof h=="string"&&(s.addDefaultProtocol&&h.startsWith("www.")&&h.match(/\./g)?.length>=2&&(h=`http://${h}`),s.tryConvertEncoding))try{h=_A(h)}catch{}const n=t?URL.parse(h,t):URL.parse(h);return AA(n)?n:null}function Eh(h,t,s=!1){const n=URL.parse(h);return n?(n.hash=t,n.href):s&&xh(h,"http://example.com")?h.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Tt(h,t,s,n=!1){return Object.defineProperty(h,t,{value:s,enumerable:!n,configurable:!0,writable:!1}),s}const dn=function(){function t(s,n){this.message=s,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class Jg extends dn{constructor(t,s){super(t,"PasswordException"),this.code=s}}class Wu extends dn{constructor(t,s){super(t,"UnknownErrorException"),this.details=s}}class fo extends dn{constructor(t){super(t,"InvalidPDFException")}}class wr extends dn{constructor(t,s,n){super(t,"ResponseException"),this.status=s,this.missing=n}}class SA extends dn{constructor(t){super(t,"FormatError")}}class ei extends dn{constructor(t){super(t,"AbortException")}}function qm(h){(typeof h!="object"||h?.length===void 0)&&Ut("Invalid argument for bytesToString");const t=h.length,s=8192;if(t<s)return String.fromCharCode.apply(null,h);const n=[];for(let r=0;r<t;r+=s){const l=Math.min(r+s,t),c=h.subarray(r,l);n.push(String.fromCharCode.apply(null,c))}return n.join("")}function Lr(h){typeof h!="string"&&Ut("Invalid argument for stringToBytes");const t=h.length,s=new Uint8Array(t);for(let n=0;n<t;++n)s[n]=h.charCodeAt(n)&255;return s}function xA(h){return String.fromCharCode(h>>24&255,h>>16&255,h>>8&255,h&255)}function EA(){const h=new Uint8Array(4);return h[0]=1,new Uint32Array(h.buffer,0,1)[0]===1}function wA(){try{return new Function(""),!0}catch{return!1}}class Ee{static get isLittleEndian(){return Tt(this,"isLittleEndian",EA())}static get isEvalSupported(){return Tt(this,"isEvalSupported",wA())}static get isOffscreenCanvasSupported(){return Tt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Tt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:s}=navigator;return Tt(this,"platform",{isAndroid:s.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:s.includes("Firefox")})}static get isCSSRoundSupported(){return Tt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Qu=Array.from(Array(256).keys(),h=>h.toString(16).padStart(2,"0"));class ot{static makeHexColor(t,s,n){return`#${Qu[t]}${Qu[s]}${Qu[n]}`}static scaleMinMax(t,s){let n;t[0]?(t[0]<0&&(n=s[0],s[0]=s[2],s[2]=n),s[0]*=t[0],s[2]*=t[0],t[3]<0&&(n=s[1],s[1]=s[3],s[3]=n),s[1]*=t[3],s[3]*=t[3]):(n=s[0],s[0]=s[1],s[1]=n,n=s[2],s[2]=s[3],s[3]=n,t[1]<0&&(n=s[1],s[1]=s[3],s[3]=n),s[1]*=t[1],s[3]*=t[1],t[2]<0&&(n=s[0],s[0]=s[2],s[2]=n),s[0]*=t[2],s[2]*=t[2]),s[0]+=t[4],s[1]+=t[5],s[2]+=t[4],s[3]+=t[5]}static transform(t,s){return[t[0]*s[0]+t[2]*s[1],t[1]*s[0]+t[3]*s[1],t[0]*s[2]+t[2]*s[3],t[1]*s[2]+t[3]*s[3],t[0]*s[4]+t[2]*s[5]+t[4],t[1]*s[4]+t[3]*s[5]+t[5]]}static applyTransform(t,s,n=0){const r=t[n],l=t[n+1];t[n]=r*s[0]+l*s[2]+s[4],t[n+1]=r*s[1]+l*s[3]+s[5]}static applyTransformToBezier(t,s,n=0){const r=s[0],l=s[1],c=s[2],u=s[3],f=s[4],p=s[5];for(let m=0;m<6;m+=2){const y=t[n+m],b=t[n+m+1];t[n+m]=y*r+b*c+f,t[n+m+1]=y*l+b*u+p}}static applyInverseTransform(t,s){const n=t[0],r=t[1],l=s[0]*s[3]-s[1]*s[2];t[0]=(n*s[3]-r*s[2]+s[2]*s[5]-s[4]*s[3])/l,t[1]=(-n*s[1]+r*s[0]+s[4]*s[1]-s[5]*s[0])/l}static axialAlignedBoundingBox(t,s,n){const r=s[0],l=s[1],c=s[2],u=s[3],f=s[4],p=s[5],m=t[0],y=t[1],b=t[2],S=t[3];let E=r*m+f,x=E,_=r*b+f,T=_,O=u*y+p,N=O,j=u*S+p,M=j;if(l!==0||c!==0){const F=l*m,H=l*b,$=c*y,W=c*S;E+=$,T+=$,_+=W,x+=W,O+=F,M+=F,j+=H,N+=H}n[0]=Math.min(n[0],E,_,x,T),n[1]=Math.min(n[1],O,j,N,M),n[2]=Math.max(n[2],E,_,x,T),n[3]=Math.max(n[3],O,j,N,M)}static inverseTransform(t){const s=t[0]*t[3]-t[1]*t[2];return[t[3]/s,-t[1]/s,-t[2]/s,t[0]/s,(t[2]*t[5]-t[4]*t[3])/s,(t[4]*t[1]-t[5]*t[0])/s]}static singularValueDecompose2dScale(t,s){const n=t[0],r=t[1],l=t[2],c=t[3],u=n**2+r**2,f=n*l+r*c,p=l**2+c**2,m=(u+p)/2,y=Math.sqrt(m**2-(u*p-f**2));s[0]=Math.sqrt(m+y||1),s[1]=Math.sqrt(m-y||1)}static normalizeRect(t){const s=t.slice(0);return t[0]>t[2]&&(s[0]=t[2],s[2]=t[0]),t[1]>t[3]&&(s[1]=t[3],s[3]=t[1]),s}static intersect(t,s){const n=Math.max(Math.min(t[0],t[2]),Math.min(s[0],s[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(s[0],s[2]));if(n>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(s[1],s[3])),c=Math.min(Math.max(t[1],t[3]),Math.max(s[1],s[3]));return l>c?null:[n,l,r,c]}static pointBoundingBox(t,s,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],s),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],s)}static rectBoundingBox(t,s,n,r,l){l[0]=Math.min(l[0],t,n),l[1]=Math.min(l[1],s,r),l[2]=Math.max(l[2],t,n),l[3]=Math.max(l[3],s,r)}static#t(t,s,n,r,l,c,u,f,p,m){if(p<=0||p>=1)return;const y=1-p,b=p*p,S=b*p,E=y*(y*(y*t+3*p*s)+3*b*n)+S*r,x=y*(y*(y*l+3*p*c)+3*b*u)+S*f;m[0]=Math.min(m[0],E),m[1]=Math.min(m[1],x),m[2]=Math.max(m[2],E),m[3]=Math.max(m[3],x)}static#e(t,s,n,r,l,c,u,f,p,m,y,b){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&this.#t(t,s,n,r,l,c,u,f,-y/m,b);return}const S=m**2-4*y*p;if(S<0)return;const E=Math.sqrt(S),x=2*p;this.#t(t,s,n,r,l,c,u,f,(-m+E)/x,b),this.#t(t,s,n,r,l,c,u,f,(-m-E)/x,b)}static bezierBoundingBox(t,s,n,r,l,c,u,f,p){p[0]=Math.min(p[0],t,u),p[1]=Math.min(p[1],s,f),p[2]=Math.max(p[2],t,u),p[3]=Math.max(p[3],s,f),this.#e(t,n,l,u,s,r,c,f,3*(-t+3*(n-l)+u),6*(t-2*n+l),3*(n-t),p),this.#e(t,n,l,u,s,r,c,f,3*(-s+3*(r-c)+f),6*(s-2*r+c),3*(r-s),p)}}function _A(h){return decodeURIComponent(escape(h))}let Zu=null,tm=null;function Ym(h){return Zu||(Zu=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,tm=new Map([["","t"]])),h.replaceAll(Zu,(t,s,n)=>s?s.normalize("NFKC"):tm.get(n))}function wh(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const h=new Uint8Array(32);return crypto.getRandomValues(h),qm(h)}const _h="pdfjs_internal_id_";function TA(h,t,s){if(!Array.isArray(s)||s.length<2)return!1;const[n,r,...l]=s;if(!h(n)&&!Number.isInteger(n)||!t(r))return!1;const c=l.length;let u=!0;switch(r.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;u=!1;break;default:return!1}for(const f of l)if(!(typeof f=="number"||u&&f===null))return!1;return!0}function Oe(h,t,s){return Math.min(Math.max(h,t),s)}function Xm(h){return Uint8Array.prototype.toBase64?h.toBase64():btoa(qm(h))}function CA(h){return Uint8Array.fromBase64?Uint8Array.fromBase64(h):Lr(atob(h))}typeof Promise.try!="function"&&(Promise.try=function(h,...t){return new Promise(s=>{s(h(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(h){return h.reduce((t,s)=>t+s,0)});const Js="http://www.w3.org/2000/svg";class rn{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function da(h,t="text"){if(mr(h,document.baseURI)){const s=await fetch(h);if(!s.ok)throw new Error(s.statusText);switch(t){case"arraybuffer":return s.arrayBuffer();case"blob":return s.blob();case"json":return s.json()}return s.text()}return new Promise((s,n)=>{const r=new XMLHttpRequest;r.open("GET",h,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":s(r.response);return}s(r.responseText);return}n(new Error(r.statusText))}},r.send(null)})}class Or{constructor({viewBox:t,userUnit:s,scale:n,rotation:r,offsetX:l=0,offsetY:c=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=s,this.scale=n,this.rotation=r,this.offsetX=l,this.offsetY=c,n*=s;const f=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let m,y,b,S;switch(r%=360,r<0&&(r+=360),r){case 180:m=-1,y=0,b=0,S=1;break;case 90:m=0,y=1,b=1,S=0;break;case 270:m=0,y=-1,b=-1,S=0;break;case 0:m=1,y=0,b=0,S=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(b=-b,S=-S);let E,x,_,T;m===0?(E=Math.abs(p-t[1])*n+l,x=Math.abs(f-t[0])*n+c,_=(t[3]-t[1])*n,T=(t[2]-t[0])*n):(E=Math.abs(f-t[0])*n+l,x=Math.abs(p-t[1])*n+c,_=(t[2]-t[0])*n,T=(t[3]-t[1])*n),this.transform=[m*n,y*n,b*n,S*n,E-m*n*f-b*n*p,x-y*n*f-S*n*p],this.width=_,this.height=T}get rawDims(){const t=this.viewBox;return Tt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:s=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Or({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:s,offsetX:n,offsetY:r,dontFlip:l})}convertToViewportPoint(t,s){const n=[t,s];return ot.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const s=[t[0],t[1]];ot.applyTransform(s,this.transform);const n=[t[2],t[3]];return ot.applyTransform(n,this.transform),[s[0],s[1],n[0],n[1]]}convertToPdfPoint(t,s){const n=[t,s];return ot.applyInverseTransform(n,this.transform),n}}class bo extends dn{constructor(t,s=0){super(t,"RenderingCancelledException"),this.extraDelay=s}}function jr(h){const t=h.length;let s=0;for(;s<t&&h[s].trim()==="";)s++;return h.substring(s,s+5).toLowerCase()==="data:"}function Ao(h){return typeof h=="string"&&/\.pdf$/i.test(h)}function $m(h){return[h]=h.split(/[#?]/,1),h.substring(h.lastIndexOf("/")+1)}function Km(h,t="document.pdf"){if(typeof h!="string")return t;if(jr(h))return bt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const s=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=s.exec(h);let l=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=n.exec(decodeURIComponent(l))[0]}catch{}return l||t}class em{started=Object.create(null);times=[];time(t){t in this.started&&bt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||bt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let s=0;for(const{name:n}of this.times)s=Math.max(n.length,s);for(const{name:n,start:r,end:l}of this.times)t.push(`${n.padEnd(s)} ${l-r}ms
`);return t.join("")}}function mr(h,t){const s=t?URL.parse(h,t):URL.parse(h);return s?.protocol==="http:"||s?.protocol==="https:"}function vs(h){h.preventDefault()}function se(h){h.preventDefault(),h.stopPropagation()}function NA(h){console.log("Deprecated API usage: "+h)}class Th{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const s=this.#t.exec(t);if(!s)return null;const n=parseInt(s[1],10);let r=parseInt(s[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(s[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(s[4],10);c=c>=0&&c<=23?c:0;let u=parseInt(s[5],10);u=u>=0&&u<=59?u:0;let f=parseInt(s[6],10);f=f>=0&&f<=59?f:0;const p=s[7]||"Z";let m=parseInt(s[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(s[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(c+=m,u+=y):p==="+"&&(c-=m,u-=y),new Date(Date.UTC(n,r,l,c,u,f))}}function Wm(h,{scale:t=1,rotation:s=0}){const{width:n,height:r}=h.attributes.style,l=[0,0,parseInt(n),parseInt(r)];return new Or({viewBox:l,userUnit:1,scale:t,rotation:s})}function Ch(h){if(h.startsWith("#")){const t=parseInt(h.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return h.startsWith("rgb(")?h.slice(4,-1).split(",").map(t=>parseInt(t)):h.startsWith("rgba(")?h.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(bt(`Not a valid color format: "${h}"`),[0,0,0])}function RA(h){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const s of h.keys()){t.style.color=s;const n=window.getComputedStyle(t).color;h.set(s,Ch(n))}t.remove()}function Kt(h){const{a:t,b:s,c:n,d:r,e:l,f:c}=h.getTransform();return[t,s,n,r,l,c]}function Ds(h){const{a:t,b:s,c:n,d:r,e:l,f:c}=h.getTransform().invertSelf();return[t,s,n,r,l,c]}function Li(h,t,s=!1,n=!0){if(t instanceof Or){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:c}=h,u=Ee.isCSSRoundSupported,f=`var(--total-scale-factor) * ${r}px`,p=`var(--total-scale-factor) * ${l}px`,m=u?`round(down, ${f}, var(--scale-round-x))`:`calc(${f})`,y=u?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!s||t.rotation%180===0?(c.width=m,c.height=y):(c.width=y,c.height=m)}n&&h.setAttribute("data-main-rotation",t.rotation)}class Es{constructor(){const{pixelRatio:t}=Es;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,s,n,r,l=-1){let c=1/0,u=1/0,f=1/0;n=Es.capPixels(n,l),n>0&&(c=Math.sqrt(n/(t*s))),r!==-1&&(u=r/t,f=r/s);const p=Math.min(c,u,f);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,s){if(s>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+s/100));return t>0?Math.min(t,n):n}return t}}const po=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Ar{#t=null;#e=null;#s;#i=null;#a=null;#n=null;static#o=null;constructor(t){this.#s=t,Ar.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const s=this.#s._uiManager._signal;t.addEventListener("contextmenu",vs,{signal:s}),t.addEventListener("pointerdown",Ar.#l,{signal:s});const n=this.#i=document.createElement("div");n.className="buttons",t.append(n);const r=this.#s.toolbarPosition;if(r){const{style:l}=t,c=this.#s._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),t}get div(){return this.#t}static#l(t){t.stopPropagation()}#h(t){this.#s._focusEventsAllowed=!1,se(t)}#c(t){this.#s._focusEventsAllowed=!0,se(t)}#d(t){const s=this.#s._uiManager._signal;t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:s}),t.addEventListener("focusout",this.#c.bind(this),{capture:!0,signal:s}),t.addEventListener("contextmenu",vs,{signal:s})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}#u(){const{editorType:t,_uiManager:s}=this.#s,n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",Ar.#o[t]),this.#d(n),n.addEventListener("click",r=>{s.delete()},{signal:s._signal}),this.#i.append(n)}get#f(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const s=await t.render();this.#d(s),this.#i.prepend(s,this.#f),this.#a=t}addColorPicker(t){this.#e=t;const s=t.renderButton();this.#d(s),this.#i.prepend(s,this.#f)}async addEditSignatureButton(t){const s=this.#n=await t.renderEditButton(this.#s);this.#d(s),this.#i.prepend(s,this.#f)}updateEditSignatureButton(t){this.#n&&(this.#n.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class MA{#t=null;#e=null;#s;constructor(t){this.#s=t}#i(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",vs,{signal:this.#s._signal});const s=this.#t=document.createElement("div");return s.className="buttons",t.append(s),this.#n(),t}#a(t,s){let n=0,r=0;for(const l of t){const c=l.y+l.height;if(c<n)continue;const u=l.x+(s?l.width:0);if(c>n){r=u,n=c;continue}s?u>r&&(r=u):u<r&&(r=u)}return[s?1-r:r,n]}show(t,s,n){const[r,l]=this.#a(s,n),{style:c}=this.#e||=this.#i();t.append(this.#e),c.insetInlineEnd=`${100*r}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#n(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const s=document.createElement("span");t.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=this.#s._signal;t.addEventListener("contextmenu",vs,{signal:n}),t.addEventListener("click",()=>{this.#s.highlightSelection("floating_button")},{signal:n}),this.#t.append(t)}}function Qm(h,t,s){for(const n of s)t.addEventListener(n,h[n].bind(h))}class DA{#t=0;get id(){return`${vA}${this.#t++}`}}class Nh{#t=wh();#e=0;#s=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(n.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Tt(this,"_isSVGFittingCanvas",l)}async#i(t,s){this.#s||=new Map;let n=this.#s.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof s=="string"?(n.url=s,r=await da(s,"blob")):s instanceof File?r=n.file=s:s instanceof Blob&&(r=s),r.type==="image/svg+xml"){const l=Nh._isSVGFittingCanvas,c=new FileReader,u=new Image,f=new Promise((p,m)=>{u.onload=()=>{n.bitmap=u,n.isSvg=!0,p()},c.onload=async()=>{const y=n.svgUrl=c.result;u.src=await l?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=c.onerror=m});c.readAsDataURL(r),await f}else n.bitmap=await createImageBitmap(r);n.refCounter=1}catch(r){bt(r),n=null}return this.#s.set(t,n),n&&this.#s.set(n.id,n),n}async getFromFile(t){const{lastModified:s,name:n,size:r,type:l}=t;return this.#i(`${s}_${n}_${r}_${l}`,t)}async getFromUrl(t){return this.#i(t,t)}async getFromBlob(t,s){const n=await s;return this.#i(t,n)}async getFromId(t){this.#s||=new Map;const s=this.#s.get(t);if(!s)return null;if(s.bitmap)return s.refCounter+=1,s;if(s.file)return this.getFromFile(s.file);if(s.blobPromise){const{blobPromise:n}=s;return delete s.blobPromise,this.getFromBlob(s.id,n)}return this.getFromUrl(s.url)}getFromCanvas(t,s){this.#s||=new Map;let n=this.#s.get(t);if(n?.bitmap)return n.refCounter+=1,n;const r=new OffscreenCanvas(s.width,s.height);return r.getContext("2d").drawImage(s,0,0),n={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#s.set(t,n),this.#s.set(n.id,n),n}getSvgUrl(t){const s=this.#s.get(t);return s?.isSvg?s.svgUrl:null}deleteId(t){this.#s||=new Map;const s=this.#s.get(t);if(!s||(s.refCounter-=1,s.refCounter!==0))return;const{bitmap:n}=s;if(!s.url&&!s.file){const r=new OffscreenCanvas(n.width,n.height);r.getContext("bitmaprenderer").transferFromImageBitmap(n),s.blobPromise=r.convertToBlob()}n.close?.(),s.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class LA{#t=[];#e=!1;#s;#i=-1;constructor(t=128){this.#s=t}add({cmd:t,undo:s,post:n,mustExec:r,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:u=!1}){if(r&&t(),this.#e)return;const f={cmd:t,undo:s,post:n,type:l};if(this.#i===-1){this.#t.length>0&&(this.#t.length=0),this.#i=0,this.#t.push(f);return}if(c&&this.#t[this.#i].type===l){u&&(f.undo=this.#t[this.#i].undo),this.#t[this.#i]=f;return}const p=this.#i+1;p===this.#s?this.#t.splice(0,1):(this.#i=p,p<this.#t.length&&this.#t.splice(p)),this.#t.push(f)}undo(){if(this.#i===-1)return;this.#e=!0;const{undo:t,post:s}=this.#t[this.#i];t(),s?.(),this.#e=!1,this.#i-=1}redo(){if(this.#i<this.#t.length-1){this.#i+=1,this.#e=!0;const{cmd:t,post:s}=this.#t[this.#i];t(),s?.(),this.#e=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#t.length-1}cleanType(t){if(this.#i!==-1){for(let s=this.#i;s>=0;s--)if(this.#t[s].type!==t){this.#t.splice(s+1,this.#i-s),this.#i=s;return}this.#t.length=0,this.#i=-1}}destroy(){this.#t=null}}class kr{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:s}=Ee.platform;for(const[n,r,l={}]of t)for(const c of n){const u=c.startsWith("mac+");s&&u?(this.callbacks.set(c.slice(4),{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1))):!s&&!u&&(this.callbacks.set(c,{callback:r,options:l}),this.allKeys.add(c.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const s=this.buffer.join("+");return this.buffer.length=0,s}exec(t,s){if(!this.allKeys.has(s.key))return;const n=this.callbacks.get(this.#t(s));if(!n)return;const{callback:r,options:{bubbles:l=!1,args:c=[],checker:u=null}}=n;u&&!u(t,s)||(r.bind(t,...c,s)(),l||se(s))}}class Rh{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return RA(t),Tt(this,"_colors",t)}convert(t){const s=Ch(t);if(!window.matchMedia("(forced-colors: active)").matches)return s;for(const[n,r]of this._colors)if(r.every((l,c)=>l===s[c]))return Rh._colorsMapping.get(n);return s}getHexCode(t){const s=this._colors.get(t);return s?ot.makeHexColor(...s):t}}class si{#t=new AbortController;#e=null;#s=new Map;#i=new Map;#a=null;#n=null;#o=null;#l=new LA;#h=null;#c=null;#d=0;#u=new Set;#f=null;#r=null;#p=new Set;_editorUndoBar=null;#m=!1;#g=!1;#v=!1;#y=null;#b=null;#S=null;#E=null;#_=!1;#C=null;#R=new DA;#x=!1;#N=!1;#T=null;#D=null;#L=null;#O=null;#U=null;#w=vt.NONE;#A=new Set;#I=null;#z=null;#G=null;#V=null;#q={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#j=null;#k=null;#F=null;#P=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=si.prototype,s=c=>c.#k.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),n=(c,{target:u})=>{if(u instanceof HTMLInputElement){const{type:f}=u;return f!=="text"&&f!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new kr([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#k.contains(u)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:u})=>!(u instanceof HTMLButtonElement)&&c.#k.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:s}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:s}]]))}constructor(t,s,n,r,l,c,u,f,p,m,y,b,S,E){const x=this._signal=this.#t.signal;this.#k=t,this.#F=s,this.#a=n,this.#z=r,this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:x}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),l._on("setpreference",this.onSetPreference.bind(this),{signal:x}),l._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:x}),this.#it(),this.#lt(),this.#W(),this.#n=c.annotationStorage,this.#y=c.filterFactory,this.#G=u,this.#E=f||null,this.#m=p,this.#g=m,this.#v=y,this.#U=b||null,this.viewParameters={realScale:rn.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=E!==!1}destroy(){this.#P?.resolve(),this.#P=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#i.values())t.destroy();this.#i.clear(),this.#s.clear(),this.#p.clear(),this.#O?.clear(),this.#e=null,this.#A.clear(),this.#l.destroy(),this.#a?.destroy(),this.#z?.destroy(),this.#C?.hide(),this.#C=null,this.#L?.destroy(),this.#L=null,this.#b&&(clearTimeout(this.#b),this.#b=null),this.#j&&(clearTimeout(this.#j),this.#j=null),this._editorUndoBar?.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#U}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Tt(this,"hcmFilter",this.#G?this.#y.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Tt(this,"direction",getComputedStyle(this.#k).direction)}get highlightColors(){return Tt(this,"highlightColors",this.#E?new Map(this.#E.split(",").map(t=>t.split("=").map(s=>s.trim()))):null)}get highlightColorNames(){return Tt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#c=t}setMainHighlightColorPicker(t){this.#L=t}editAltText(t,s=!1){this.#a?.editAltText(this,t,s)}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,s){this._eventBus.on("annotationeditormodechanged",s,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,s){this._eventBus.dispatch("setpreference",{source:this,name:t,value:s})}onSetPreference({name:t,value:s}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=s;break}}onPageChanging({pageNumber:t}){this.#d=t-1}focusMainContainer(){this.#k.focus()}findParent(t,s){for(const n of this.#i.values()){const{x:r,y:l,width:c,height:u}=n.div.getBoundingClientRect();if(t>=r&&t<=r+c&&s>=l&&s<=l+u)return n}return null}disableUserSelect(t=!1){this.#F.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*rn.PDF_TO_CSS_UNITS;for(const s of this.#p)s.onScaleChanging();this.#c?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#X({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#K(t){const{currentLayer:s}=this;if(s.hasTextLayer(t))return s;for(const n of this.#i.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t=""){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c}=s,u=s.toString(),p=this.#X(s).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;s.empty();const y=this.#K(p),b=this.#w===vt.NONE,S=()=>{y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:n,anchorOffset:r,focusNode:l,focusOffset:c,text:u}),b&&this.showAllEditors("highlight",!0,!0)};if(b){this.switchToMode(vt.HIGHLIGHT,S);return}S()}#et(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#X(t).closest(".textLayer"),r=this.getSelectionBoxes(n);r&&(this.#C||=new MA(this),this.#C.show(n,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#n&&!this.#n.has(t.id)&&this.#n.setValue(t.id,t)}#st(){const t=document.getSelection();if(!t||t.isCollapsed){this.#I&&(this.#C?.hide(),this.#I=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:s}=t;if(s===this.#I)return;const r=this.#X(t).closest(".textLayer");if(!r){this.#I&&(this.#C?.hide(),this.#I=null,this.#M({hasSelectedText:!1}));return}if(this.#C?.hide(),this.#I=s,this.#M({hasSelectedText:!0}),!(this.#w!==vt.HIGHLIGHT&&this.#w!==vt.NONE)&&(this.#w===vt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#w===vt.HIGHLIGHT?this.#K(r):null;l?.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),f=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l?.toggleDrawing(!0),p.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("blur",f,{signal:u})}}#$(t=""){this.#w===vt.HIGHLIGHT?this.highlightSelection(t):this.#m&&this.#et()}#it(){document.addEventListener("selectionchange",this.#st.bind(this),{signal:this._signal})}#nt(){if(this.#S)return;this.#S=new AbortController;const t=this.combinedSignal(this.#S);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#at(){this.#S?.abort(),this.#S=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#$("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const s of this.#A)if(s.div.contains(t)){this.#D=[s,t],s._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[t,s]=this.#D;this.#D=null,s.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),s.focus()}#W(){if(this.#T)return;this.#T=new AbortController;const t=this.combinedSignal(this.#T);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#rt(){this.#T?.abort(),this.#T=null}#Q(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#h?.abort(),this.#h=null}#lt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#Q()}removeEditListeners(){this.#rt(),this.#Z()}dragOver(t){for(const{type:s}of t.dataTransfer.items)for(const n of this.#r)if(n.isHandlingMimeForPasting(s)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const s of t.dataTransfer.items)for(const n of this.#r)if(n.isHandlingMimeForPasting(s.type)){n.paste(s,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const s=[];for(const n of this.#A){const r=n.serialize(!0);r&&s.push(r)}s.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:s}=t;for(const l of s.items)for(const c of this.#r)if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let n=s.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(l){bt(`paste: "${l.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const f of n){const p=await r.deserialize(f);if(!p)return;l.push(p)}const c=()=>{for(const f of l)this.#J(f);this.#tt(l)},u=()=>{for(const f of l)f.remove()};this.addCommands({cmd:c,undo:u,mustExec:!0})}catch(l){bt(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#w!==vt.NONE&&!this.isEditorHandlingKeyboard&&si._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#$("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#M(t){Object.entries(t).some(([n,r])=>this.#q[n]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#q,t)}),this.#w===vt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#B([[Ct.HIGHLIGHT_FREE,!0]]))}#B(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#nt(),this.#Q(),this.#M({isEditing:this.#w!==vt.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#at(),this.#Z(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#r){this.#r=t;for(const s of this.#r)this.#B(s.defaultPropertiesToUpdate)}}getId(){return this.#R.id}get currentLayer(){return this.#i.get(this.#d)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#d}addLayer(t){this.#i.set(t.pageIndex,t),this.#x?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}async updateMode(t,s=null,n=!1){if(this.#w!==t&&!(this.#P&&(await this.#P.promise,!this.#P))){if(this.#P=Promise.withResolvers(),this.#c?.commitOrRemove(),this.#w=t,t===vt.NONE){this.setEditingState(!1),this.#ct(),this._editorUndoBar?.hide(),this.#P.resolve();return}t===vt.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ot(),this.unselectAll();for(const r of this.#i.values())r.updateMode(t);if(!s){n&&this.addNewEditorFromKeyboard(),this.#P.resolve();return}for(const r of this.#s.values())r.annotationElementId===s||r.id===s?(this.setSelected(r),r.enterInEditMode()):r.unselect();this.#P.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#w&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,s){if(this.#r){switch(t){case Ct.CREATE:this.currentLayer.addNewEditor(s);return;case Ct.HIGHLIGHT_DEFAULT_COLOR:this.#L?.updateColor(s);break;case Ct.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#V||=new Map).set(t,s),this.showAllEditors("highlight",s);break}for(const n of this.#A)n.updateParams(t,s);for(const n of this.#r)n.updateDefaultParams(t,s)}}showAllEditors(t,s,n=!1){for(const l of this.#s.values())l.editorType===t&&l.show(s);(this.#V?.get(Ct.HIGHLIGHT_SHOW_ALL)??!0)!==s&&this.#B([[Ct.HIGHLIGHT_SHOW_ALL,s]])}enableWaiting(t=!1){if(this.#N!==t){this.#N=t;for(const s of this.#i.values())t?s.disableClick():s.enableClick(),s.div.classList.toggle("waiting",t)}}async#ot(){if(!this.#x){this.#x=!0;const t=[];for(const s of this.#i.values())t.push(s.enable());await Promise.all(t);for(const s of this.#s.values())s.enable()}}#ct(){if(this.unselectAll(),this.#x){this.#x=!1;for(const t of this.#i.values())t.disable();for(const t of this.#s.values())t.disable()}}getEditors(t){const s=[];for(const n of this.#s.values())n.pageIndex===t&&s.push(n);return s}getEditor(t){return this.#s.get(t)}addEditor(t){this.#s.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#b&&clearTimeout(this.#b),this.#b=setTimeout(()=>{this.focusMainContainer(),this.#b=null},0)),this.#s.delete(t.id),t.annotationElementId&&this.#O?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#n?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){const s=this.#i.get(t.pageIndex);s?s.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#B(t.propertiesToUpdate))}get#ut(){let t=null;for(t of this.#A);return t}updateUI(t){this.#ut===t&&this.#B(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#B(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#A.has(t)){this.#A.delete(t),t.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#A.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(t){this.#c?.commitOrRemove();for(const s of this.#A)s!==t&&s.unselect();this.#A.clear(),this.#A.add(t),t.select(),this.#B(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(t){return this.#A.has(t)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(t){t.unselect(),this.#A.delete(t),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#M({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#l.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(t){this.#l.add(t),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(t){this.#l.cleanType(t)}#Y(){if(this.#s.size===0)return!0;if(this.#s.size===1)for(const t of this.#s.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const s=t?[t]:[...this.#A],n=()=>{this._editorUndoBar?.show(r,s.length===1?s[0].editorType:s.length);for(const l of s)l.remove()},r=()=>{for(const l of s)this.#J(l)};this.addCommands({cmd:n,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#tt(t){for(const s of this.#A)s.unselect();this.#A.clear();for(const s of t)s.isEmpty()||(this.#A.add(s),s.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#A)t.commit();this.#tt(this.#s.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#w!==vt.NONE))&&!this.#c?.commitOrRemove()&&this.hasSelection){for(const t of this.#A)t.unselect();this.#A.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(t,s,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=s;const[r,l]=this.#H,c=[...this.#A],u=1e3;this.#j&&clearTimeout(this.#j),this.#j=setTimeout(()=>{this.#j=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const f of c)this.#s.has(f.id)&&(f.translateInPage(r,l),f.translationDone())},undo:()=>{for(const f of c)this.#s.has(f.id)&&(f.translateInPage(-r,-l),f.translationDone())},mustExec:!1})},u);for(const f of c)f.translateInPage(t,s),f.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const t of this.#A)this.#f.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const t=this.#f;this.#f=null;let s=!1;for(const[{x:r,y:l,pageIndex:c},u]of t)u.newX=r,u.newY=l,u.newPageIndex=c,s||=r!==u.savedX||l!==u.savedY||c!==u.savedPageIndex;if(!s)return!1;const n=(r,l,c,u)=>{if(this.#s.has(r.id)){const f=this.#i.get(u);f?r._setParentAndPosition(f,l,c):(r.pageIndex=u,r.x=l,r.y=c)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:c,newPageIndex:u}]of t)n(r,l,c,u)},undo:()=>{for(const[r,{savedX:l,savedY:c,savedPageIndex:u}]of t)n(r,l,c,u)},mustExec:!0}),!0}dragSelectedEditors(t,s){if(this.#f)for(const n of this.#f.keys())n.drag(t,s)}rebuild(t){if(t.parent===null){const s=this.getLayer(t.pageIndex);s?(s.changeParent(t),s.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#w}get imageManager(){return Tt(this,"imageManager",new Nh)}getSelectionBoxes(t){if(!t)return null;const s=document.getSelection();for(let p=0,m=s.rangeCount;p<m;p++)if(!t.contains(s.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:r,width:l,height:c}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(p,m,y,b)=>({x:(m-r)/c,y:1-(p+y-n)/l,width:b/c,height:y/l});break;case"180":u=(p,m,y,b)=>({x:1-(p+y-n)/l,y:1-(m+b-r)/c,width:y/l,height:b/c});break;case"270":u=(p,m,y,b)=>({x:1-(m+b-r)/c,y:(p-n)/l,width:b/c,height:y/l});break;default:u=(p,m,y,b)=>({x:(p-n)/l,y:(m-r)/c,width:y/l,height:b/c});break}const f=[];for(let p=0,m=s.rangeCount;p<m;p++){const y=s.getRangeAt(p);if(!y.collapsed)for(const{x:b,y:S,width:E,height:x}of y.getClientRects())E===0||x===0||f.push(u(b,S,E,x))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:t,id:s}){(this.#o||=new Map).set(t,s)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const s=this.#o?.get(t.data.id);if(!s)return;const n=this.#n.getRawValue(s);n&&(this.#w===vt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,s,n){const r=this.#O?.get(t);r&&(r.setCanvas(s,n),this.#O.delete(t))}addMissingCanvas(t,s){(this.#O||=new Map).set(t,s)}}class js{#t=null;#e=!1;#s=null;#i=null;#a=null;#n=null;#o=!1;#l=null;#h=null;#c=null;#d=null;#u=!1;static#f=null;static _l10n=null;constructor(t){this.#h=t,this.#u=t._uiManager.useNewAltTextFlow,js.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){js._l10n??=t}async render(){const t=this.#s=document.createElement("button");t.className="altText",t.tabIndex="0";const s=this.#i=document.createElement("span");t.append(s),this.#u?(t.classList.add("new"),t.setAttribute("data-l10n-id",js.#f.missing),s.setAttribute("data-l10n-id",js.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#h._uiManager._signal;t.addEventListener("contextmenu",vs,{signal:n}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:n});const r=l=>{l.preventDefault(),this.#h._uiManager.editAltText(this.#h),this.#u&&this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#r}})};return t.addEventListener("click",r,{capture:!0,signal:n}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#o=!0,r(l))},{signal:n}),await this.#p(),t}get#r(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#s&&(this.#s.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#u?this.#t!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}async setGuessedText(t){this.#t===null&&(this.#c=t,this.#d=await js._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#u||this.#t){this.#l?.remove(),this.#l=null;return}if(!this.#l){const s=this.#l=document.createElement("div");s.className="noAltTextBadge",this.#h.div.append(s)}this.#l.classList.toggle("hidden",!t)}serialize(t){let s=this.#t;return!t&&this.#c===s&&(s=this.#d),{altText:s,decorative:this.#e,guessedText:this.#c,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:s,guessedText:n,textWithDisclaimer:r,cancel:l=!1}){n&&(this.#c=n,this.#d=r),!(this.#t===t&&this.#e===s)&&(l||(this.#t=t,this.#e=s),this.#p())}toggle(t=!1){this.#s&&(!t&&this.#n&&(clearTimeout(this.#n),this.#n=null),this.#s.disabled=!t)}shown(){this.#h._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#r}})}destroy(){this.#s?.remove(),this.#s=null,this.#i=null,this.#a=null,this.#l?.remove(),this.#l=null}async#p(){const t=this.#s;if(!t)return;if(this.#u){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",js.#f[this.#r]),this.#i?.setAttribute("data-l10n-id",js.#f[`${this.#r}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let s=this.#a;if(!s){this.#a=s=document.createElement("span"),s.className="tooltip",s.setAttribute("role","tooltip"),s.id=`alt-text-tooltip-${this.#h.id}`;const r=100,l=this.#h._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#n),this.#n=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#n=setTimeout(()=>{this.#n=null,this.#a.classList.add("show"),this.#h._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#n&&(clearTimeout(this.#n),this.#n=null),this.#a?.classList.remove("show")},{signal:l})}this.#e?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=this.#t),s.parentNode||t.append(s),this.#h.getElementForAltText()?.setAttribute("aria-describedby",s.id)}}class Pr{#t;#e=!1;#s=null;#i;#a;#n;#o;#l=null;#h;#c=null;#d;#u=null;constructor({container:t,isPinchingDisabled:s=null,isPinchingStopped:n=null,onPinchStart:r=null,onPinching:l=null,onPinchEnd:c=null,signal:u}){this.#t=t,this.#s=n,this.#i=s,this.#a=r,this.#n=l,this.#o=c,this.#d=new AbortController,this.#h=AbortSignal.any([u,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#h})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Es.pixelRatio}#f(t){if(this.#i?.())return;if(t.touches.length===1){if(this.#l)return;const r=this.#l=new AbortController,l=AbortSignal.any([this.#h,r.signal]),c=this.#t,u={capture:!0,signal:l,passive:!1},f=p=>{p.pointerType==="touch"&&(this.#l?.abort(),this.#l=null)};c.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(se(p),f(p))},u),c.addEventListener("pointerup",f,u),c.addEventListener("pointercancel",f,u);return}if(!this.#u){this.#u=new AbortController;const r=AbortSignal.any([this.#h,this.#u.signal]),l=this.#t,c={signal:r,capture:!1,passive:!1};l.addEventListener("touchmove",this.#r.bind(this),c);const u=this.#p.bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",se,c),l.addEventListener("pointermove",se,c),l.addEventListener("pointercancel",se,c),l.addEventListener("pointerup",se,c),this.#a?.()}if(se(t),t.touches.length!==2||this.#s?.()){this.#c=null;return}let[s,n]=t.touches;s.identifier>n.identifier&&([s,n]=[n,s]),this.#c={touch0X:s.screenX,touch0Y:s.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#r(t){if(!this.#c||t.touches.length!==2)return;se(t);let[s,n]=t.touches;s.identifier>n.identifier&&([s,n]=[n,s]);const{screenX:r,screenY:l}=s,{screenX:c,screenY:u}=n,f=this.#c,{touch0X:p,touch0Y:m,touch1X:y,touch1Y:b}=f,S=y-p,E=b-m,x=c-r,_=u-l,T=Math.hypot(x,_)||1,O=Math.hypot(S,E)||1;if(!this.#e&&Math.abs(O-T)<=Pr.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(f.touch0X=r,f.touch0Y=l,f.touch1X=c,f.touch1Y=u,!this.#e){this.#e=!0;return}const N=[(r+c)/2,(l+u)/2];this.#n?.(N,O,T)}#p(t){t.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#c&&(se(t),this.#c=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#l?.abort(),this.#l=null}}class ut{#t=null;#e=null;#s=null;#i=!1;#a=null;#n="";#o=!1;#l=null;#h=null;#c=null;#d=null;#u="";#f=!1;#r=null;#p=!1;#m=!1;#g=!1;#v=null;#y=0;#b=0;#S=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#C=ut._zIndex++;static _borderLineWidth=-1;static _colorManager=new Rh;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=ut.prototype._resizeWithKeyboard,s=si.TRANSLATE_SMALL,n=si.TRANSLATE_BIG;return Tt(this,"_resizerKeyboardManager",new kr([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-s,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[s,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-s]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,s]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],ut.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:s,rawDims:{pageWidth:n,pageHeight:r,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=s,this.pageRotation=(360+s-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[l,c];const[u,f]=this.parentDimensions;this.x=t.x/u,this.y=t.y/f,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Tt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const s=new OA({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});s.annotationElementId=t.annotationElementId,s.deleted=!0,s._uiManager.addToAnnotationStorage(s)}static initialize(t,s){if(ut._l10n??=t,ut._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ut._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);ut._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,s){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,s){Ut("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(t){this.#_=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,s]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*s/(t*2),this.y+=this.width*t/(s*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*s/(t*2),this.y-=this.width*t/(s*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#C}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#F(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,s,n,r){const[l,c]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(t+n)/l,this.y=(s+r)/c,this.fixAndSetPosition()}_moveAfterPaste(t,s){const[n,r]=this.parentDimensions;this.setAt(t*n,s*r,this.width*n,this.height*r),this._onTranslated()}#R([t,s],n,r){[n,r]=this.screenToPageTranslation(n,r),this.x+=n/t,this.y+=r/s,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,s){this.#R(this.parentDimensions,t,s)}translateInPage(t,s){this.#r||=[this.x,this.y,this.width,this.height],this.#R(this.pageDimensions,t,s),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,s){this.#r||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[r,l]}=this;if(this.x+=t/r,this.y+=s/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:u}=this;const[f,p]=this.getBaseTranslation();c+=f,u+=p;const{style:m}=n;m.left=`${(100*c).toFixed(2)}%`,m.top=`${(100*u).toFixed(2)}%`,this._onTranslating(c,u),n.scrollIntoView({block:"nearest"})}_onTranslating(t,s){}_onTranslated(t,s){}get _hasBeenMoved(){return!!this.#r&&(this.#r[0]!==this.x||this.#r[1]!==this.y)}get _hasBeenResized(){return!!this.#r&&(this.#r[2]!==this.width||this.#r[3]!==this.height)}getBaseTranslation(){const[t,s]=this.parentDimensions,{_borderLineWidth:n}=ut,r=n/t,l=n/s;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:s},pageDimensions:[n,r]}=this;let{x:l,y:c,width:u,height:f}=this;if(u*=n,f*=r,l*=n,c*=r,this._mustFixPosition)switch(t){case 0:l=Oe(l,0,n-u),c=Oe(c,0,r-f);break;case 90:l=Oe(l,0,n-f),c=Oe(c,u,r);break;case 180:l=Oe(l,u,n),c=Oe(c,f,r);break;case 270:l=Oe(l,f,n),c=Oe(c,0,r-u);break}this.x=l/=n,this.y=c/=r;const[p,m]=this.getBaseTranslation();l+=p,c+=m,s.left=`${(100*l).toFixed(2)}%`,s.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#x(t,s,n){switch(n){case 90:return[s,-t];case 180:return[-t,-s];case 270:return[-s,t];default:return[t,s]}}screenToPageTranslation(t,s){return ut.#x(t,s,this.parentRotation)}pageTranslationToScreen(t,s){return ut.#x(t,s,360-this.parentRotation)}#N(t){switch(t){case 90:{const[s,n]=this.pageDimensions;return[0,-s/n,n/s,0]}case 180:return[-1,0,0,-1];case 270:{const[s,n]=this.pageDimensions;return[0,s/n,-n/s,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[s,n]}=this;return[s*t,n*t]}setDims(t,s){const[n,r]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*t/n).toFixed(2)}%`,this.#o||(l.height=`${(100*s/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:s,width:n}=t,r=n.endsWith("%"),l=!this.#o&&s.endsWith("%");if(r&&l)return;const[c,u]=this.parentDimensions;r||(t.width=`${(100*parseFloat(n)/c).toFixed(2)}%`),!this.#o&&!l&&(t.height=`${(100*parseFloat(s)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#T(){if(this.#l)return;this.#l=document.createElement("div"),this.#l.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],s=this._uiManager._signal;for(const n of t){const r=document.createElement("div");this.#l.append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",this.#D.bind(this,n),{signal:s}),r.addEventListener("contextmenu",vs,{signal:s}),r.tabIndex=-1}this.div.prepend(this.#l)}#D(t,s){s.preventDefault();const{isMac:n}=Ee.platform;if(s.button!==0||s.ctrlKey&&n)return;this.#s?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#h=[s.screenX,s.screenY];const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#U.bind(this,t),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",se,{passive:!1,signal:c}),window.addEventListener("contextmenu",vs,{signal:c}),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const u=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(s.target).cursor;const p=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#s?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=u,this.div.style.cursor=f,this.#O()};window.addEventListener("pointerup",p,{signal:c}),window.addEventListener("blur",p,{signal:c})}#L(t,s,n,r){this.width=n,this.height=r,this.x=t,this.y=s;const[l,c]=this.parentDimensions;this.setDims(l*n,c*r),this.fixAndSetPosition(),this._onResized()}_onResized(){}#O(){if(!this.#c)return;const{savedX:t,savedY:s,savedWidth:n,savedHeight:r}=this.#c;this.#c=null;const l=this.x,c=this.y,u=this.width,f=this.height;l===t&&c===s&&u===n&&f===r||this.addCommands({cmd:this.#L.bind(this,l,c,u,f),undo:this.#L.bind(this,t,s,n,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#U(t,s){const[n,r]=this.parentDimensions,l=this.x,c=this.y,u=this.width,f=this.height,p=ut.MIN_SIZE/n,m=ut.MIN_SIZE/r,y=this.#N(this.rotation),b=(L,B)=>[y[0]*L+y[2]*B,y[1]*L+y[3]*B],S=this.#N(360-this.rotation),E=(L,B)=>[S[0]*L+S[2]*B,S[1]*L+S[3]*B];let x,_,T=!1,O=!1;switch(t){case"topLeft":T=!0,x=(L,B)=>[0,0],_=(L,B)=>[L,B];break;case"topMiddle":x=(L,B)=>[L/2,0],_=(L,B)=>[L/2,B];break;case"topRight":T=!0,x=(L,B)=>[L,0],_=(L,B)=>[0,B];break;case"middleRight":O=!0,x=(L,B)=>[L,B/2],_=(L,B)=>[0,B/2];break;case"bottomRight":T=!0,x=(L,B)=>[L,B],_=(L,B)=>[0,0];break;case"bottomMiddle":x=(L,B)=>[L/2,B],_=(L,B)=>[L/2,0];break;case"bottomLeft":T=!0,x=(L,B)=>[0,B],_=(L,B)=>[L,0];break;case"middleLeft":O=!0,x=(L,B)=>[0,B/2],_=(L,B)=>[L,B/2];break}const N=x(u,f),j=_(u,f);let M=b(...j);const F=ut._round(l+M[0]),H=ut._round(c+M[1]);let $=1,W=1,J,Z;if(s.fromKeyboard)({deltaX:J,deltaY:Z}=s);else{const{screenX:L,screenY:B}=s,[tt,mt]=this.#h;[J,Z]=this.screenToPageTranslation(L-tt,B-mt),this.#h[0]=L,this.#h[1]=B}if([J,Z]=E(J/n,Z/r),T){const L=Math.hypot(u,f);$=W=Math.max(Math.min(Math.hypot(j[0]-N[0]-J,j[1]-N[1]-Z)/L,1/u,1/f),p/u,m/f)}else O?$=Oe(Math.abs(j[0]-N[0]-J),p,1)/u:W=Oe(Math.abs(j[1]-N[1]-Z),m,1)/f;const at=ut._round(u*$),yt=ut._round(f*W);M=b(..._(at,yt));const ct=F-M[0],lt=H-M[1];this.#r||=[this.x,this.y,this.width,this.height],this.width=at,this.height=yt,this.x=ct,this.y=lt,this.setDims(n*at,r*yt),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#s?.finish()}async addEditToolbar(){return this._editToolbar||this.#m?this._editToolbar:(this._editToolbar=new Ar(this),this.div.append(this._editToolbar.render()),this.#s&&await this._editToolbar.addAltText(this.#s),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#s?.destroy())}addContainer(t){const s=this._editToolbar?.div;s?s.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#s||(js.initialize(ut._l10n),this.#s=new js(this),this.#t&&(this.#s.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#s?.data}set altTextData(t){this.#s&&(this.#s.data=t)}get guessedAltText(){return this.#s?.guessedText}async setGuessedAltText(t){await this.#s?.setGuessedText(t)}serializeAltText(t){return this.#s?.serialize(t)}hasAltText(){return!!this.#s&&!this.#s.isEmpty()}hasAltTextData(){return this.#s?.hasData()??!1}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#i?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#V();const[s,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/s).toFixed(2)}%`,t.style.maxHeight=`${(100*s/n).toFixed(2)}%`);const[r,l]=this.getInitialTranslation();return this.translate(r,l),Qm(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Pr({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#w.bind(this),onPinching:this.#A.bind(this),onPinchEnd:this.#I.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),t}#w(){this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#s?.toggle(!1),this.parent.togglePointerEvents(!1)}#A(t,s,n){let l=.7*(n/s)+1-.7;if(l===1)return;const c=this.#N(this.rotation),u=(F,H)=>[c[0]*F+c[2]*H,c[1]*F+c[3]*H],[f,p]=this.parentDimensions,m=this.x,y=this.y,b=this.width,S=this.height,E=ut.MIN_SIZE/f,x=ut.MIN_SIZE/p;l=Math.max(Math.min(l,1/b,1/S),E/b,x/S);const _=ut._round(b*l),T=ut._round(S*l);if(_===b&&T===S)return;this.#r||=[m,y,b,S];const O=u(b/2,S/2),N=ut._round(m+O[0]),j=ut._round(y+O[1]),M=u(_/2,T/2);this.x=N-M[0],this.y=j-M[1],this.width=_,this.height=T,this.setDims(f*_,p*T),this.fixAndSetPosition(),this._onResizing()}#I(){this.#s?.toggle(!0),this.parent.togglePointerEvents(!0),this.#O()}pointerdown(t){const{isMac:s}=Ee.platform;if(t.button!==0||t.ctrlKey&&s){t.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(t);return}this.#z(t)}#z(t){const{isMac:s}=Ee.platform;t.ctrlKey&&!s||t.shiftKey||t.metaKey&&s?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(t){const{isSelected:s}=this;this._uiManager.setUpDragSession();let n=!1;const r=new AbortController,l=this._uiManager.combinedSignal(r),c={capture:!0,passive:!1,signal:l},u=p=>{r.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#z(p),n&&this._onStopDragging()};s&&(this.#y=t.clientX,this.#b=t.clientY,this.#a=t.pointerId,this.#n=t.pointerType,window.addEventListener("pointermove",p=>{n||(n=!0,this._onStartDragging());const{clientX:m,clientY:y,pointerId:b}=p;if(b!==this.#a){se(p);return}const[S,E]=this.screenToPageTranslation(m-this.#y,y-this.#b);this.#y=m,this.#b=y,this._uiManager.dragSelectedEditors(S,E)},c),window.addEventListener("touchmove",se,c),window.addEventListener("pointerdown",p=>{p.pointerType===this.#n&&(this.#E||p.isPrimary)&&u(p),se(p)},c));const f=p=>{if(!this.#a||this.#a===p.pointerId){u(p);return}se(p)};window.addEventListener("pointerup",f,{signal:l}),window.addEventListener("blur",f,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,s,n){t.changeParent(this),this.x=s,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,s,n=this.rotation){const r=this.parentScale,[l,c]=this.pageDimensions,[u,f]=this.pageTranslation,p=t/r,m=s/r,y=this.x*l,b=this.y*c,S=this.width*l,E=this.height*c;switch(n){case 0:return[y+p+u,c-b-m-E+f,y+p+S+u,c-b-m+f];case 90:return[y+m+u,c-b+p+f,y+m+E+u,c-b+p+S+f];case 180:return[y-p-S+u,c-b+m+f,y-p+u,c-b+m+E+f];case 270:return[y-m-E+u,c-b-p-S+f,y-m+u,c-b-p+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,s){const[n,r,l,c]=t,u=l-n,f=c-r;switch(this.rotation){case 0:return[n,s-c,u,f];case 90:return[n,s-r,f,u];case 180:return[l,s-r,u,f];case 270:return[l,s-c,f,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#m=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#m=!1,!0):!1}isInEditMode(){return this.#m}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:s,bottom:n,right:r}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return s<c&&r>0&&t<l&&n>0}#V(){if(this.#d||!this.div)return;this.#d=new AbortController;const t=this._uiManager.combinedSignal(this.#d);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#V()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,s=null){Ut("An editor must be serializable")}static async deserialize(t,s,n){const r=new this.prototype.constructor({parent:s,id:s.getNextId(),uiManager:n});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[l,c]=r.pageDimensions,[u,f,p,m]=r.getRectInCurrentCoords(t.rect,c);return r.x=u/l,r.y=f/c,r.width=p/l,r.height=m/c,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#d?.abort(),this.#d=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#F(),this.removeEditToolbar(),this.#S){for(const t of this.#S.values())clearTimeout(t);this.#S=null}this.parent=null,this.#E?.destroy(),this.#E=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#T(),this.#l.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const s=this.#l.children;if(!this.#e){this.#e=Array.from(s);const c=this.#q.bind(this),u=this.#H.bind(this),f=this._uiManager._signal;for(const p of this.#e){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",c,{signal:f}),p.addEventListener("blur",u,{signal:f}),p.addEventListener("focus",this.#j.bind(this,m),{signal:f}),p.setAttribute("data-l10n-id",ut._l10nResizer[m])}}const n=this.#e[0];let r=0;for(const c of s){if(c===n)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==r){if(l<r)for(let u=0;u<r-l;u++)this.#l.append(this.#l.firstChild);else if(l>r)for(let u=0;u<l-r;u++)this.#l.firstChild.before(this.#l.lastChild);let c=0;for(const u of s){const p=this.#e[c++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",ut._l10nResizer[p])}}this.#k(0),this.#g=!0,this.#l.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){ut._resizerKeyboardManager.exec(this,t)}#H(t){this.#g&&t.relatedTarget?.parentNode!==this.#l&&this.#F()}#j(t){this.#u=this.#g?t:""}#k(t){if(this.#e)for(const s of this.#e)s.tabIndex=t}_resizeWithKeyboard(t,s){this.#g&&this.#U(this.#u,{deltaX:t,deltaY:s,fromKeyboard:!0})}#F(){this.#g=!1,this.#k(-1),this.#O()}_stopResizingWithKeyboard(){this.#F(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#s?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#l?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#s?.toggleAltTextBadge(!0))}updateParams(t,s){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,s){this.#o=!0;const n=t/s,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,s=!1){if(s){this.#S||=new Map;const{action:n}=t;let r=this.#S.get(n);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#S.delete(n),this.#S.size===0&&(this.#S=null)},ut._telemetryTimeout),this.#S.set(n,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(t){let s=t.container.querySelector(".annotationContent");if(!s)s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),t.container.prepend(s);else if(s.nodeName==="CANVAS"){const n=s;s=document.createElement("div"),s.classList.add("annotationContent",this.editorType),n.before(s)}return s}resetAnnotationElement(t){const{firstChild:s}=t.container;s?.nodeName==="DIV"&&s.classList.contains("annotationContent")&&s.remove()}}class OA extends ut{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const sm=3285377520,gs=4294901760,Ls=65535;class Zm{constructor(t){this.h1=t?t&4294967295:sm,this.h2=t?t&4294967295:sm}update(t){let s,n;if(typeof t=="string"){s=new Uint8Array(t.length*2),n=0;for(let x=0,_=t.length;x<_;x++){const T=t.charCodeAt(x);T<=255?s[n++]=T:(s[n++]=T>>>8,s[n++]=T&255)}}else if(ArrayBuffer.isView(t))s=t.slice(),n=s.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=n>>2,l=n-r*4,c=new Uint32Array(s.buffer,0,r);let u=0,f=0,p=this.h1,m=this.h2;const y=3432918353,b=461845907,S=y&Ls,E=b&Ls;for(let x=0;x<r;x++)x&1?(u=c[x],u=u*y&gs|u*S&Ls,u=u<<15|u>>>17,u=u*b&gs|u*E&Ls,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(f=c[x],f=f*y&gs|f*S&Ls,f=f<<15|f>>>17,f=f*b&gs|f*E&Ls,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(u=0,l){case 3:u^=s[r*4+2]<<16;case 2:u^=s[r*4+1]<<8;case 1:u^=s[r*4],u=u*y&gs|u*S&Ls,u=u<<15|u>>>17,u=u*b&gs|u*E&Ls,r&1?p^=u:m^=u}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,s=this.h2;return t^=s>>>1,t=t*3981806797&gs|t*36045&Ls,s=s*4283543511&gs|((s<<16|t>>>16)*2950163797&gs)>>>16,t^=s>>>1,t=t*444984403&gs|t*60499&Ls,s=s*3301882366&gs|((s<<16|t>>>16)*3120437893&gs)>>>16,t^=s>>>1,(t>>>0).toString(16).padStart(8,"0")+(s>>>0).toString(16).padStart(8,"0")}}const ch=Object.freeze({map:null,hash:"",transfer:void 0});class Mh{#t=!1;#e=null;#s=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,s){const n=this.#s.get(t);return n===void 0?s:Object.assign(s,n)}getRawValue(t){return this.#s.get(t)}remove(t){if(this.#s.delete(t),this.#s.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const s of this.#s.values())if(s instanceof ut)return;this.onAnnotationEditor(null)}}setValue(t,s){const n=this.#s.get(t);let r=!1;if(n!==void 0)for(const[l,c]of Object.entries(s))n[l]!==c&&(r=!0,n[l]=c);else r=!0,this.#s.set(t,s);r&&this.#i(),s instanceof ut&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(s.constructor._type)}has(t){return this.#s.has(t)}get size(){return this.#s.size}#i(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Jm(this)}get serializable(){if(this.#s.size===0)return ch;const t=new Map,s=new Zm,n=[],r=Object.create(null);let l=!1;for(const[c,u]of this.#s){const f=u instanceof ut?u.serialize(!1,r):u;f&&(t.set(c,f),s.update(`${c}:${JSON.stringify(f)}`),l||=!!f.bitmap)}if(l)for(const c of t.values())c.bitmap&&n.push(c.bitmap);return t.size>0?{map:t,hash:s.hexdigest(),transfer:n}:ch}get editorStats(){let t=null;const s=new Map;for(const n of this.#s.values()){if(!(n instanceof ut))continue;const r=n.telemetryFinalData;if(!r)continue;const{type:l}=r;s.has(l)||s.set(l,Object.getPrototypeOf(n).constructor),t||=Object.create(null);const c=t[l]||=new Map;for(const[u,f]of Object.entries(r)){if(u==="type")continue;let p=c.get(u);p||(p=new Map,c.set(u,p));const m=p.get(f)??0;p.set(f,m+1)}}for(const[n,r]of s)t[n]=r.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const s of this.#s.values())!(s instanceof ut)||!s.annotationElementId||!s.serialize()||t.push(s.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#s.entries()}}class Jm extends Mh{#t;constructor(t){super();const{map:s,hash:n,transfer:r}=t.serializable,l=structuredClone(s,r?{transfer:r}:null);this.#t={map:l,hash:n,transfer:r}}get print(){Ut("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Tt(this,"modifiedIds",{ids:new Set,hash:""})}}class jA{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:s=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const s=this.styleElement.sheet;s.insertRule(t,s.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:s,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(ce(!s,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:l,style:c}=t,u=new FontFace(r,l,c);this.addNativeFontFace(u);try{await u.load(),this.#t.add(r),n?.(t)}catch{bt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Ut("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(r){throw bt(`Failed to load font '${n.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const s=t.createFontFaceRule();if(s){if(this.insertRule(s),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Tt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Tt(this,"isSyncFontLoadingSupported",Ie||Ee.platform.isFirefox)}_queueLoadingCallback(t){function s(){for(ce(!r.done,"completeRequest() cannot be called twice."),r.done=!0;n.length>0&&n[0].done;){const l=n.shift();setTimeout(l.callback,0)}}const{loadingRequests:n}=this,r={done:!1,complete:s,callback:t};return n.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Tt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,s){function n(j,M){return j.charCodeAt(M)<<24|j.charCodeAt(M+1)<<16|j.charCodeAt(M+2)<<8|j.charCodeAt(M+3)&255}function r(j,M,F,H){const $=j.substring(0,M),W=j.substring(M+F);return $+H+W}let l,c;const u=this._document.createElement("canvas");u.width=1,u.height=1;const f=u.getContext("2d");let p=0;function m(j,M){if(++p>30){bt("Load test font never loaded."),M();return}if(f.font="30px "+j,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(m.bind(null,j,M))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=r(b,976,y.length,y);const E=16,x=1482184792;let _=n(b,E);for(l=0,c=y.length-3;l<c;l+=4)_=_-x+n(y,l)|0;l<y.length&&(_=_-x+n(y+"XXX",l)|0),b=r(b,E,4,xA(_));const T=`url(data:font/opentype;base64,${btoa(b)});`,O=`@font-face {font-family:"${y}";src:${T}}`;this.insertRule(O);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const j of[t.loadedName,y]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=j,N.append(M)}this._document.body.append(N),m(y,()=>{N.remove(),s.complete()})}}class kA{constructor(t,s=null){this.compiledGlyphs=Object.create(null);for(const n in t)this[n]=t[n];this._inspectFont=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Xm(this.data)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),s}getPathGenerator(t,s){if(this.compiledGlyphs[s]!==void 0)return this.compiledGlyphs[s];const n=this.loadedName+"_path_"+s;let r;try{r=t.get(n)}catch(c){bt(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(r||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[s]=l}}function PA(h){if(h instanceof URL)return h.href;if(typeof h=="string"){if(Ie)return h;const t=URL.parse(h,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function IA(h){if(Ie&&typeof Buffer<"u"&&h instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength)return h;if(typeof h=="string")return Lr(h);if(h instanceof ArrayBuffer||ArrayBuffer.isView(h)||typeof h=="object"&&!isNaN(h?.length))return new Uint8Array(h);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function io(h){if(typeof h!="string")return null;if(h.endsWith("/"))return h;throw new Error(`Invalid factory url: "${h}" must include trailing slash.`)}const uh=h=>typeof h=="object"&&Number.isInteger(h?.num)&&h.num>=0&&Number.isInteger(h?.gen)&&h.gen>=0,zA=h=>typeof h=="object"&&typeof h?.name=="string",tv=TA.bind(null,uh,zA);class BA{#t=new Map;#e=Promise.resolve();postMessage(t,s){const n={data:structuredClone(t,s?{transfer:s}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,n)})}addEventListener(t,s,n=null){let r=null;if(n?.signal instanceof AbortSignal){const{signal:l}=n;if(l.aborted){bt("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(t,s);r=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}this.#t.set(s,r)}removeEventListener(t,s){this.#t.get(s)?.(),this.#t.delete(s)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const no={DATA:1,ERROR:2},oe={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function im(){}function Ye(h){if(h instanceof ei||h instanceof fo||h instanceof Jg||h instanceof wr||h instanceof Wu)return h;switch(h instanceof Error||typeof h=="object"&&h!==null||Ut('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),h.name){case"AbortException":return new ei(h.message);case"InvalidPDFException":return new fo(h.message);case"PasswordException":return new Jg(h.message,h.code);case"ResponseException":return new wr(h.message,h.status,h.missing);case"UnknownErrorException":return new Wu(h.message,h.details)}return new Wu(h.message,h.toString())}class vr{#t=new AbortController;constructor(t,s,n){this.sourceName=t,this.targetName=s,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#i(t);return}if(t.callback){const n=t.callbackId,r=this.callbackCapabilities[n];if(!r)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===no.DATA)r.resolve(t.data);else if(t.callback===no.ERROR)r.reject(Ye(t.reason));else throw new Error("Unexpected callback case");return}const s=this.actionHandler[t.action];if(!s)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,r=t.sourceName,l=this.comObj;Promise.try(s,t.data).then(function(c){l.postMessage({sourceName:n,targetName:r,callback:no.DATA,callbackId:t.callbackId,data:c})},function(c){l.postMessage({sourceName:n,targetName:r,callback:no.ERROR,callbackId:t.callbackId,reason:Ye(c)})});return}if(t.streamId){this.#s(t);return}s(t.data)}on(t,s){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=s}send(t,s,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:s},n)}sendWithPromise(t,s,n){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:s},n)}catch(c){l.reject(c)}return l.promise}sendWithStream(t,s,n,r){const l=this.streamId++,c=this.sourceName,u=this.targetName,f=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:c,targetName:u,action:t,streamId:l,data:s,desiredSize:p.desiredSize},r),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[l].pullCall=m,f.postMessage({sourceName:c,targetName:u,stream:oe.PULL,streamId:l,desiredSize:p.desiredSize}),m.promise},cancel:p=>{ce(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[l].cancelCall=m,this.streamControllers[l].isClosed=!0,f.postMessage({sourceName:c,targetName:u,stream:oe.CANCEL,streamId:l,reason:Ye(p)}),m.promise}},n)}#s(t){const s=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this,u=this.actionHandler[t.action],f={enqueue(p,m=1,y){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=m,b>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:n,targetName:r,stream:oe.ENQUEUE,streamId:s,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:oe.CLOSE,streamId:s}),delete c.streamSinks[s])},error(p){ce(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:n,targetName:r,stream:oe.ERROR,streamId:s,reason:Ye(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[s]=f,Promise.try(u,t.data,f).then(function(){l.postMessage({sourceName:n,targetName:r,stream:oe.START_COMPLETE,streamId:s,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:oe.START_COMPLETE,streamId:s,reason:Ye(p)})})}#i(t){const s=t.streamId,n=this.sourceName,r=t.sourceName,l=this.comObj,c=this.streamControllers[s],u=this.streamSinks[s];switch(t.stream){case oe.START_COMPLETE:t.success?c.startCall.resolve():c.startCall.reject(Ye(t.reason));break;case oe.PULL_COMPLETE:t.success?c.pullCall.resolve():c.pullCall.reject(Ye(t.reason));break;case oe.PULL:if(!u){l.postMessage({sourceName:n,targetName:r,stream:oe.PULL_COMPLETE,streamId:s,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||im).then(function(){l.postMessage({sourceName:n,targetName:r,stream:oe.PULL_COMPLETE,streamId:s,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:oe.PULL_COMPLETE,streamId:s,reason:Ye(p)})});break;case oe.ENQUEUE:if(ce(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(t.chunk);break;case oe.CLOSE:if(ce(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,s);break;case oe.ERROR:ce(c,"error should have stream controller"),c.controller.error(Ye(t.reason)),this.#a(c,s);break;case oe.CANCEL_COMPLETE:t.success?c.cancelCall.resolve():c.cancelCall.reject(Ye(t.reason)),this.#a(c,s);break;case oe.CANCEL:if(!u)break;const f=Ye(t.reason);Promise.try(u.onCancel||im,f).then(function(){l.postMessage({sourceName:n,targetName:r,stream:oe.CANCEL_COMPLETE,streamId:s,success:!0})},function(p){l.postMessage({sourceName:n,targetName:r,stream:oe.CANCEL_COMPLETE,streamId:s,reason:Ye(p)})}),u.sinkCapability.reject(f),u.isCancelled=!0,delete this.streamSinks[s];break;default:throw new Error("Unexpected stream case")}}async#a(t,s){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[s]}destroy(){this.#t?.abort(),this.#t=null}}class ev{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,s){if(t<=0||s<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,s);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,s,n){if(!t.canvas)throw new Error("Canvas is not specified");if(s<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=s,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,s){Ut("Abstract method `_createCanvas` called.")}}class UA extends ev{constructor({ownerDocument:t=globalThis.document,enableHWA:s=!1}){super({enableHWA:s}),this._document=t}_createCanvas(t,s){const n=this._document.createElement("canvas");return n.width=t,n.height=s,n}}class sv{constructor({baseUrl:t=null,isCompressed:s=!0}){this.baseUrl=t,this.isCompressed=s}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const s=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(s).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${s}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class nm extends sv{async _fetch(t){const s=await da(t,this.isCompressed?"arraybuffer":"text");return s instanceof ArrayBuffer?new Uint8Array(s):Lr(s)}}class iv{addFilter(t){return"none"}addHCMFilter(t,s){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,s,n,r,l){return"none"}destroy(t=!1){}}class HA extends iv{#t;#e;#s;#i;#a;#n;#o=0;constructor({docId:t,ownerDocument:s=globalThis.document}){super(),this.#i=t,this.#a=s}get#l(){return this.#e||=new Map}get#h(){return this.#n||=new Map}get#c(){if(!this.#s){const t=this.#a.createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const n=this.#a.createElementNS(Js,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#s=this.#a.createElementNS(Js,"defs"),t.append(n),n.append(this.#s),this.#a.body.append(t)}return this.#s}#d(t){if(t.length===1){const f=t[0],p=new Array(256);for(let y=0;y<256;y++)p[y]=f[y]/255;const m=p.join(",");return[m,m,m]}const[s,n,r]=t,l=new Array(256),c=new Array(256),u=new Array(256);for(let f=0;f<256;f++)l[f]=s[f]/255,c[f]=n[f]/255,u[f]=r[f]/255;return[l.join(","),c.join(","),u.join(",")]}#u(t){if(this.#t===void 0){this.#t="";const s=this.#a.URL;s!==this.#a.baseURI&&(jr(s)?bt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Eh(s,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let s=this.#l.get(t);if(s)return s;const[n,r,l]=this.#d(t),c=t.length===1?n:`${n}${r}${l}`;if(s=this.#l.get(c),s)return this.#l.set(t,s),s;const u=`g_${this.#i}_transfer_map_${this.#o++}`,f=this.#u(u);this.#l.set(t,f),this.#l.set(c,f);const p=this.#p(u);return this.#g(n,r,l,p),f}addHCMFilter(t,s){const n=`${t}-${s}`,r="base";let l=this.#h.get(r);if(l?.key===n||(l?(l.filter?.remove(),l.key=n,l.url="none",l.filter=null):(l={key:n,url:"none",filter:null},this.#h.set(r,l)),!t||!s))return l.url;const c=this.#y(t);t=ot.makeHexColor(...c);const u=this.#y(s);if(s=ot.makeHexColor(...u),this.#c.style.color="",t==="#000000"&&s==="#ffffff"||t===s)return l.url;const f=new Array(256);for(let S=0;S<=255;S++){const E=S/255;f[S]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const p=f.join(","),m=`g_${this.#i}_hcm_filter`,y=l.filter=this.#p(m);this.#g(p,p,p,y),this.#r(y);const b=(S,E)=>{const x=c[S]/255,_=u[S]/255,T=new Array(E+1);for(let O=0;O<=E;O++)T[O]=x+O/E*(_-x);return T.join(",")};return this.#g(b(0,5),b(1,5),b(2,5),y),l.url=this.#u(m),l.url}addAlphaFilter(t){let s=this.#l.get(t);if(s)return s;const[n]=this.#d([t]),r=`alpha_${n}`;if(s=this.#l.get(r),s)return this.#l.set(t,s),s;const l=`g_${this.#i}_alpha_map_${this.#o++}`,c=this.#u(l);this.#l.set(t,c),this.#l.set(r,c);const u=this.#p(l);return this.#v(n,u),c}addLuminosityFilter(t){let s=this.#l.get(t||"luminosity");if(s)return s;let n,r;if(t?([n]=this.#d([t]),r=`luminosity_${n}`):r="luminosity",s=this.#l.get(r),s)return this.#l.set(t,s),s;const l=`g_${this.#i}_luminosity_map_${this.#o++}`,c=this.#u(l);this.#l.set(t,c),this.#l.set(r,c);const u=this.#p(l);return this.#f(u),t&&this.#v(n,u),c}addHighlightHCMFilter(t,s,n,r,l){const c=`${s}-${n}-${r}-${l}`;let u=this.#h.get(t);if(u?.key===c||(u?(u.filter?.remove(),u.key=c,u.url="none",u.filter=null):(u={key:c,url:"none",filter:null},this.#h.set(t,u)),!s||!n))return u.url;const[f,p]=[s,n].map(this.#y.bind(this));let m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[b,S]=[r,l].map(this.#y.bind(this));y<m&&([m,y,b,S]=[y,m,S,b]),this.#c.style.color="";const E=(T,O,N)=>{const j=new Array(256),M=(y-m)/N,F=T/255,H=(O-T)/(255*N);let $=0;for(let W=0;W<=N;W++){const J=Math.round(m+W*M),Z=F+W*H;for(let at=$;at<=J;at++)j[at]=Z;$=J+1}for(let W=$;W<256;W++)j[W]=j[$-1];return j.join(",")},x=`g_${this.#i}_hcm_${t}_filter`,_=u.filter=this.#p(x);return this.#r(_),this.#g(E(b[0],S[0],5),E(b[1],S[1],5),E(b[2],S[2],5),_),u.url=this.#u(x),u.url}destroy(t=!1){t&&this.#n?.size||(this.#s?.parentNode.parentNode.remove(),this.#s=null,this.#e?.clear(),this.#e=null,this.#n?.clear(),this.#n=null,this.#o=0)}#f(t){const s=this.#a.createElementNS(Js,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(s)}#r(t){const s=this.#a.createElementNS(Js,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(s)}#p(t){const s=this.#a.createElementNS(Js,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",t),this.#c.append(s),s}#m(t,s,n){const r=this.#a.createElementNS(Js,s);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}#g(t,s,n,r){const l=this.#a.createElementNS(Js,"feComponentTransfer");r.append(l),this.#m(l,"feFuncR",t),this.#m(l,"feFuncG",s),this.#m(l,"feFuncB",n)}#v(t,s){const n=this.#a.createElementNS(Js,"feComponentTransfer");s.append(n),this.#m(n,"feFuncA",t)}#y(t){return this.#c.style.color=t,Ch(getComputedStyle(this.#c).getPropertyValue("color"))}}class nv{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const s=`${this.baseUrl}${t}`;return this._fetch(s).catch(n=>{throw new Error(`Unable to load font data at: ${s}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class am extends nv{async _fetch(t){const s=await da(t,"arraybuffer");return new Uint8Array(s)}}class av{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const s=`${this.baseUrl}${t}`;return this._fetch(s).catch(n=>{throw new Error(`Unable to load wasm data at: ${s}`)})}async _fetch(t){Ut("Abstract method `_fetch` called.")}}class rm extends av{async _fetch(t){const s=await da(t,"arraybuffer");return new Uint8Array(s)}}Ie&&bt("Please use the `legacy` build in Node.js environments.");async function Dh(h){const s=await process.getBuiltinModule("fs").promises.readFile(h);return new Uint8Array(s)}class FA extends iv{}class GA extends ev{_createCanvas(t,s){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,s)}}class VA extends sv{async _fetch(t){return Dh(t)}}class qA extends nv{async _fetch(t){return Dh(t)}}class YA extends av{async _fetch(t){return Dh(t)}}const Ce={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function hh(h,t){if(!t)return;const s=t[2]-t[0],n=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],s,n),h.clip(r)}class Lh{isModifyingCurrentTransform(){return!1}getPattern(){Ut("Abstract method `getPattern` called.")}}class XA extends Lh{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let s;this._type==="axial"?s=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(s=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)s.addColorStop(n[0],n[1]);return s}getPattern(t,s,n,r){let l;if(r===Ce.STROKE||r===Ce.FILL){const c=s.current.getClippedPathBoundingBox(r,Kt(t))||[0,0,0,0],u=Math.ceil(c[2]-c[0])||1,f=Math.ceil(c[3]-c[1])||1,p=s.cachedCanvases.getCanvas("pattern",u,f),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-c[0],-c[1]),n=ot.transform(n,[1,0,0,1,c[0],c[1]]),m.transform(...s.baseTransform),this.matrix&&m.transform(...this.matrix),hh(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),l=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(n);l.setTransform(y)}else hh(t,this._bbox),l=this._createGradient(t);return l}}function Ju(h,t,s,n,r,l,c,u){const f=t.coords,p=t.colors,m=h.data,y=h.width*4;let b;f[s+1]>f[n+1]&&(b=s,s=n,n=b,b=l,l=c,c=b),f[n+1]>f[r+1]&&(b=n,n=r,r=b,b=c,c=u,u=b),f[s+1]>f[n+1]&&(b=s,s=n,n=b,b=l,l=c,c=b);const S=(f[s]+t.offsetX)*t.scaleX,E=(f[s+1]+t.offsetY)*t.scaleY,x=(f[n]+t.offsetX)*t.scaleX,_=(f[n+1]+t.offsetY)*t.scaleY,T=(f[r]+t.offsetX)*t.scaleX,O=(f[r+1]+t.offsetY)*t.scaleY;if(E>=O)return;const N=p[l],j=p[l+1],M=p[l+2],F=p[c],H=p[c+1],$=p[c+2],W=p[u],J=p[u+1],Z=p[u+2],at=Math.round(E),yt=Math.round(O);let ct,lt,L,B,tt,mt,R,q;for(let Q=at;Q<=yt;Q++){if(Q<_){const At=Q<E?0:(E-Q)/(E-_);ct=S-(S-x)*At,lt=N-(N-F)*At,L=j-(j-H)*At,B=M-(M-$)*At}else{let At;Q>O?At=1:_===O?At=0:At=(_-Q)/(_-O),ct=x-(x-T)*At,lt=F-(F-W)*At,L=H-(H-J)*At,B=$-($-Z)*At}let K;Q<E?K=0:Q>O?K=1:K=(E-Q)/(E-O),tt=S-(S-T)*K,mt=N-(N-W)*K,R=j-(j-J)*K,q=M-(M-Z)*K;const st=Math.round(Math.min(ct,tt)),pt=Math.round(Math.max(ct,tt));let nt=y*Q+st*4;for(let At=st;At<=pt;At++)K=(ct-At)/(ct-tt),K<0?K=0:K>1&&(K=1),m[nt++]=lt-(lt-mt)*K|0,m[nt++]=L-(L-R)*K|0,m[nt++]=B-(B-q)*K|0,m[nt++]=255}}function $A(h,t,s){const n=t.coords,r=t.colors;let l,c;switch(t.type){case"lattice":const u=t.verticesPerRow,f=Math.floor(n.length/u)-1,p=u-1;for(l=0;l<f;l++){let m=l*u;for(let y=0;y<p;y++,m++)Ju(h,s,n[m],n[m+1],n[m+u],r[m],r[m+1],r[m+u]),Ju(h,s,n[m+u+1],n[m+1],n[m+u],r[m+u+1],r[m+1],r[m+u])}break;case"triangles":for(l=0,c=n.length;l<c;l+=3)Ju(h,s,n[l],n[l+1],n[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class KA extends Lh{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,s,n){const u=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,m=Math.ceil(this._bounds[3])-f,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),S=p/y,E=m/b,x={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-f,scaleX:1/S,scaleY:1/E},_=y+4,T=b+4,O=n.getCanvas("mesh",_,T),N=O.context,j=N.createImageData(y,b);if(s){const F=j.data;for(let H=0,$=F.length;H<$;H+=4)F[H]=s[0],F[H+1]=s[1],F[H+2]=s[2],F[H+3]=255}for(const F of this._figures)$A(j,F,x);return N.putImageData(j,2,2),{canvas:O.canvas,offsetX:u-2*S,offsetY:f-2*E,scaleX:S,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(t,s,n,r){hh(t,this._bbox);const l=new Float32Array(2);if(r===Ce.SHADING)ot.singularValueDecompose2dScale(Kt(t),l);else if(this.matrix){ot.singularValueDecompose2dScale(this.matrix,l);const[u,f]=l;ot.singularValueDecompose2dScale(s.baseTransform,l),l[0]*=u,l[1]*=f}else ot.singularValueDecompose2dScale(s.baseTransform,l);const c=this._createMeshCanvas(l,r===Ce.SHADING?null:this._background,s.cachedCanvases);return r!==Ce.SHADING&&(t.setTransform(...s.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(c.offsetX,c.offsetY),t.scale(c.scaleX,c.scaleY),t.createPattern(c.canvas,"no-repeat")}}class WA extends Lh{getPattern(){return"hotpink"}}function QA(h){switch(h[0]){case"RadialAxial":return new XA(h);case"Mesh":return new KA(h);case"Dummy":return new WA}throw new Error(`Unknown IR type: ${h[0]}`)}const lm={COLORED:1,UNCOLORED:2};class Oh{static MAX_PATTERN_SIZE=3e3;constructor(t,s,n,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=s,this.canvasGraphicsFactory=n,this.baseTransform=r}createPatternCanvas(t){const{bbox:s,operatorList:n,paintType:r,tilingType:l,color:c,canvasGraphicsFactory:u}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),yo("TilingType: "+l);const m=s[0],y=s[1],b=s[2],S=s[3],E=b-m,x=S-y,_=new Float32Array(2);ot.singularValueDecompose2dScale(this.matrix,_);const[T,O]=_;ot.singularValueDecompose2dScale(this.baseTransform,_);const N=T*_[0],j=O*_[1];let M=E,F=x,H=!1,$=!1;const W=Math.ceil(f*N),J=Math.ceil(p*j),Z=Math.ceil(E*N),at=Math.ceil(x*j);W>=Z?M=f:H=!0,J>=at?F=p:$=!0;const yt=this.getSizeAndScale(M,this.ctx.canvas.width,N),ct=this.getSizeAndScale(F,this.ctx.canvas.height,j),lt=t.cachedCanvases.getCanvas("pattern",yt.size,ct.size),L=lt.context,B=u.createCanvasGraphics(L);if(B.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(B,r,c),L.translate(-yt.scale*m,-ct.scale*y),B.transform(yt.scale,0,0,ct.scale,0,0),L.save(),this.clipBbox(B,m,y,b,S),B.baseTransform=Kt(B.ctx),B.executeOperatorList(n),B.endDrawing(),L.restore(),H||$){const tt=lt.canvas;H&&(M=f),$&&(F=p);const mt=this.getSizeAndScale(M,this.ctx.canvas.width,N),R=this.getSizeAndScale(F,this.ctx.canvas.height,j),q=mt.size,Q=R.size,K=t.cachedCanvases.getCanvas("pattern-workaround",q,Q),st=K.context,pt=H?Math.floor(E/f):0,nt=$?Math.floor(x/p):0;for(let At=0;At<=pt;At++)for(let Nt=0;Nt<=nt;Nt++)st.drawImage(tt,q*At,Q*Nt,q,Q,0,0,q,Q);return{canvas:K.canvas,scaleX:mt.scale,scaleY:R.scale,offsetX:m,offsetY:y}}return{canvas:lt.canvas,scaleX:yt.scale,scaleY:ct.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,s,n){const r=Math.max(Oh.MAX_PATTERN_SIZE,s);let l=Math.ceil(t*n);return l>=r?l=r:n=l/t,{scale:n,size:l}}clipBbox(t,s,n,r,l){const c=r-s,u=l-n;t.ctx.rect(s,n,c,u),ot.axialAlignedBoundingBox([s,n,r,l],Kt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,s,n){const r=t.ctx,l=t.current;switch(s){case lm.COLORED:const{fillStyle:c,strokeStyle:u}=this.ctx;r.fillStyle=l.fillColor=c,r.strokeStyle=l.strokeColor=u;break;case lm.UNCOLORED:r.fillStyle=r.strokeStyle=n,l.fillColor=l.strokeColor=n;break;default:throw new SA(`Unsupported paint type: ${s}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,s,n,r){let l=n;r!==Ce.SHADING&&(l=ot.transform(l,s.baseTransform),this.matrix&&(l=ot.transform(l,this.matrix)));const c=this.createPatternCanvas(s);let u=new DOMMatrix(l);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(u),f}}function ZA({src:h,srcPos:t=0,dest:s,width:n,height:r,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const u=Ee.isLittleEndian?4278190080:255,[f,p]=c?[l,u]:[u,l],m=n>>3,y=n&7,b=h.length;s=new Uint32Array(s.buffer);let S=0;for(let E=0;E<r;E++){for(const _=t+m;t<_;t++){const T=t<b?h[t]:255;s[S++]=T&128?p:f,s[S++]=T&64?p:f,s[S++]=T&32?p:f,s[S++]=T&16?p:f,s[S++]=T&8?p:f,s[S++]=T&4?p:f,s[S++]=T&2?p:f,s[S++]=T&1?p:f}if(y===0)continue;const x=t<b?h[t++]:255;for(let _=0;_<y;_++)s[S++]=x&1<<7-_?p:f}return{srcPos:t,destPos:S}}const om=16,cm=100,JA=15,um=10,Xe=16,th=new DOMMatrix,as=new Float32Array(2),ia=new Float32Array([1/0,1/0,-1/0,-1/0]);function tS(h,t){if(h._removeMirroring)throw new Error("Context is already forwarding operations.");h.__originalSave=h.save,h.__originalRestore=h.restore,h.__originalRotate=h.rotate,h.__originalScale=h.scale,h.__originalTranslate=h.translate,h.__originalTransform=h.transform,h.__originalSetTransform=h.setTransform,h.__originalResetTransform=h.resetTransform,h.__originalClip=h.clip,h.__originalMoveTo=h.moveTo,h.__originalLineTo=h.lineTo,h.__originalBezierCurveTo=h.bezierCurveTo,h.__originalRect=h.rect,h.__originalClosePath=h.closePath,h.__originalBeginPath=h.beginPath,h._removeMirroring=()=>{h.save=h.__originalSave,h.restore=h.__originalRestore,h.rotate=h.__originalRotate,h.scale=h.__originalScale,h.translate=h.__originalTranslate,h.transform=h.__originalTransform,h.setTransform=h.__originalSetTransform,h.resetTransform=h.__originalResetTransform,h.clip=h.__originalClip,h.moveTo=h.__originalMoveTo,h.lineTo=h.__originalLineTo,h.bezierCurveTo=h.__originalBezierCurveTo,h.rect=h.__originalRect,h.closePath=h.__originalClosePath,h.beginPath=h.__originalBeginPath,delete h._removeMirroring},h.save=function(){t.save(),this.__originalSave()},h.restore=function(){t.restore(),this.__originalRestore()},h.translate=function(s,n){t.translate(s,n),this.__originalTranslate(s,n)},h.scale=function(s,n){t.scale(s,n),this.__originalScale(s,n)},h.transform=function(s,n,r,l,c,u){t.transform(s,n,r,l,c,u),this.__originalTransform(s,n,r,l,c,u)},h.setTransform=function(s,n,r,l,c,u){t.setTransform(s,n,r,l,c,u),this.__originalSetTransform(s,n,r,l,c,u)},h.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},h.rotate=function(s){t.rotate(s),this.__originalRotate(s)},h.clip=function(s){t.clip(s),this.__originalClip(s)},h.moveTo=function(s,n){t.moveTo(s,n),this.__originalMoveTo(s,n)},h.lineTo=function(s,n){t.lineTo(s,n),this.__originalLineTo(s,n)},h.bezierCurveTo=function(s,n,r,l,c,u){t.bezierCurveTo(s,n,r,l,c,u),this.__originalBezierCurveTo(s,n,r,l,c,u)},h.rect=function(s,n,r,l){t.rect(s,n,r,l),this.__originalRect(s,n,r,l)},h.closePath=function(){t.closePath(),this.__originalClosePath()},h.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class eS{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,s,n){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,s,n)):(r=this.canvasFactory.create(s,n),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const s=this.cache[t];this.canvasFactory.destroy(s),delete this.cache[t]}}}function ao(h,t,s,n,r,l,c,u,f,p){const[m,y,b,S,E,x]=Kt(h);if(y===0&&b===0){const O=c*m+E,N=Math.round(O),j=u*S+x,M=Math.round(j),F=(c+f)*m+E,H=Math.abs(Math.round(F)-N)||1,$=(u+p)*S+x,W=Math.abs(Math.round($)-M)||1;return h.setTransform(Math.sign(m),0,0,Math.sign(S),N,M),h.drawImage(t,s,n,r,l,0,0,H,W),h.setTransform(m,y,b,S,E,x),[H,W]}if(m===0&&S===0){const O=u*b+E,N=Math.round(O),j=c*y+x,M=Math.round(j),F=(u+p)*b+E,H=Math.abs(Math.round(F)-N)||1,$=(c+f)*y+x,W=Math.abs(Math.round($)-M)||1;return h.setTransform(0,Math.sign(y),Math.sign(b),0,N,M),h.drawImage(t,s,n,r,l,0,0,W,H),h.setTransform(m,y,b,S,E,x),[W,H]}h.drawImage(t,s,n,r,l,c,u,f,p);const _=Math.hypot(m,y),T=Math.hypot(b,S);return[_*f,T*p]}class hm{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=oh;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Le.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,s){this.clipBox=new Float32Array([0,0,t,s]),this.minMax=ia.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ce.FILL,s=null){const n=this.minMax.slice();if(t===Ce.STROKE){s||Ut("Stroke bounding box must include transform."),ot.singularValueDecompose2dScale(s,as);const r=as[0]*this.lineWidth/2,l=as[1]*this.lineWidth/2;n[0]-=r,n[1]-=l,n[2]+=r,n[3]+=l}return n}updateClipFromPath(){const t=ot.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(ia,0)}getClippedPathBoundingBox(t=Ce.FILL,s=null){return ot.intersect(this.clipBox,this.getPathBoundingBox(t,s))}}function dm(h,t){if(t instanceof ImageData){h.putImageData(t,0,0);return}const s=t.height,n=t.width,r=s%Xe,l=(s-r)/Xe,c=r===0?l:l+1,u=h.createImageData(n,Xe);let f=0,p;const m=t.data,y=u.data;let b,S,E,x;if(t.kind===br.GRAYSCALE_1BPP){const _=m.byteLength,T=new Uint32Array(y.buffer,0,y.byteLength>>2),O=T.length,N=n+7>>3,j=4294967295,M=Ee.isLittleEndian?4278190080:255;for(b=0;b<c;b++){for(E=b<l?Xe:r,p=0,S=0;S<E;S++){const F=_-f;let H=0;const $=F>N?n:F*8-7,W=$&-8;let J=0,Z=0;for(;H<W;H+=8)Z=m[f++],T[p++]=Z&128?j:M,T[p++]=Z&64?j:M,T[p++]=Z&32?j:M,T[p++]=Z&16?j:M,T[p++]=Z&8?j:M,T[p++]=Z&4?j:M,T[p++]=Z&2?j:M,T[p++]=Z&1?j:M;for(;H<$;H++)J===0&&(Z=m[f++],J=128),T[p++]=Z&J?j:M,J>>=1}for(;p<O;)T[p++]=0;h.putImageData(u,0,b*Xe)}}else if(t.kind===br.RGBA_32BPP){for(S=0,x=n*Xe*4,b=0;b<l;b++)y.set(m.subarray(f,f+x)),f+=x,h.putImageData(u,0,S),S+=Xe;b<c&&(x=n*r*4,y.set(m.subarray(f,f+x)),h.putImageData(u,0,S))}else if(t.kind===br.RGB_24BPP)for(E=Xe,x=n*E,b=0;b<c;b++){for(b>=l&&(E=r,x=n*E),p=0,S=x;S--;)y[p++]=m[f++],y[p++]=m[f++],y[p++]=m[f++],y[p++]=255;h.putImageData(u,0,b*Xe)}else throw new Error(`bad image kind: ${t.kind}`)}function fm(h,t){if(t.bitmap){h.drawImage(t.bitmap,0,0);return}const s=t.height,n=t.width,r=s%Xe,l=(s-r)/Xe,c=r===0?l:l+1,u=h.createImageData(n,Xe);let f=0;const p=t.data,m=u.data;for(let y=0;y<c;y++){const b=y<l?Xe:r;({srcPos:f}=ZA({src:p,srcPos:f,dest:m,width:n,height:b,nonBlackColor:0})),h.putImageData(u,0,y*Xe)}}function dr(h,t){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of s)h[n]!==void 0&&(t[n]=h[n]);h.setLineDash!==void 0&&(t.setLineDash(h.getLineDash()),t.lineDashOffset=h.lineDashOffset)}function ro(h){h.strokeStyle=h.fillStyle="#000000",h.fillRule="nonzero",h.globalAlpha=1,h.lineWidth=1,h.lineCap="butt",h.lineJoin="miter",h.miterLimit=10,h.globalCompositeOperation="source-over",h.font="10px sans-serif",h.setLineDash!==void 0&&(h.setLineDash([]),h.lineDashOffset=0);const{filter:t}=h;t!=="none"&&t!==""&&(h.filter="none")}function pm(h,t){if(t)return!0;ot.singularValueDecompose2dScale(h,as);const s=Math.fround(Es.pixelRatio*rn.PDF_TO_CSS_UNITS);return as[0]<=s&&as[1]<=s}const sS=["butt","round","square"],iS=["miter","round","bevel"],nS={},gm={};class ra{constructor(t,s,n,r,l,{optionalContentConfig:c,markedContentStack:u=null},f,p){this.ctx=t,this.current=new hm(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=s,this.objs=n,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=c,this.cachedCanvases=new eS(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,s=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):s}beginDrawing({transform:t,viewport:s,transparency:n=!1,background:r=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=u,n){const f=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...Kt(this.compositeCtx))}this.ctx.save(),ro(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=Kt(this.ctx)}executeOperatorList(t,s,n,r){const l=t.argsArray,c=t.fnArray;let u=s||0;const f=l.length;if(f===u)return u;const p=f-u>um&&typeof n=="function",m=p?Date.now()+JA:0;let y=0;const b=this.commonObjs,S=this.objs;let E;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,n),u;if(E=c[u],E!==Er.dependency)this[E].apply(this,l[u]);else for(const x of l[u]){const _=x.startsWith("g_")?b:S;if(!_.has(x))return _.get(x,n),u}if(u++,u===f)return u;if(p&&++y>um){if(Date.now()>m)return n(),u;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const s of t.values())typeof HTMLCanvasElement<"u"&&s instanceof HTMLCanvasElement&&(s.width=s.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const s=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=s}}}_scaleImage(t,s){const n=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(s[0],s[1]),1),c=Math.max(Math.hypot(s[2],s[3]),1),u=n,f=r,p="prescale1",m,y;for(;l>2&&u>1||c>2&&f>1;){let b=u,S=f;l>2&&u>1&&(b=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/b),c>2&&f>1&&(S=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,c/=f/S),m=this.cachedCanvases.getCanvas(p,b,S),y=m.context,y.clearRect(0,0,b,S),y.drawImage(t,0,0,u,f,0,0,b,S),t=m.canvas,u=b,f=S,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:f}}_createMaskCanvas(t){const s=this.ctx,{width:n,height:r}=t,l=this.current.fillColor,c=this.current.patternFill,u=Kt(s);let f,p,m,y;if((t.bitmap||t.data)&&t.count>1){const W=t.bitmap||t.data.buffer;p=JSON.stringify(c?u:[u.slice(0,4),l]),f=this._cachedBitmapsMap.get(W),f||(f=new Map,this._cachedBitmapsMap.set(W,f));const J=f.get(p);if(J&&!c){const Z=Math.round(Math.min(u[0],u[2])+u[4]),at=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:J,offsetX:Z,offsetY:at}}m=J}m||(y=this.cachedCanvases.getCanvas("maskCanvas",n,r),fm(y.context,t));let b=ot.transform(u,[1/n,0,0,-1/r,0,0]);b=ot.transform(b,[1,0,0,1,0,-r]);const S=ia.slice();ot.axialAlignedBoundingBox([0,0,n,r],b,S);const[E,x,_,T]=S,O=Math.round(_-E)||1,N=Math.round(T-x)||1,j=this.cachedCanvases.getCanvas("fillCanvas",O,N),M=j.context,F=E,H=x;M.translate(-F,-H),M.transform(...b),m||(m=this._scaleImage(y.canvas,Ds(M)),m=m.img,f&&c&&f.set(p,m)),M.imageSmoothingEnabled=pm(Kt(M),t.interpolate),ao(M,m,0,0,m.width,m.height,0,0,n,r),M.globalCompositeOperation="source-in";const $=ot.transform(Ds(M),[1,0,0,1,-F,-H]);return M.fillStyle=c?l.getPattern(s,this,$,Ce.FILL):l,M.fillRect(0,0,n,r),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,j.canvas)),{canvas:j.canvas,offsetX:Math.round(F),offsetY:Math.round(H)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=sS[t]}setLineJoin(t){this.ctx.lineJoin=iS[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,s){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=s)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[s,n]of t)switch(s){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,s);this.suspendedCtx=this.ctx;const l=this.ctx=r.context;l.setTransform(this.suspendedCtx.getTransform()),dr(this.suspendedCtx,l),tS(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const s=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,s,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,s,n,r){const l=r[0],c=r[1],u=r[2]-l,f=r[3]-c;u===0||f===0||(this.genericComposeSMask(s.context,n,u,f,s.subtype,s.backdrop,s.transferMap,l,c,s.offsetX,s.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,s,n,r,l,c,u,f,p,m,y){let b=t.canvas,S=f-m,E=p-y;if(c)if(S<0||E<0||S+n>b.width||E+r>b.height){const _=this.cachedCanvases.getCanvas("maskExtension",n,r),T=_.context;T.drawImage(b,-S,-E),T.globalCompositeOperation="destination-atop",T.fillStyle=c,T.fillRect(0,0,n,r),T.globalCompositeOperation="source-over",b=_.canvas,S=E=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(S,E,n,r),t.clip(_),t.globalCompositeOperation="destination-atop",t.fillStyle=c,t.fillRect(S,E,n,r),t.restore()}s.save(),s.globalAlpha=1,s.setTransform(1,0,0,1,0,0),l==="Alpha"&&u?s.filter=this.filterFactory.addAlphaFilter(u):l==="Luminosity"&&(s.filter=this.filterFactory.addLuminosityFilter(u));const x=new Path2D;x.rect(f,p,n,r),s.clip(x),s.globalCompositeOperation="destination-in",s.drawImage(b,S,E,n,r,f,p,n,r),s.restore()}save(){this.inSMaskMode&&dr(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&dr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,s,n,r,l,c){this.ctx.transform(t,s,n,r,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,s,n){let[r]=s;if(!n){r||=s[0]=new Path2D,this[t](r);return}if(!(r instanceof Path2D)){const l=s[0]=new Path2D;for(let c=0,u=r.length;c<u;)switch(r[c++]){case so.moveTo:l.moveTo(r[c++],r[c++]);break;case so.lineTo:l.lineTo(r[c++],r[c++]);break;case so.curveTo:l.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case so.closePath:l.closePath();break;default:bt(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=l}ot.axialAlignedBoundingBox(n,Kt(this.ctx),this.current.minMax),this[t](r)}closePath(){this.ctx.closePath()}stroke(t,s=!0){const n=this.ctx,r=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const l=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.strokeStyle=r.getPattern(n,this,Ds(n),Ce.STROKE),l){const c=new Path2D;c.addPath(t,n.getTransform().invertSelf().multiplySelf(l)),t=c}this.rescaleAndStroke(t,!1),n.restore()}else this.rescaleAndStroke(t,!0);s&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ce.STROKE,Kt(this.ctx))),n.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,s=!0){const n=this.ctx,r=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const f=r.isModifyingCurrentTransform()?n.getTransform():null;if(n.save(),n.fillStyle=r.getPattern(n,this,Ds(n),Ce.FILL),f){const p=new Path2D;p.addPath(t,n.getTransform().invertSelf().multiplySelf(f)),t=p}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(n.fill(t,"evenodd"),this.pendingEOFill=!1):n.fill(t)),c&&n.restore(),s&&this.consumePath(t,u)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=nS}eoClip(){this.pendingClip=gm}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,s=this.ctx;if(t===void 0)return;const n=new Path2D,r=s.getTransform().invertSelf();for(const{transform:l,x:c,y:u,fontSize:f,path:p}of t)n.addPath(p,new DOMMatrix(l).preMultiplySelf(r).translate(c,u).scale(f,-f));s.clip(n),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,s){const n=this.commonObjs.get(t),r=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=n.fontMatrix||oh,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&bt("Invalid font matrix for font "+t),s<0?(s=-s,r.fontDirection=-1):r.fontDirection=1,this.current.font=n,this.current.fontSize=s,n.isType3Font)return;const l=n.loadedName||"sans-serif",c=n.systemFontInfo?.css||`"${l}", ${n.fallbackName}`;let u="normal";n.black?u="900":n.bold&&(u="bold");const f=n.italic?"italic":"normal";let p=s;s<om?p=om:s>cm&&(p=cm),this.current.fontSizeScale=s/p,this.ctx.font=`${f} ${u} ${p}px ${c}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,s){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(t,s){this.setLeading(-s),this.moveText(t,s)}setTextMatrix(t){const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#s(t,s,n){const r=new Path2D;return r.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(s)),r}paintChar(t,s,n,r,l){const c=this.ctx,u=this.current,f=u.font,p=u.textRenderingMode,m=u.fontSize/u.fontSizeScale,y=p&Le.FILL_STROKE_MASK,b=!!(p&Le.ADD_TO_PATH_FLAG),S=u.patternFill&&!f.missingFile,E=u.patternStroke&&!f.missingFile;let x;if((f.disableFontFace||b||S||E)&&(x=f.getPathGenerator(this.commonObjs,t)),f.disableFontFace||S||E){c.save(),c.translate(s,n),c.scale(m,-m);let _;if((y===Le.FILL||y===Le.FILL_STROKE)&&(r?(_=c.getTransform(),c.setTransform(...r),c.fill(this.#s(x,_,r))):c.fill(x)),y===Le.STROKE||y===Le.FILL_STROKE)if(l){_||=c.getTransform(),c.setTransform(...l);const{a:T,b:O,c:N,d:j}=_,M=ot.inverseTransform(l),F=ot.transform([T,O,N,j,0,0],M);ot.singularValueDecompose2dScale(F,as),c.lineWidth*=Math.max(as[0],as[1])/m,c.stroke(this.#s(x,_,l))}else c.lineWidth/=m,c.stroke(x);c.restore()}else(y===Le.FILL||y===Le.FILL_STROKE)&&c.fillText(t,s,n),(y===Le.STROKE||y===Le.FILL_STROKE)&&c.strokeText(t,s,n);b&&(this.pendingTextPaths||=[]).push({transform:Kt(c),x:s,y:n,fontSize:m,path:x})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const s=t.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<s.length;r+=4)if(s[r]>0&&s[r]<255){n=!0;break}return Tt(this,"isFontSubpixelAAEnabled",n)}showText(t){const s=this.current,n=s.font;if(n.isType3Font)return this.showType3Text(t);const r=s.fontSize;if(r===0)return;const l=this.ctx,c=s.fontSizeScale,u=s.charSpacing,f=s.wordSpacing,p=s.fontDirection,m=s.textHScale*p,y=t.length,b=n.vertical,S=b?1:-1,E=n.defaultVMetrics,x=r*s.fontMatrix[0],_=s.textRenderingMode===Le.FILL&&!n.disableFontFace&&!s.patternFill;l.save(),s.textMatrix&&l.transform(...s.textMatrix),l.translate(s.x,s.y+s.textRise),p>0?l.scale(m,-1):l.scale(m,1);let T,O;if(s.patternFill){l.save();const H=s.fillColor.getPattern(l,this,Ds(l),Ce.FILL);T=Kt(l),l.restore(),l.fillStyle=H}if(s.patternStroke){l.save();const H=s.strokeColor.getPattern(l,this,Ds(l),Ce.STROKE);O=Kt(l),l.restore(),l.strokeStyle=H}let N=s.lineWidth;const j=s.textMatrixScale;if(j===0||N===0){const H=s.textRenderingMode&Le.FILL_STROKE_MASK;(H===Le.STROKE||H===Le.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=j;if(c!==1&&(l.scale(c,c),N/=c),l.lineWidth=N,n.isInvalidPDFjsFont){const H=[];let $=0;for(const W of t)H.push(W.unicode),$+=W.width;l.fillText(H.join(""),0,0),s.x+=$*x*m,l.restore(),this.compose();return}let M=0,F;for(F=0;F<y;++F){const H=t[F];if(typeof H=="number"){M+=S*H*r/1e3;continue}let $=!1;const W=(H.isSpace?f:0)+u,J=H.fontChar,Z=H.accent;let at,yt,ct=H.width;if(b){const L=H.vmetric||E,B=-(H.vmetric?L[1]:ct*.5)*x,tt=L[2]*x;ct=L?-L[0]:ct,at=B/c,yt=(M+tt)/c}else at=M/c,yt=0;if(n.remeasure&&ct>0){const L=l.measureText(J).width*1e3/r*c;if(ct<L&&this.isFontSubpixelAAEnabled){const B=ct/L;$=!0,l.save(),l.scale(B,1),at/=B}else ct!==L&&(at+=(ct-L)/2e3*r/c)}if(this.contentVisible&&(H.isInFont||n.missingFile)){if(_&&!Z)l.fillText(J,at,yt);else if(this.paintChar(J,at,yt,T,O),Z){const L=at+r*Z.offset.x/c,B=yt-r*Z.offset.y/c;this.paintChar(Z.fontChar,L,B,T,O)}}const lt=b?ct*x-W*p:ct*x+W*p;M+=lt,$&&l.restore()}b?s.y-=M:s.x+=M*m,l.restore(),this.compose()}showType3Text(t){const s=this.ctx,n=this.current,r=n.font,l=n.fontSize,c=n.fontDirection,u=r.vertical?1:-1,f=n.charSpacing,p=n.wordSpacing,m=n.textHScale*c,y=n.fontMatrix||oh,b=t.length,S=n.textRenderingMode===Le.INVISIBLE;let E,x,_,T;if(!(S||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),s.scale(m,c),E=0;E<b;++E){if(x=t[E],typeof x=="number"){T=u*x*l/1e3,this.ctx.translate(T,0),n.x+=T*m;continue}const O=(x.isSpace?p:0)+f,N=r.charProcOperatorList[x.operatorListId];N?this.contentVisible&&(this.save(),s.scale(l,l),s.transform(...y),this.executeOperatorList(N),this.restore()):bt(`Type3 character "${x.operatorListId}" is not available.`);const j=[x.width,0];ot.applyTransform(j,y),_=j[0]*l+O,s.translate(_,0),n.x+=_*m}s.restore()}}setCharWidth(t,s){}setCharWidthAndBounds(t,s,n,r,l,c){const u=new Path2D;u.rect(n,r,l-n,c-r),this.ctx.clip(u),this.endPath()}getColorN_Pattern(t){let s;if(t[0]==="TilingPattern"){const n=this.baseTransform||Kt(this.ctx),r={createCanvasGraphics:l=>new ra(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};s=new Oh(t,this.ctx,r,n)}else s=this._getPattern(t[1],t[2]);return s}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,s=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=QA(this.getObject(t)),this.cachedPatterns.set(t,n)),s&&(n.matrix=s),n}shadingFill(t){if(!this.contentVisible)return;const s=this.ctx;this.save();const n=this._getPattern(t);s.fillStyle=n.getPattern(s,this,Ds(s),Ce.SHADING);const r=Ds(s);if(r){const{width:l,height:c}=s.canvas,u=ia.slice();ot.axialAlignedBoundingBox([0,0,l,c],r,u);const[f,p,m,y]=u;this.ctx.fillRect(f,p,m-f,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ut("Should not call beginInlineImage")}beginImageData(){Ut("Should not call beginImageData")}paintFormXObjectBegin(t,s){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Kt(this.ctx),s)){ot.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[n,r,l,c]=s,u=new Path2D;u.rect(n,r,l-n,c-r),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||yo("TODO: Support non-isolated groups."),t.knockout&&bt("Knockout groups not supported.");const n=Kt(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=ia.slice();ot.axialAlignedBoundingBox(t.bbox,Kt(s),r);const l=[0,0,s.canvas.width,s.canvas.height];r=ot.intersect(r,l)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),f=Math.max(Math.ceil(r[2])-c,1),p=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,f,p),b=y.context;b.translate(-c,-u),b.transform(...n);let S=new Path2D;const[E,x,_,T]=t.bbox;if(S.rect(E,x,_-E,T-x),t.matrix){const O=new Path2D;O.addPath(S,new DOMMatrix(t.matrix)),S=O}b.clip(S),t.smask?this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(s.setTransform(1,0,0,1,0,0),s.translate(c,u),s.save()),dr(s,b),this.ctx=b,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=Kt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=ia.slice();ot.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],r,l),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,s,n,r,l){if(this.#t(),ro(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const c=s[2]-s[0],u=s[3]-s[1];if(l&&this.annotationCanvasMap){n=n.slice(),n[4]-=s[0],n[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=c,s[3]=u,ot.singularValueDecompose2dScale(Kt(this.ctx),as);const{viewportScale:f}=this,p=Math.ceil(c*this.outputScaleX*f),m=Math.ceil(u*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(as[0],0,0,-as[1],0,u*as[1]),ro(this.ctx)}else{ro(this.ctx),this.endPath();const f=new Path2D;f.rect(s[0],s[1],c,u),this.ctx.clip(f)}}this.current=new hm(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const s=t.count;t=this.getObject(t.data,t),t.count=s;const n=this.ctx,r=this._createMaskCanvas(t),l=r.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,r.offsetX,r.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,s,n=0,r=0,l,c){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const f=Kt(u);u.transform(s,n,r,l,0,0);const p=this._createMaskCanvas(t);u.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]);for(let m=0,y=c.length;m<y;m+=2){const b=ot.transform(f,[s,n,r,l,c[m],c[m+1]]);u.drawImage(p.canvas,b[4],b[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const s=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:c,width:u,height:f,transform:p}=l,m=this.cachedCanvases.getCanvas("maskCanvas",u,f),y=m.context;y.save();const b=this.getObject(c,l);fm(y,b),y.globalCompositeOperation="source-in",y.fillStyle=r?n.getPattern(y,this,Ds(s),Ce.FILL):n,y.fillRect(0,0,u,f),y.restore(),s.save(),s.transform(...p),s.scale(1,-1),ao(s,m.canvas,0,0,u,f,0,-1,1,1),s.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const s=this.getObject(t);if(!s){bt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(s)}paintImageXObjectRepeat(t,s,n,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){bt("Dependent image isn't ready yet");return}const c=l.width,u=l.height,f=[];for(let p=0,m=r.length;p<m;p+=2)f.push({transform:[s,0,0,n,r[p],r[p+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(l,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:s,width:n,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",n,r),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(s,0,0),c.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const s=t.width,n=t.height,r=this.ctx;this.save();const{filter:l}=r;l!=="none"&&l!==""&&(r.filter="none"),r.scale(1/s,-1/n);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",s,n).context;dm(p,t),c=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(c,Ds(r));r.imageSmoothingEnabled=pm(Kt(r),t.interpolate),ao(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-n,s,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,s){if(!this.contentVisible)return;const n=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,c=t.height,f=this.cachedCanvases.getCanvas("inlineImage",l,c).context;dm(f,t),r=this.applyTransferMapsToCanvas(f)}for(const l of s)n.save(),n.transform(...l.transform),n.scale(1,-1),ao(n,r,l.x,l.y,l.w,l.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,s){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,s){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,s){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip&&(n||(this.pendingClip===gm?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Kt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const s=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/s}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:s,b:n,c:r,d:l}=this.ctx.getTransform();let c,u;if(n===0&&r===0){const f=Math.abs(s),p=Math.abs(l);if(f===p)if(t===0)c=u=1/f;else{const m=f*t;c=u=m<1?1/m:1}else if(t===0)c=1/f,u=1/p;else{const m=f*t,y=p*t;c=m<1?1/m:1,u=y<1?1/y:1}}else{const f=Math.abs(s*l-n*r),p=Math.hypot(s,n),m=Math.hypot(r,l);if(t===0)c=m/f,u=p/f;else{const y=t*f;c=m>y?m/y:1,u=p>y?p/y:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,s){const{ctx:n,current:{lineWidth:r}}=this,[l,c]=this.getScaleForStroking();if(l===c){n.lineWidth=(r||1)*l,n.stroke(t);return}const u=n.getLineDash();s&&n.save(),n.scale(l,c),th.a=1/l,th.d=1/c;const f=new Path2D;if(f.addPath(t,th),u.length>0){const p=Math.max(l,c);n.setLineDash(u.map(m=>m/p)),n.lineDashOffset/=p}n.lineWidth=r||1,n.stroke(f),s&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const h in Er)ra.prototype[h]!==void 0&&(ra.prototype[Er[h]]=ra.prototype[h]);class an{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class aS{#t;#e;constructor({parsedData:t,rawData:s}){this.#t=t,this.#e=s}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const sa=Symbol("INTERNAL");class rS{#t=!1;#e=!1;#s=!1;#i=!0;constructor(t,{name:s,intent:n,usage:r,rbGroups:l}){this.#t=!!(t&is.DISPLAY),this.#e=!!(t&is.PRINT),this.name=s,this.intent=n,this.usage=r,this.rbGroups=l}get visible(){if(this.#s)return this.#i;if(!this.#i)return!1;const{print:t,view:s}=this.usage;return this.#t?s?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,s,n=!1){t!==sa&&Ut("Internal method `_setVisible` called."),this.#s=n,this.#i=s}}class lS{#t=null;#e=new Map;#s=null;#i=null;constructor(t,s=is.DISPLAY){if(this.renderingIntent=s,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#i=t.order;for(const n of t.groups)this.#e.set(n.id,new rS(s,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(sa,!1);for(const n of t.on)this.#e.get(n)._setVisible(sa,!0);for(const n of t.off)this.#e.get(n)._setVisible(sa,!1);this.#s=this.getHash()}}#a(t){const s=t.length;if(s<2)return!0;const n=t[0];for(let r=1;r<s;r++){const l=t[r];let c;if(Array.isArray(l))c=this.#a(l);else if(this.#e.has(l))c=this.#e.get(l).visible;else return bt(`Optional content group not found: ${l}`),!0;switch(n){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return yo("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(bt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const s of t.ids){if(!this.#e.has(s))return bt(`Optional content group not found: ${s}`),!0;if(this.#e.get(s).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const s of t.ids){if(!this.#e.has(s))return bt(`Optional content group not found: ${s}`),!0;if(!this.#e.get(s).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const s of t.ids){if(!this.#e.has(s))return bt(`Optional content group not found: ${s}`),!0;if(!this.#e.get(s).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const s of t.ids){if(!this.#e.has(s))return bt(`Optional content group not found: ${s}`),!0;if(this.#e.get(s).visible)return!1}return!0}return bt(`Unknown optional content policy ${t.policy}.`),!0}return bt(`Unknown group type ${t.type}.`),!0}setVisibility(t,s=!0,n=!0){const r=this.#e.get(t);if(!r){bt(`Optional content group not found: ${t}`);return}if(n&&s&&r.rbGroups.length)for(const l of r.rbGroups)for(const c of l)c!==t&&this.#e.get(c)?._setVisible(sa,!1,!0);r._setVisible(sa,!!s,!0),this.#t=null}setOCGState({state:t,preserveRB:s}){let n;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":n=r;continue}const l=this.#e.get(r);if(l)switch(n){case"ON":this.setVisibility(r,!0,s);break;case"OFF":this.setVisibility(r,!1,s);break;case"Toggle":this.setVisibility(r,!l.visible,s);break}}this.#t=null}get hasInitialVisibility(){return this.#s===null||this.getHash()===this.#s}getOrder(){return this.#e.size?this.#i?this.#i.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new Zm;for(const[s,n]of this.#e)t.update(`${s}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class oS{constructor(t,{disableRange:s=!1,disableStream:n=!1}){ce(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:c,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=u,l?.length>0){const f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!s,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((f,p)=>{this._onReceiveData({begin:f,chunk:p})}),t.addProgressListener((f,p)=>{this._onProgress({loaded:f,total:p})}),t.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:s}){const n=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(n),!0)});ce(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const s=this._rangeReaders.indexOf(t);s>=0&&this._rangeReaders.splice(s,1)}getFullReader(){ce(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new cS(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const n=new uS(this,t,s);return this._pdfDataRangeTransport.requestDataRange(t,s),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class cS{constructor(t,s,n=!1,r=null){this._stream=t,this._done=n||!1,this._filename=Ao(r)?r:null,this._queuedChunks=s||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class uS{constructor(t,s,n){this._stream=t,this._begin=s,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hS(h){let t=!0,s=n("filename\\*","i").exec(h);if(s){s=s[1];let m=u(s);return m=unescape(m),m=f(m),m=p(m),l(m)}if(s=c(h),s){const m=p(s);return l(m)}if(s=n("filename","i").exec(h),s){s=s[1];let m=u(s);return m=p(m),l(m)}function n(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function r(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const b=new TextDecoder(m,{fatal:!0}),S=Lr(y);y=b.decode(S),t=!1}catch{}}return y}function l(m){return t&&/[\x80-\xff]/.test(m)&&(m=r("utf-8",m),t&&(m=r("iso-8859-1",m))),m}function c(m){const y=[];let b;const S=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(b=S.exec(m))!==null;){let[,x,_,T]=b;if(x=parseInt(x,10),x in y){if(x===0)break;continue}y[x]=[_,T]}const E=[];for(let x=0;x<y.length&&x in y;++x){let[_,T]=y[x];T=u(T),_&&(T=unescape(T),x===0&&(T=f(T))),E.push(T)}return E.join("")}function u(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let b=0;b<y.length;++b){const S=y[b].indexOf('"');S!==-1&&(y[b]=y[b].slice(0,S),y.length=b+1),y[b]=y[b].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function f(m){const y=m.indexOf("'");if(y===-1)return m;const b=m.slice(0,y),E=m.slice(y+1).replace(/^[^']*'/,"");return r(b,E)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,b,S,E){if(S==="q"||S==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,_){return String.fromCharCode(parseInt(_,16))}),r(b,E);try{E=atob(E)}catch{}return r(b,E)})}return""}function rv(h,t){const s=new Headers;if(!h||!t||typeof t!="object")return s;for(const n in t){const r=t[n];r!==void 0&&s.append(n,r)}return s}function So(h){return URL.parse(h)?.origin??null}function lv({responseHeaders:h,isHttp:t,rangeChunkSize:s,disableRange:n}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(h.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*s)||n||!t||h.get("Accept-Ranges")!=="bytes"||(h.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function ov(h){const t=h.get("Content-Disposition");if(t){let s=hS(t);if(s.includes("%"))try{s=decodeURIComponent(s)}catch{}if(Ao(s))return s}return null}function Ir(h,t){return new wr(`Unexpected server response (${h}) while retrieving PDF "${t}".`,h,h===404||h===0&&t.startsWith("file:"))}function cv(h){return h===200||h===206}function uv(h,t,s){return{method:"GET",headers:h,signal:s.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function hv(h){return h instanceof Uint8Array?h.buffer:h instanceof ArrayBuffer?h:(bt(`getArrayBuffer - unexpected data format: ${h}`),new Uint8Array(h).buffer)}class dS{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=rv(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ce(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new fS(this),this._fullRequestReader}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const n=new pS(this,t,s);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class fS{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange;const n=new Headers(t.headers),r=s.url;fetch(r,uv(n,this._withCredentials,this._abortController)).then(l=>{if(t._responseOrigin=So(l.url),!cv(l.status))throw Ir(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:u,suggestedLength:f}=lv({responseHeaders:c,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=f||this._contentLength,this._filename=ov(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ei("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:hv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class pS{constructor(t,s,n){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${s}-${n-1}`);const c=r.url;fetch(c,uv(l,this._withCredentials,this._abortController)).then(u=>{const f=So(u.url);if(f!==t._responseOrigin)throw new Error(`Expected range response-origin "${f}" to match "${t._responseOrigin}".`);if(!cv(u.status))throw Ir(u.status,c);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:hv(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const eh=200,sh=206;function gS(h){const t=h.response;return typeof t!="string"?t:Lr(t).buffer}class mS{_responseOrigin=null;constructor({url:t,httpHeaders:s,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=rv(this.isHttp,s),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const s=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:s};s.open("GET",this.url),s.withCredentials=this.withCredentials;for(const[l,c]of this.headers)s.setRequestHeader(l,c);return this.isHttp&&"begin"in t&&"end"in t?(s.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=sh):r.expectedStatus=eh,s.responseType="arraybuffer",ce(t.onError,"Expected `onError` callback to be provided."),s.onerror=()=>{t.onError(s.status)},s.onreadystatechange=this.onStateChange.bind(this,n),s.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,s.send(null),n}onProgress(t,s){const n=this.pendingRequests[t];n&&n.onProgress?.(s)}onStateChange(t,s){const n=this.pendingRequests[t];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){n.onError(r.status);return}const l=r.status||eh;if(!(l===eh&&n.expectedStatus===sh)&&l!==n.expectedStatus){n.onError(r.status);return}const u=gS(r);if(l===sh){const f=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(f);p?n.onDone({begin:parseInt(p[1],10),chunk:u}):(bt('Missing or invalid "Content-Range" header.'),n.onError(0))}else u?n.onDone({begin:0,chunk:u}):n.onError(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const s=this.pendingRequests[t].xhr;delete this.pendingRequests[t],s.abort()}}class vS{constructor(t){this._source=t,this._manager=new mS(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const s=this._rangeRequestReaders.indexOf(t);s>=0&&this._rangeRequestReaders.splice(s,1)}getFullReader(){return ce(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new yS(this._manager,this._source),this._fullRequestReader}getRangeReader(t,s){const n=new bS(this._manager,t,s);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class yS{constructor(t,s){this._manager=t,this._url=s.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=s.disableRange||!1,this._contentLength=s.length,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,s=this._manager.getRequestXhr(t);this._manager._responseOrigin=So(s.responseURL);const n=s.getAllResponseHeaders(),r=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[f,...p]=u.split(": ");return[f,p.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=lv({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=ov(r),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Ir(t,this._url),this._headersCapability.reject(this._storedError);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bS{constructor(t,s,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:s,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=So(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const s=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunk=s,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Ir(t,this._url);for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const s=this._queuedChunk;return this._queuedChunk=null,{value:s,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const AS=/^[a-z][a-z0-9\-+.]+:/i;function SS(h){if(AS.test(h))return new URL(h);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(h))}class xS{constructor(t){this.source=t,this.url=SS(t.url),ce(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ce(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new ES(this),this._fullRequestReader}getRangeReader(t,s){if(s<=this._progressiveDataLength)return null;const n=new wS(this,t,s);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class ES{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=t.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Ir(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ei("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class wS{constructor(t,s,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=t.source;this._isStreamingSupported=!r.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:s,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const fr=Symbol("INITIAL_DATA");class dv{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:fr}}get(t,s=null){if(s){const r=this.#e(t);return r.promise.then(()=>s(r.data)),null}const n=this.#t[t];if(!n||n.data===fr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const s=this.#t[t];return!!s&&s.data!==fr}delete(t){const s=this.#t[t];return!s||s.data===fr?!1:(delete this.#t[t],!0)}resolve(t,s=null){const n=this.#e(t);n.data=s,n.resolve()}clear(){for(const t in this.#t){const{data:s}=this.#t[t];s?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:s}=this.#t[t];s!==fr&&(yield[t,s])}}}const _S=1e5,mm=30;let _r=class ms{#t=Promise.withResolvers();#e=null;#s=!1;#i=!!globalThis.FontInspector?.enabled;#a=null;#n=null;#o=0;#l=0;#h=null;#c=null;#d=0;#u=0;#f=Object.create(null);#r=[];#p=null;#m=[];#g=new WeakMap;#v=null;static#y=new Map;static#b=new Map;static#S=new WeakMap;static#E=null;static#_=new Set;constructor({textContentSource:t,container:s,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(f){f.enqueue(t),f.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#c=s,this.#u=n.scale*Es.pixelRatio,this.#d=n.rotation,this.#n={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:l,pageX:c,pageY:u}=n.rawDims;this.#v=[1,0,0,-1,-c,u+l],this.#l=r,this.#o=l,ms.#D(),Li(s,n),this.#t.promise.finally(()=>{ms.#_.delete(this),this.#n=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:s}=Ee.platform;return Tt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&s?"Calibri, ":""}sans-serif`],["monospace",`${t&&s?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#h.read().then(({value:s,done:n})=>{if(n){this.#t.resolve();return}this.#a??=s.lang,Object.assign(this.#f,s.styles),this.#C(s.items),t()},this.#t.reject)};return this.#h=this.#p.getReader(),ms.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:s=null}){const n=t.scale*Es.pixelRatio,r=t.rotation;if(r!==this.#d&&(s?.(),this.#d=r,Li(this.#c,{rotation:r})),n!==this.#u){s?.(),this.#u=n;const l={div:null,properties:null,ctx:ms.#N(this.#a)};for(const c of this.#m)l.properties=this.#g.get(c),l.div=c,this.#x(l)}}cancel(){const t=new ei("TextLayer task cancelled.");this.#h?.cancel(t).catch(()=>{}),this.#h=null,this.#t.reject(t)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#r}#C(t){if(this.#s)return;this.#n.ctx??=ms.#N(this.#a);const s=this.#m,n=this.#r;for(const r of t){if(s.length>_S){bt("Ignoring additional textDivs for performance reasons."),this.#s=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),l.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(r.str),this.#R(r)}}#R(t){const s=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#m.push(s);const r=ot.transform(this.#v,t.transform);let l=Math.atan2(r[1],r[0]);const c=this.#f[t.fontName];c.vertical&&(l+=Math.PI/2);let u=this.#i&&c.fontSubstitution||c.fontFamily;u=ms.fontFamilyMap.get(u)||u;const f=Math.hypot(r[2],r[3]),p=f*ms.#L(u,c,this.#a);let m,y;l===0?(m=r[4],y=r[5]-p):(m=r[4]+p*Math.sin(l),y=r[5]-p*Math.cos(l));const b="calc(var(--total-scale-factor) *",S=s.style;this.#e===this.#c?(S.left=`${(100*m/this.#l).toFixed(2)}%`,S.top=`${(100*y/this.#o).toFixed(2)}%`):(S.left=`${b}${m.toFixed(2)}px)`,S.top=`${b}${y.toFixed(2)}px)`),S.fontSize=`${b}${(ms.#E*f).toFixed(2)}px)`,S.fontFamily=u,n.fontSize=f,s.setAttribute("role","presentation"),s.textContent=t.str,s.dir=t.dir,this.#i&&(s.dataset.fontName=c.fontSubstitutionLoadedName||t.fontName),l!==0&&(n.angle=l*(180/Math.PI));let E=!1;if(t.str.length>1)E=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const x=Math.abs(t.transform[0]),_=Math.abs(t.transform[3]);x!==_&&Math.max(x,_)/Math.min(x,_)>1.5&&(E=!0)}if(E&&(n.canvasWidth=c.vertical?t.height:t.width),this.#g.set(s,n),this.#n.div=s,this.#n.properties=n,this.#x(this.#n),n.hasText&&this.#e.append(s),n.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#e.append(x)}}#x(t){const{div:s,properties:n,ctx:r}=t,{style:l}=s;let c="";if(ms.#E>1&&(c=`scale(${1/ms.#E})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:u}=l,{canvasWidth:f,fontSize:p}=n;ms.#T(r,p*this.#u,u);const{width:m}=r.measureText(s.textContent);m>0&&(c=`scaleX(${f*this.#u/m}) ${c}`)}n.angle!==0&&(c=`rotate(${n.angle}deg) ${c}`),c.length>0&&(l.transform=c)}static cleanup(){if(!(this.#_.size>0)){this.#y.clear();for(const{canvas:t}of this.#b.values())t.remove();this.#b.clear()}}static#N(t=null){let s=this.#b.get(t||="");if(!s){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),s=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#b.set(t,s),this.#S.set(s,{size:0,family:""})}return s}static#T(t,s,n){const r=this.#S.get(t);s===r.size&&n===r.family||(t.font=`${s}px ${n}`,r.size=s,r.family=n)}static#D(){if(this.#E!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#E=t.getBoundingClientRect().height,t.remove()}static#L(t,s,n){const r=this.#y.get(t);if(r)return r;const l=this.#N(n);l.canvas.width=l.canvas.height=mm,this.#T(l,mm,t);const c=l.measureText(""),u=c.fontBoundingBoxAscent,f=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let p=.8;return u?p=u/(u+f):(Ee.platform.isFirefox&&bt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),s.ascent?p=s.ascent:s.descent&&(p=1+s.descent)),this.#y.set(t,p),p}};class Tr{static textContent(t){const s=[],n={items:s,styles:Object.create(null)};function r(l){if(!l)return;let c=null;const u=l.name;if(u==="#text")c=l.value;else if(Tr.shouldBuildText(u))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&s.push({str:c}),!!l.children)for(const f of l.children)r(f)}return r(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const TS=100;function jh(h={}){typeof h=="string"||h instanceof URL?h={url:h}:(h instanceof ArrayBuffer||ArrayBuffer.isView(h))&&(h={data:h});const t=new kh,{docId:s}=t,n=h.url?PA(h.url):null,r=h.data?IA(h.data):null,l=h.httpHeaders||null,c=h.withCredentials===!0,u=h.password??null,f=h.range instanceof Ph?h.range:null,p=Number.isInteger(h.rangeChunkSize)&&h.rangeChunkSize>0?h.rangeChunkSize:2**16;let m=h.worker instanceof ua?h.worker:null;const y=h.verbosity,b=typeof h.docBaseUrl=="string"&&!jr(h.docBaseUrl)?h.docBaseUrl:null,S=io(h.cMapUrl),E=h.cMapPacked!==!1,x=h.CMapReaderFactory||(Ie?VA:nm),_=io(h.iccUrl),T=io(h.standardFontDataUrl),O=h.StandardFontDataFactory||(Ie?qA:am),N=io(h.wasmUrl),j=h.WasmFactory||(Ie?YA:rm),M=h.stopAtErrors!==!0,F=Number.isInteger(h.maxImageSize)&&h.maxImageSize>-1?h.maxImageSize:-1,H=h.isEvalSupported!==!1,$=typeof h.isOffscreenCanvasSupported=="boolean"?h.isOffscreenCanvasSupported:!Ie,W=typeof h.isImageDecoderSupported=="boolean"?h.isImageDecoderSupported:!Ie&&(Ee.platform.isFirefox||!globalThis.chrome),J=Number.isInteger(h.canvasMaxAreaInBytes)?h.canvasMaxAreaInBytes:-1,Z=typeof h.disableFontFace=="boolean"?h.disableFontFace:Ie,at=h.fontExtraProperties===!0,yt=h.enableXfa===!0,ct=h.ownerDocument||globalThis.document,lt=h.disableRange===!0,L=h.disableStream===!0,B=h.disableAutoFetch===!0,tt=h.pdfBug===!0,mt=h.CanvasFactory||(Ie?GA:UA),R=h.FilterFactory||(Ie?FA:HA),q=h.enableHWA===!0,Q=h.useWasm!==!1,K=f?f.length:h.length??NaN,st=typeof h.useSystemFonts=="boolean"?h.useSystemFonts:!Ie&&!Z,pt=typeof h.useWorkerFetch=="boolean"?h.useWorkerFetch:!!(x===nm&&O===am&&j===rm&&S&&T&&N&&mr(S,document.baseURI)&&mr(T,document.baseURI)&&mr(N,document.baseURI)),nt=null;yA(y);const At={canvasFactory:new mt({ownerDocument:ct,enableHWA:q}),filterFactory:new R({docId:s,ownerDocument:ct}),cMapReaderFactory:pt?null:new x({baseUrl:S,isCompressed:E}),standardFontDataFactory:pt?null:new O({baseUrl:T}),wasmFactory:pt?null:new j({baseUrl:N})};m||(m=ua.create({verbosity:y,port:an.workerPort}),t._worker=m);const Nt={docId:s,apiVersion:"5.3.31",data:r,password:u,disableAutoFetch:B,rangeChunkSize:p,length:K,docBaseUrl:b,enableXfa:yt,evaluatorOptions:{maxImageSize:F,disableFontFace:Z,ignoreErrors:M,isEvalSupported:H,isOffscreenCanvasSupported:$,isImageDecoderSupported:W,canvasMaxAreaInBytes:J,fontExtraProperties:at,useSystemFonts:st,useWasm:Q,useWorkerFetch:pt,cMapUrl:S,iccUrl:_,standardFontDataUrl:T,wasmUrl:N}},he={ownerDocument:ct,pdfBug:tt,styleElement:nt,loadingParams:{disableAutoFetch:B,enableXfa:yt}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Pt=m.messageHandler.sendWithPromise("GetDocRequest",Nt,r?[r.buffer]:null);let Be;if(f)Be=new oS(f,{disableRange:lt,disableStream:L});else if(!r){if(!n)throw new Error("getDocument - no `url` parameter provided.");const $e=mr(n)?dS:Ie?xS:vS;Be=new $e({url:n,length:K,httpHeaders:l,withCredentials:c,rangeChunkSize:p,disableRange:lt,disableStream:L})}return Pt.then($e=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const de=new vr(s,$e,m.port),Lt=new RS(de,t,Be,he,At);t._transport=Lt,de.send("Ready",null)})}).catch(t._capability.reject),t}class kh{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${kh.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Ph=class{#t=Promise.withResolvers();#e=[];#s=[];#i=[];#a=[];constructor(t,s,n=!1,r=null){this.length=t,this.initialData=s,this.progressiveDone=n,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#i.push(t)}addProgressiveReadListener(t){this.#s.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,s){for(const n of this.#a)n(t,s)}onDataProgress(t,s){this.#t.promise.then(()=>{for(const n of this.#i)n(t,s)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const s of this.#s)s(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,s){Ut("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class CS{constructor(t,s){this._pdfInfo=t,this._transport=s}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(s)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class NS{#t=!1;constructor(t,s,n,r=!1){this._pageIndex=t,this._pageInfo=s,this._transport=n,this._stats=r?new em:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new dv,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:s=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:l=!1}={}){return new Or({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:s,offsetX:n,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:s}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,s)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Tt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:s,intent:n="display",annotationMode:r=Ps.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:y=!1}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(n,r,m,y),{renderingIntent:S,cacheKey:E}=b;this.#t=!1,u||=this._transport.getOptionalContentConfig(S);let x=this._intentStates.get(E);x||(x=Object.create(null),this._intentStates.set(E,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const _=!!(S&is.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const T=j=>{x.renderTasks.delete(O),_&&(this.#t=!0),this.#e(),j?(O.capability.reject(j),this._abortOperatorList({intentState:x,reason:j instanceof Error?j:new Error(j)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new na({callback:T,params:{canvasContext:t,viewport:s,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:p});(x.renderTasks||=new Set).add(O);const N=O.task;return Promise.all([x.displayReadyCapability.promise,u]).then(([j,M])=>{if(this.destroyed){T();return}if(this._stats?.time("Rendering"),!(M.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:j,optionalContentConfig:M}),O.operatorListChanged()}).catch(T),N}getOperatorList({intent:t="display",annotationMode:s=Ps.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}={}){function l(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(f))}const c=this._transport.getRenderingIntent(t,s,n,r,!0);let u=this._intentStates.get(c.cacheKey);u||(u=Object.create(null),this._intentStates.set(c.cacheKey,u));let f;return u.opListReadCapability||(f=Object.create(null),f.operatorListChanged=l,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||=new Set).add(f),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:s===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Tr.textContent(n));const s=this.streamTextContent(t);return new Promise(function(n,r){function l(){c.read().then(function({value:f,done:p}){if(p){n(u);return}u.lang??=f.lang,Object.assign(u.styles,f.styles),u.items.push(...f.items),l()},r)}const c=s.getReader(),u={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const n of s.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const s=this.#e();return t&&s&&(this._stats&&=new em),s}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:s}of this._intentStates.values())if(t.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,s){const n=this._intentStates.get(s);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,s){for(let n=0,r=t.length;n<r;n++)s.operatorList.fnArray.push(t.fnArray[n]),s.operatorList.argsArray.push(t.argsArray[n]);s.operatorList.lastChunk=t.lastChunk,s.operatorList.separateAnnots=t.separateAnnots;for(const n of s.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:s,annotationStorageSerializable:n,modifiedIds:r}){const{map:l,transfer:c}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:s,annotationStorage:l,modifiedIds:r},c).getReader(),p=this._intentStates.get(s);p.streamReader=f;const m=()=>{f.read().then(({value:y,done:b})=>{if(b){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),m())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const b of p.renderTasks)b.operatorListChanged();this.#e()}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:s,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(s instanceof bo){let r=TS;s.extraDelay>0&&s.extraDelay<1e3&&(r+=s.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:s,force:!0})},r);return}}if(t.streamReader.cancel(new ei(s.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Ri,Ss,ti,en,go,sn,nn,ze,co,fv,pv,yr,ca,uo;const Yt=class Yt{constructor({name:t=null,port:s=null,verbosity:n=bA()}={}){Rs(this,ze);Rs(this,Ri,Promise.withResolvers());Rs(this,Ss,null);Rs(this,ti,null);Rs(this,en,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,s){if(qt(Yt,nn).has(s))throw new Error("Cannot use more than one PDFWorker per port.");qt(Yt,nn).set(s,this),Ms(this,ze,fv).call(this,s)}else Ms(this,ze,pv).call(this)}get promise(){return qt(this,Ri).promise}get port(){return qt(this,ti)}get messageHandler(){return qt(this,Ss)}destroy(){this.destroyed=!0,qt(this,en)?.terminate(),qe(this,en,null),qt(Yt,nn).delete(qt(this,ti)),qe(this,ti,null),qt(this,Ss)?.destroy(),qe(this,Ss,null)}static create(t){const s=qt(this,nn).get(t?.port);if(s){if(s._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return s}return new Yt(t)}static get workerSrc(){if(an.workerSrc)return an.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Tt(this,"_setupFakeWorkerGlobal",(async()=>qt(this,ca,uo)?qt(this,ca,uo):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ri=new WeakMap,Ss=new WeakMap,ti=new WeakMap,en=new WeakMap,go=new WeakMap,sn=new WeakMap,nn=new WeakMap,ze=new WeakSet,co=function(){qt(this,Ri).resolve(),qt(this,Ss).send("configure",{verbosity:this.verbosity})},fv=function(t){qe(this,ti,t),qe(this,Ss,new vr("main","worker",t)),qt(this,Ss).on("ready",()=>{}),Ms(this,ze,co).call(this)},pv=function(){if(qt(Yt,sn)||qt(Yt,ca,uo)){Ms(this,ze,yr).call(this);return}let{workerSrc:t}=Yt;try{Yt._isSameOrigin(window.location,t)||(t=Yt._createCDNWrapper(new URL(t,window.location).href));const s=new Worker(t,{type:"module"}),n=new vr("main","worker",s),r=()=>{l.abort(),n.destroy(),s.terminate(),this.destroyed?qt(this,Ri).reject(new Error("Worker was destroyed")):Ms(this,ze,yr).call(this)},l=new AbortController;s.addEventListener("error",()=>{qt(this,en)||r()},{signal:l.signal}),n.on("test",u=>{if(l.abort(),this.destroyed||!u){r();return}qe(this,Ss,n),qe(this,ti,s),qe(this,en,s),Ms(this,ze,co).call(this)}),n.on("ready",u=>{if(l.abort(),this.destroyed){r();return}try{c()}catch{Ms(this,ze,yr).call(this)}});const c=()=>{const u=new Uint8Array;n.send("test",u,[u.buffer])};c();return}catch{yo("The worker has been disabled.")}Ms(this,ze,yr).call(this)},yr=function(){qt(Yt,sn)||(bt("Setting up fake worker."),qe(Yt,sn,!0)),Yt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){qt(this,Ri).reject(new Error("Worker was destroyed"));return}const s=new BA;qe(this,ti,s);const n=`fake${jg(Yt,go)._++}`,r=new vr(n+"_worker",n,s);t.setup(r,s),qe(this,Ss,new vr(n,n+"_worker",s)),Ms(this,ze,co).call(this)}).catch(t=>{qt(this,Ri).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},ca=new WeakSet,uo=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Rs(Yt,ca),Rs(Yt,go,0),Rs(Yt,sn,!1),Rs(Yt,nn,new WeakMap),Ie&&(qe(Yt,sn,!0),an.workerSrc||="./pdf.worker.mjs"),Yt._isSameOrigin=(t,s)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const r=new URL(s,n);return n.origin===r.origin},Yt._createCDNWrapper=t=>{const s=`await import("${t}");`;return URL.createObjectURL(new Blob([s],{type:"text/javascript"}))},Yt.fromPort=t=>{if(NA("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Yt.create(t)};let ua=Yt;class RS{#t=new Map;#e=new Map;#s=new Map;#i=new Map;#a=null;constructor(t,s,n,r,l){this.messageHandler=t,this.loadingTask=s,this.commonObjs=new dv,this.fontLoader=new jA({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#n(t,s=null){const n=this.#t.get(t);if(n)return n;const r=this.messageHandler.sendWithPromise(t,s);return this.#t.set(t,r),r}get annotationStorage(){return Tt(this,"annotationStorage",new Mh)}getRenderingIntent(t,s=Ps.ENABLE,n=null,r=!1,l=!1){let c=is.DISPLAY,u=ch;switch(t){case"any":c=is.ANY;break;case"display":break;case"print":c=is.PRINT;break;default:bt(`getRenderingIntent - invalid intent: ${t}`)}const f=c&is.PRINT&&n instanceof Jm?n:this.annotationStorage;switch(s){case Ps.DISABLE:c+=is.ANNOTATIONS_DISABLE;break;case Ps.ENABLE:break;case Ps.ENABLE_FORMS:c+=is.ANNOTATIONS_FORMS;break;case Ps.ENABLE_STORAGE:c+=is.ANNOTATIONS_STORAGE,u=f.serializable;break;default:bt(`getRenderingIntent - invalid annotationMode: ${s}`)}r&&(c+=is.IS_EDITING),l&&(c+=is.OPLIST);const{ids:p,hash:m}=f.modifiedIds,y=[c,u.hash,m];return{renderingIntent:c,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#s.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return t.push(s),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),_r.cleanup(),this._networkStream?.cancelAllRequests(new ei("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:s}=this;t.on("GetReader",(n,r)=>{ce(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){r.close();return}ce(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:c}=this._fullReader;return(!r||!l)&&(this._lastProgress&&s.onProgress?.(this._lastProgress),this._fullReader.onProgress=u=>{s.onProgress?.({loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:c}}),t.on("GetRangeReader",(n,r)=>{ce(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(n.begin,n.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:c,done:u}){if(u){r.close();return}ce(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{r.error(c)})},r.onCancel=c=>{l.cancel(c),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,s._capability.resolve(new CS(n,this))}),t.on("DocException",n=>{s._capability.reject(Ye(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!s.onPassword)throw Ye(n);const r=l=>{l instanceof Error?this.#a.reject(l):this.#a.resolve({password:l})};s.onPassword(r,n.code)}catch(r){this.#a.reject(r)}return this.#a.promise}),t.on("DataLoaded",n=>{s.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,r,l])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(r){case"Font":if("error"in l){const p=l.error;bt(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,m)=>globalThis.FontInspector.fontAdded(p,m):null,u=new kA(l,c);this.fontLoader.bind(u).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!u.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(n,u)});break;case"CopyLocalImage":const{imageRef:f}=l;ce(f,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,m]of p.objs)if(m?.ref===f)return m.dataLen?(this.commonObjs.resolve(n,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([n,r,l,c])=>{if(this.destroyed)return;const u=this.#e.get(r);if(!u.objs.has(n)){if(u._intentStates.size===0){c?.bitmap?.close();return}switch(l){case"Image":case"Pattern":u.objs.resolve(n,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",n=>{this.destroyed||s.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[n.type];if(!r)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&bt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=t-1,n=this.#s.get(s);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#i.set(l.refStr,t);const c=new NS(s,l,this,this._params.pdfBug);return this.#e.set(s,c),c});return this.#s.set(s,r),r}getPageIndex(t){return uh(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:s})}getFieldObjects(){return this.#n("GetFieldObjects")}hasJSActions(){return this.#n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#n("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#n("GetOptionalContentConfig").then(s=>new lS(s,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",s=this.#t.get(t);if(s)return s;const n=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new aS(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of this.#e.values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),_r.cleanup()}}cachedPageNumber(t){if(!uh(t))return null;const s=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#i.get(s)??null}}class MS{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:s}=this.#t;return t.form||t.canvas&&s?.size>0}}class na{#t=null;static#e=new WeakSet;constructor({callback:t,params:s,objs:n,commonObjs:r,annotationCanvasMap:l,operatorList:c,pageIndex:u,canvasFactory:f,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:b=null}){this.callback=t,this.params=s,this.objs=n,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=u,this.canvasFactory=f,this.filterFactory=p,this._pdfBug=y,this.pageColors=b,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new MS(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:s}){if(this.cancelled)return;if(this._canvas){if(na.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");na.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:r,transform:l,background:c}=this.params;this.gfx=new ra(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,s=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),na.#e.delete(this._canvas),t||=new bo(`Rendering cancelled, page ${this._pageIndex+1}`,s),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),na.#e.delete(this._canvas),this.callback())))}}const gv="5.3.31",mv="47ad820d9";function vm(h){return Math.floor(Math.max(0,Math.min(1,h))*255).toString(16).padStart(2,"0")}function pr(h){return Math.max(0,Math.min(255,255*h))}class ym{static CMYK_G([t,s,n,r]){return["G",1-Math.min(1,.3*t+.59*n+.11*s+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=pr(t),[t,t,t]}static G_HTML([t]){const s=vm(t);return`#${s}${s}${s}`}static RGB_G([t,s,n]){return["G",.3*t+.59*s+.11*n]}static RGB_rgb(t){return t.map(pr)}static RGB_HTML(t){return`#${t.map(vm).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,s,n,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,n+r),1-Math.min(1,s+r)]}static CMYK_rgb([t,s,n,r]){return[pr(1-Math.min(1,t+r)),pr(1-Math.min(1,n+r)),pr(1-Math.min(1,s+r))]}static CMYK_HTML(t){const s=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(s)}static RGB_CMYK([t,s,n]){const r=1-t,l=1-s,c=1-n,u=Math.min(r,l,c);return["CMYK",r,l,c,u]}}class DS{create(t,s,n=!1){if(t<=0||s<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${s}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${s}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Ut("Abstract method `_createSVG` called.")}}class Cr extends DS{_createSVG(t){return document.createElementNS(Js,t)}}class Ih{static setupStorage(t,s,n,r,l){const c=r.getValue(s,{value:null});switch(n.name){case"textarea":if(c.value!==null&&(t.textContent=c.value),l==="print")break;t.addEventListener("input",u=>{r.setValue(s,{value:u.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(c.value===n.attributes.xfaOn?t.setAttribute("checked",!0):c.value===n.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",u=>{r.setValue(s,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&t.setAttribute("value",c.value),l==="print")break;t.addEventListener("input",u=>{r.setValue(s,{value:u.target.value})})}break;case"select":if(c.value!==null){t.setAttribute("value",c.value);for(const u of n.children)u.attributes.value===c.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const f=u.target.options,p=f.selectedIndex===-1?"":f[f.selectedIndex].value;r.setValue(s,{value:p})});break}}static setAttributes({html:t,element:s,storage:n=null,intent:r,linkService:l}){const{attributes:c}=s,u=t instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${r}`);for(const[f,p]of Object.entries(c))if(p!=null)switch(f){case"class":p.length&&t.setAttribute(f,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!u||f!=="href"&&f!=="newWindow")&&t.setAttribute(f,p)}u&&l.addLinkAttributes(t,c.href,c.newWindow),n&&c.dataId&&this.setupStorage(t,c.dataId,s,n)}static render(t){const s=t.annotationStorage,n=t.linkService,r=t.xfaHtml,l=t.intent||"display",c=document.createElement(r.name);r.attributes&&this.setAttributes({html:c,element:r,intent:l,linkService:n});const u=l!=="richText",f=t.div;if(f.append(c),t.viewport){const y=`matrix(${t.viewport.transform.join(",")})`;f.style.transform=y}u&&f.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const y=document.createTextNode(r.value);c.append(y),u&&Tr.shouldBuildText(r.name)&&p.push(y)}return{textDivs:p}}const m=[[r,-1,c]];for(;m.length>0;){const[y,b,S]=m.at(-1);if(b+1===y.children.length){m.pop();continue}const E=y.children[++m.at(-1)[1]];if(E===null)continue;const{name:x}=E;if(x==="#text"){const T=document.createTextNode(E.value);p.push(T),S.append(T);continue}const _=E?.attributes?.xmlns?document.createElementNS(E.attributes.xmlns,x):document.createElement(x);if(S.append(_),E.attributes&&this.setAttributes({html:_,element:E,storage:s,intent:l,linkService:n}),E.children?.length>0)m.push([E,-1,_]);else if(E.value){const T=document.createTextNode(E.value);u&&Tr.shouldBuildText(x)&&p.push(T),_.append(T)}}for(const y of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const s=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=s,t.div.hidden=!1}}const zr=1e3,LS=9,ln=new WeakSet;class bm{static create(t){switch(t.data.annotationType){case te.LINK:return new vv(t);case te.TEXT:return new OS(t);case te.WIDGET:switch(t.data.fieldType){case"Tx":return new jS(t);case"Btn":return t.data.radioButton?new yv(t):t.data.checkBox?new PS(t):new IS(t);case"Ch":return new zS(t);case"Sig":return new kS(t)}return new fn(t);case te.POPUP:return new dh(t);case te.FREETEXT:return new bv(t);case te.LINE:return new US(t);case te.SQUARE:return new HS(t);case te.CIRCLE:return new FS(t);case te.POLYLINE:return new Av(t);case te.CARET:return new VS(t);case te.INK:return new zh(t);case te.POLYGON:return new GS(t);case te.HIGHLIGHT:return new Sv(t);case te.UNDERLINE:return new qS(t);case te.SQUIGGLY:return new YS(t);case te.STRIKEOUT:return new XS(t);case te.STAMP:return new xv(t);case te.FILEATTACHMENT:return new $S(t);default:return new ie(t)}}}class ie{#t=null;#e=!1;#s=null;constructor(t,{isRenderable:s=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=s,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,s&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:s,richText:n}){return!!(t?.str||s?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ie._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:s}=t;s&&this.#i(s),this.#s?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#i(this.#t.rect),this.#s?.popup.resetEdited(),this.#t=null)}#i(t){const{container:{style:s},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:u,pageY:f}}}}=this;n?.splice(0,4,...t),s.left=`${100*(t[0]-u)/l}%`,s.top=`${100*(c-t[3]+f)/c}%`,r===0?(s.width=`${100*(t[2]-t[0])/l}%`,s.height=`${100*(t[3]-t[1])/c}%`):this.setRotation(r)}_createContainer(t){const{data:s,parent:{page:n,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",s.id),this instanceof fn||(l.tabIndex=zr);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,s.alternativeText&&(l.title=s.alternativeText),s.noRotate&&l.classList.add("norotate"),!s.rect||this instanceof dh){const{rotation:x}=s;return!s.hasOwnCanvas&&x!==0&&this.setRotation(x,l),l}const{width:u,height:f}=this;if(!t&&s.borderStyle.width>0){c.borderWidth=`${s.borderStyle.width}px`;const x=s.borderStyle.horizontalCornerRadius,_=s.borderStyle.verticalCornerRadius;if(x>0||_>0){const O=`calc(${x}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;c.borderRadius=O}else if(this instanceof yv){const O=`calc(${u}px * var(--total-scale-factor)) / calc(${f}px * var(--total-scale-factor))`;c.borderRadius=O}switch(s.borderStyle.style){case ea.SOLID:c.borderStyle="solid";break;case ea.DASHED:c.borderStyle="dashed";break;case ea.BEVELED:bt("Unimplemented border style: beveled");break;case ea.INSET:bt("Unimplemented border style: inset");break;case ea.UNDERLINE:c.borderBottomStyle="solid";break}const T=s.borderColor||null;T?(this.#e=!0,c.borderColor=ot.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):c.borderWidth=0}const p=ot.normalizeRect([s.rect[0],n.view[3]-s.rect[1]+n.view[1],s.rect[2],n.view[3]-s.rect[3]+n.view[1]]),{pageWidth:m,pageHeight:y,pageX:b,pageY:S}=r.rawDims;c.left=`${100*(p[0]-b)/m}%`,c.top=`${100*(p[1]-S)/y}%`;const{rotation:E}=s;return s.hasOwnCanvas||E===0?(c.width=`${100*u/m}%`,c.height=`${100*f/y}%`):this.setRotation(E,l),l}setRotation(t,s=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims;let{width:l,height:c}=this;t%180!==0&&([l,c]=[c,l]),s.style.width=`${100*l/n}%`,s.style.height=`${100*c/r}%`,s.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(s,n,r)=>{const l=r.detail[s],c=l[0],u=l.slice(1);r.target.style[n]=ym[`${c}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[n]:ym[`${c}_rgb`](u)})};return Tt(this,"_commonActions",{display:s=>{const{display:n}=s.detail,r=n%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:n===1||n===2})},print:s=>{this.annotationStorage.setValue(this.data.id,{noPrint:!s.detail.print})},hidden:s=>{const{hidden:n}=s.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:s=>{setTimeout(()=>s.target.focus({preventScroll:!1}),0)},userName:s=>{s.target.title=s.detail.userName},readonly:s=>{s.target.disabled=s.detail.readonly},required:s=>{this._setRequired(s.target,s.detail.required)},bgColor:s=>{t("bgColor","backgroundColor",s)},fillColor:s=>{t("fillColor","backgroundColor",s)},fgColor:s=>{t("fgColor","color",s)},textColor:s=>{t("textColor","color",s)},borderColor:s=>{t("borderColor","borderColor",s)},strokeColor:s=>{t("strokeColor","borderColor",s)},rotation:s=>{const n=s.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,s){const n=this._commonActions;for(const r of Object.keys(s.detail))(t[r]||n[r])?.(s)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const s=this.annotationStorage.getRawValue(this.data.id);if(!s)return;const n=this._commonActions;for(const[r,l]of Object.entries(s)){const c=n[r];if(c){const u={detail:{[r]:l},target:t};c(u),delete s[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[s,n,r,l]=this.data.rect.map(x=>Math.fround(x));if(t.length===8){const[x,_,T,O]=t.subarray(2,6);if(r===x&&l===_&&s===T&&n===O)return}const{style:c}=this.container;let u;if(this.#e){const{borderColor:x,borderWidth:_}=c;c.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const f=r-s,p=l-n,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0);const b=m.createElement("defs");y.append(b);const S=m.createElement("clipPath"),E=`clippath_${this.data.id}`;S.setAttribute("id",E),S.setAttribute("clipPathUnits","objectBoundingBox"),b.append(S);for(let x=2,_=t.length;x<_;x+=8){const T=t[x],O=t[x+1],N=t[x+2],j=t[x+3],M=m.createElement("rect"),F=(N-s)/f,H=(l-O)/p,$=(T-N)/f,W=(O-j)/p;M.setAttribute("x",F),M.setAttribute("y",H),M.setAttribute("width",$),M.setAttribute("height",W),S.append(M),u?.push(`<rect vector-effect="non-scaling-stroke" x="${F}" y="${H}" width="${$}" height="${W}"/>`)}this.#e&&(u.push("</g></svg>')"),c.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${E})`}_createPopup(){const{data:t}=this,s=this.#s=new dh({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(s.render())}render(){Ut("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,s=null){const n=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:c,exportValues:u}of r){if(l===-1||c===s)continue;const f=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${c}"]`);if(p&&!ln.has(p)){bt(`_getElementsByName - element not allowed: ${c}`);continue}n.push({id:c,exportValue:f,domElement:p})}return n}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,c=r.getAttribute("data-element-id");c!==s&&ln.has(r)&&n.push({id:c,exportValue:l,domElement:r})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const s of t)s.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:s}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:s})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class vv extends ie{constructor(t,s=null){super(t,{isRenderable:!0,ignoreBorder:!!s?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:s}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let r=!1;return t.url?(s.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(this.#e(n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#s(n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,s){t.href=this.linkService.getDestinationHash(s),t.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&this.#t()}_bindNamedAction(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(s),!1),this.#t()}#e(t,s,n=null){t.href=this.linkService.getAnchorUrl(""),s.description&&(t.title=s.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(s.content,s.filename,n),!1),this.#t()}#s(t,s){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(s),!1),this.#t()}_bindJSAction(t,s){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(s.actions)){const l=n.get(r);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,s){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){bt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:r,refs:l,include:c}=s,u=[];if(r.length!==0||l.length!==0){const m=new Set(l);for(const y of r){const b=this._fieldObjects[y]||[];for(const{id:S}of b)m.add(S)}for(const y of Object.values(this._fieldObjects))for(const b of y)m.has(b.id)===c&&u.push(b)}else for(const m of Object.values(this._fieldObjects))u.push(...m);const f=this.annotationStorage,p=[];for(const m of u){const{id:y}=m;switch(p.push(y),m.type){case"text":{const S=m.defaultValue||"";f.setValue(y,{value:S});break}case"checkbox":case"radiobutton":{const S=m.defaultValue===m.exportValues;f.setValue(y,{value:S});break}case"combobox":case"listbox":{const S=m.defaultValue||"";f.setValue(y,{value:S});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!ln.has(b)){bt(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}}),!1}}}class OS extends ie{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class fn extends ie{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ee.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,s,n,r,l){n.includes("mouse")?t.addEventListener(n,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(n,c=>{if(n==="blur"){if(!s.focused||!c.relatedTarget)return;s.focused=!1}else if(n==="focus"){if(s.focused)return;s.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(c)}})})}_setEventListeners(t,s,n,r){for(const[l,c]of n)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(s||={focused:!1}),this._setEventListener(t,s,l,c,r),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,s,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,s,"focus","Focus",null))}_setBackgroundColor(t){const s=this.data.backgroundColor||null;t.style.backgroundColor=s===null?"transparent":ot.makeHexColor(s[0],s[1],s[2])}_setTextStyle(t){const s=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||LS,l=t.style;let c;const u=2,f=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),m=Math.round(p/(Ku*r))||1,y=p/m;c=Math.min(r,f(y/Ku))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);c=Math.min(r,f(p/Ku))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=ot.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(l.textAlign=s[this.data.textAlignment])}_setRequired(t,s){s?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",s)}}class jS extends fn{constructor(t){const s=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:s})}setPropertyOnSiblings(t,s,n,r){const l=this.annotationStorage;for(const c of this._getElementsByName(t.name,t.id))c.domElement&&(c.domElement[s]=n),l.setValue(c.id,{[r]:n})}render(){const t=this.annotationStorage,s=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const r=t.getValue(s,{value:this.data.fieldValue});let l=r.value||"";const c=t.getValue(s,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=r.formattedValue||this.data.textContent?.join(`
`)||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??l,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",u??l),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ln.add(n),n.setAttribute("data-element-id",s),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=zr,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",m=>{t.setValue(s,{value:m.target.value}),this.setPropertyOnSiblings(n,"value",m.target.value,"value"),f.formattedValue=null}),n.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue??"";n.value=f.userValue=y,f.formattedValue=null});let p=m=>{const{formattedValue:y}=f;y!=null&&(m.target.value=y),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",y=>{if(f.focused)return;const{target:b}=y;f.userValue&&(b.value=f.userValue),f.lastCommittedValue=b.value,f.commitKey=1,this.data.actions?.Focus||(f.focused=!0)}),n.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(S){f.userValue=S.detail.value??"",t.setValue(s,{value:f.userValue.toString()}),S.target.value=f.userValue},formattedValue(S){const{formattedValue:E}=S.detail;f.formattedValue=E,E!=null&&S.target!==document.activeElement&&(S.target.value=E),t.setValue(s,{formattedValue:E})},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:E}=S.detail,{target:x}=S;if(E===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",E);let _=f.userValue;!_||_.length<=E||(_=_.slice(0,E),x.value=f.userValue=_,t.setValue(s,{value:_}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:_,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),n.addEventListener("keydown",y=>{f.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(f.commitKey=3),b===-1)return;const{value:S}=y.target;f.lastCommittedValue!==S&&(f.lastCommittedValue=S,f.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:S,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const m=p;p=null,n.addEventListener("blur",y=>{if(!f.focused||!y.relatedTarget)return;this.data.actions?.Blur||(f.focused=!1);const{value:b}=y.target;f.userValue=b,f.lastCommittedValue!==b&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:b,willCommit:!0,commitKey:f.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),m(y)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",y=>{f.lastCommittedValue=null;const{data:b,target:S}=y,{value:E,selectionStart:x,selectionEnd:_}=S;let T=x,O=_;switch(y.inputType){case"deleteWordBackward":{const N=E.substring(0,x).match(/\w*[^\w]*$/);N&&(T-=N[0].length);break}case"deleteWordForward":{const N=E.substring(x).match(/^[^\w]*\w*/);N&&(O+=N[0].length);break}case"deleteContentBackward":x===_&&(T-=1);break;case"deleteContentForward":x===_&&(O+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:E,change:b||"",willCommit:!1,selStart:T,selEnd:O}})}),this._setEventListeners(n,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&n.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class kS extends fn{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class PS extends fn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,s=this.data,n=s.id;let r=t.getValue(n,{value:s.exportValue===s.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return ln.add(l),l.setAttribute("data-element-id",n),l.disabled=s.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=s.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",s.exportValue),l.tabIndex=zr,l.addEventListener("change",c=>{const{name:u,checked:f}=c.target;for(const p of this._getElementsByName(u,n)){const m=f&&p.exportValue===s.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(n,{value:f})}),l.addEventListener("resetform",c=>{const u=s.defaultFieldValue||"Off";c.target.checked=u===s.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const u={value(f){f.target.checked=f.detail.value!=="Off",t.setValue(n,{value:f.target.checked})}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class yv extends fn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,s=this.data,n=s.id;let r=t.getValue(n,{value:s.fieldValue===s.buttonValue}).value;if(typeof r=="string"&&(r=r!==s.buttonValue,t.setValue(n,{value:r})),r)for(const c of this._getElementsByName(s.fieldName,n))t.setValue(c.id,{value:!1});const l=document.createElement("input");if(ln.add(l),l.setAttribute("data-element-id",n),l.disabled=s.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=s.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=zr,l.addEventListener("change",c=>{const{name:u,checked:f}=c.target;for(const p of this._getElementsByName(u,n))t.setValue(p.id,{value:!1});t.setValue(n,{value:f})}),l.addEventListener("resetform",c=>{const u=s.defaultFieldValue;c.target.checked=u!=null&&u===s.buttonValue}),this.enableScripting&&this.hasJSActions){const c=s.buttonValue;l.addEventListener("updatefromsandbox",u=>{const f={value:p=>{const m=c===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const b=m&&y.id===n;y.domElement&&(y.domElement.checked=b),t.setValue(y.id,{value:b})}}};this._dispatchEventFromSandbox(f,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class IS extends vv{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const s=t.lastChild;return this.enableScripting&&this.hasJSActions&&s&&(this._setDefaultPropertiesFromJS(s),s.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class zS extends fn{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,s=this.data.id,n=t.getValue(s,{value:this.data.fieldValue}),r=document.createElement("select");ln.add(r),r.setAttribute("data-element-id",s),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=zr;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const b of r.options)b.selected=b.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,n.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),l=!1),r.append(y)}let c=null;if(l){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),r.prepend(m),c=()=>{m.remove(),r.removeEventListener("input",c),c=null},r.addEventListener("input",c)}const u=m=>{const y=m?"value":"textContent",{options:b,multiple:S}=r;return S?Array.prototype.filter.call(b,E=>E.selected).map(E=>E[y]):b.selectedIndex===-1?null:b[b.selectedIndex][y]};let f=u(!1);const p=m=>{const y=m.target.options;return Array.prototype.map.call(y,b=>({displayValue:b.textContent,exportValue:b.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",m=>{const y={value(b){c?.();const S=b.detail.value,E=new Set(Array.isArray(S)?S:[S]);for(const x of r.options)x.selected=E.has(x.value);t.setValue(s,{value:u(!0)}),f=u(!1)},multipleSelection(b){r.multiple=!0},remove(b){const S=r.options,E=b.detail.remove;S[E].selected=!1,r.remove(E),S.length>0&&Array.prototype.findIndex.call(S,_=>_.selected)===-1&&(S[0].selected=!0),t.setValue(s,{value:u(!0),items:p(b)}),f=u(!1)},clear(b){for(;r.length!==0;)r.remove(0);t.setValue(s,{value:null,items:[]}),f=u(!1)},insert(b){const{index:S,displayValue:E,exportValue:x}=b.detail.insert,_=r.children[S],T=document.createElement("option");T.textContent=E,T.value=x,_?_.before(T):r.append(T),t.setValue(s,{value:u(!0),items:p(b)}),f=u(!1)},items(b){const{items:S}=b.detail;for(;r.length!==0;)r.remove(0);for(const E of S){const{displayValue:x,exportValue:_}=E,T=document.createElement("option");T.textContent=x,T.value=_,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(s,{value:u(!0),items:p(b)}),f=u(!1)},indices(b){const S=new Set(b.detail.indices);for(const E of b.target.options)E.selected=S.has(E.index);t.setValue(s,{value:u(!0)}),f=u(!1)},editable(b){b.target.disabled=!b.detail.editable}};this._dispatchEventFromSandbox(y,m)}),r.addEventListener("input",m=>{const y=u(!0),b=u(!1);t.setValue(s,{value:y}),m.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:f,change:b,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):r.addEventListener("input",function(m){t.setValue(s,{value:u(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class dh extends ie{constructor(t){const{data:s,elements:n}=t;super(t,{isRenderable:ie._hasPopupData(s)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new BS({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",s.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(n=>`${_h}${n}`).join(",")),this.container}}class BS{#t=this.#C.bind(this);#e=this.#T.bind(this);#s=this.#N.bind(this);#i=this.#x.bind(this);#a=null;#n=null;#o=null;#l=null;#h=null;#c=null;#d=null;#u=!1;#f=null;#r=null;#p=null;#m=null;#g=null;#v=null;#y=!1;constructor({container:t,color:s,elements:n,titleObj:r,modificationDate:l,contentsObj:c,richText:u,parent:f,rect:p,parentRect:m,open:y}){this.#n=t,this.#g=r,this.#o=c,this.#m=u,this.#c=f,this.#a=s,this.#p=p,this.#d=m,this.#h=n,this.#l=Th.toDateObject(l),this.trigger=n.flatMap(b=>b.getElementsToTriggerPopup());for(const b of this.trigger)b.addEventListener("click",this.#i),b.addEventListener("mouseenter",this.#s),b.addEventListener("mouseleave",this.#e),b.classList.add("popupTriggerArea");for(const b of n)b.container?.addEventListener("keydown",this.#t);this.#n.hidden=!0,y&&this.#x()}render(){if(this.#f)return;const t=this.#f=document.createElement("div");if(t.className="popup",this.#a){const l=t.style.outlineColor=ot.makeHexColor(...this.#a);t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const s=document.createElement("span");s.className="header";const n=document.createElement("h1");if(s.append(n),{dir:n.dir,str:n.textContent}=this.#g,t.append(s),this.#l){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),s.append(l)}const r=this.#b;if(r)Ih.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(this.#o);t.append(l)}this.#n.append(t)}get#b(){const t=this.#m,s=this.#o;return t?.str&&(!s?.str||s.str===t.str)&&this.#m.html||null}get#S(){return this.#b?.attributes?.style?.fontSize||0}get#E(){return this.#b?.attributes?.style?.color||null}#_(t){const s=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:s}]}},r={style:{color:this.#E,fontSize:this.#S?`calc(${this.#S}px * var(--total-scale-factor))`:""}};for(const l of t.split(`
`))s.push({name:"span",value:l,attributes:r});return n}_formatContents({str:t,dir:s}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=s;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,c=r.length;l<c;++l){const u=r[l];n.append(document.createTextNode(u)),l<c-1&&n.append(document.createElement("br"))}return n}#C(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#u)&&this.#x()}updateEdited({rect:t,popupContent:s}){this.#v||={contentsObj:this.#o,richText:this.#m},t&&(this.#r=null),s&&(this.#m=this.#_(s),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#v&&({contentsObj:this.#o,richText:this.#m}=this.#v,this.#v=null,this.#f?.remove(),this.#f=null,this.#r=null)}#R(){if(this.#r!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:n,pageX:r,pageY:l}}}=this.#c;let c=!!this.#d,u=c?this.#d:this.#p;for(const E of this.#h)if(!u||ot.intersect(E.data.rect,u)!==null){u=E.data.rect,c=!0;break}const f=ot.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),m=c?u[2]-u[0]+5:0,y=f[0]+m,b=f[1];this.#r=[100*(y-r)/s,100*(b-l)/n];const{style:S}=this.#n;S.left=`${this.#r[0]}%`,S.top=`${this.#r[1]}%`}#x(){this.#u=!this.#u,this.#u?(this.#N(),this.#n.addEventListener("click",this.#i),this.#n.addEventListener("keydown",this.#t)):(this.#T(),this.#n.removeEventListener("click",this.#i),this.#n.removeEventListener("keydown",this.#t))}#N(){this.#f||this.render(),this.isVisible?this.#u&&this.#n.classList.add("focused"):(this.#R(),this.#n.hidden=!1,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)+1e3)}#T(){this.#n.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#n.hidden=!0,this.#n.style.zIndex=parseInt(this.#n.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#n.hidden=!0)}maybeShow(){this.#y&&(this.#f||this.#N(),this.#y=!1,this.#n.hidden=!1)}get isVisible(){return this.#n.hidden===!1}}class bv extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=vt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const s of this.textContent){const n=document.createElement("span");n.textContent=s,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class US extends ie{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:s,height:n}=this,r=this.svgFactory.create(s,n,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class HS extends ie{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:s,height:n}=this,r=this.svgFactory.create(s,n,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",s-l),c.setAttribute("height",n-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class FS extends ie{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:s,height:n}=this,r=this.svgFactory.create(s,n,!0),l=t.borderStyle.width,c=this.#t=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",s/2),c.setAttribute("cy",n/2),c.setAttribute("rx",s/2-l/2),c.setAttribute("ry",n/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),r.append(c),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Av extends ie{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:s,borderStyle:n,popupRef:r},width:l,height:c}=this;if(!s)return this.container;const u=this.svgFactory.create(l,c,!0);let f=[];for(let m=0,y=s.length;m<y;m+=2){const b=s[m]-t[0],S=t[3]-s[m+1];f.push(`${b},${S}`)}f=f.join(" ");const p=this.#t=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",f),p.setAttribute("stroke-width",n.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),u.append(p),this.container.append(u),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class GS extends Av{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class VS extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class zh extends ie{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?vt.HIGHLIGHT:vt.INK}#s(t,s){switch(t){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:s,inkLists:n,borderStyle:r,popupRef:l}}=this,{transform:c,width:u,height:f}=this.#s(s,t),p=this.svgFactory.create(u,f,!0),m=this.#t=this.svgFactory.createElement("svg:g");p.append(m),m.setAttribute("stroke-width",r.width||1),m.setAttribute("stroke-linecap","round"),m.setAttribute("stroke-linejoin","round"),m.setAttribute("stroke-miterlimit",10),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),m.setAttribute("transform",c);for(let y=0,b=n.length;y<b;y++){const S=this.svgFactory.createElement(this.svgElementName);this.#e.push(S),S.setAttribute("points",n[y].join(",")),m.append(S)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(p),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:s,points:n,rect:r}=t,l=this.#t;if(s>=0&&l.setAttribute("stroke-width",s||1),n)for(let c=0,u=this.#e.length;c<u;c++)this.#e[c].setAttribute("points",n[c].join(","));if(r){const{transform:c,width:u,height:f}=this.#s(this.data.rotation,r);l.parentElement.setAttribute("viewBox",`0 0 ${u} ${f}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Sv extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=vt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class qS extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class YS extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class XS extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xv extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=vt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class $S extends ie{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:s}=this.data;this.filename=s.filename,this.content=s.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:s}=this;let n;s.hasAppearance||s.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:r}=Ee.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(r?l.metaKey:l.ctrlKey)&&this.#e()}),!s.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Bh=class Ev{#t=null;#e=null;#s=new Map;#i=null;constructor({div:t,accessibilityManager:s,annotationCanvasMap:n,annotationEditorUIManager:r,page:l,viewport:c,structTreeLayer:u}){this.div=t,this.#t=s,this.#e=n,this.#i=u||null,this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#s.size>0}async#a(t,s){const n=t.firstChild||t,r=n.id=`${_h}${s}`,l=await this.#i?.getAriaAttributes(r);if(l)for(const[c,u]of l)n.setAttribute(c,u);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,n,!1)}async render(t){const{annotations:s}=t,n=this.div;Li(n,this.viewport);const r=new Map,l={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Cr,annotationStorage:t.annotationStorage||new Mh,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of s){if(c.noHTML)continue;const u=c.annotationType===te.POPUP;if(u){const m=r.get(c.id);if(!m)continue;l.elements=m}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const f=bm.create(l);if(!f.isRenderable)continue;if(!u&&c.popupRef){const m=r.get(c.popupRef);m?m.push(f):r.set(c.popupRef,[f])}const p=f.render();c.hidden&&(p.style.visibility="hidden"),await this.#a(p,c.id),f._isEditable&&(this.#s.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}this.#n()}async addLinkAnnotations(t,s){const n={data:null,layer:this.div,linkService:s,svgFactory:new Cr,parent:this};for(const r of t){r.borderStyle||=Ev._defaultBorderStyle,n.data=r;const l=bm.create(n);if(!l.isRenderable)continue;const c=l.render();await this.#a(c,r.id)}}update({viewport:t}){const s=this.div;this.viewport=t,Li(s,{rotation:t.rotation}),this.#n(),s.hidden=!1}#n(){if(!this.#e)return;const t=this.div;for(const[s,n]of this.#e){const r=t.querySelector(`[data-annotation-id="${s}"]`);if(!r)continue;n.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(n):l.classList.contains("annotationContent")?l.after(n):l.before(n):r.append(n);const c=this.#s.get(s);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(s,r.id,n),c._hasNoCanvas=!1):c.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#s.values())}getEditableAnnotation(t){return this.#s.get(t)}static get _defaultBorderStyle(){return Tt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:ea.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const lo=/\r\n?|\n/g;class me extends ut{#t;#e="";#s=`${this.id}-editor`;#i=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=me.prototype,s=l=>l.isEmpty(),n=si.TRANSLATE_SMALL,r=si.TRANSLATE_BIG;return Tt(this,"_keyboardManager",new kr([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:s}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:s}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:s}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:s}]]))}static _type="freetext";static _editorType=vt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||me._defaultColor||ut._defaultLineColor,this.#a=t.fontSize||me._defaultFontSize}static initialize(t,s){ut.initialize(t,s);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,s){switch(t){case Ct.FREETEXT_SIZE:me._defaultFontSize=s;break;case Ct.FREETEXT_COLOR:me._defaultColor=s;break}}updateParams(t,s){switch(t){case Ct.FREETEXT_SIZE:this.#n(s);break;case Ct.FREETEXT_COLOR:this.#o(s);break}}static get defaultPropertiesToUpdate(){return[[Ct.FREETEXT_SIZE,me._defaultFontSize],[Ct.FREETEXT_COLOR,me._defaultColor||ut._defaultLineColor]]}get propertiesToUpdate(){return[[Ct.FREETEXT_SIZE,this.#a],[Ct.FREETEXT_COLOR,this.#t]]}#n(t){const s=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#a)*this.parentScale),this.#a=r,this.#h()},n=this.#a;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const s=r=>{this.#t=this.editorDiv.style.color=r},n=this.#t;this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,s){this._uiManager.translateSelectedEditors(t,s,!0)}getInitialTranslation(){const t=this.parentScale;return[-me._internalPadding*t,-(me._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#l(){const t=[];this.editorDiv.normalize();let s=null;for(const n of this.editorDiv.childNodes)s?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(me.#c(n)),s=n);return t.join(`
`)}#h(){const[t,s]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:r,div:l}=this,c=l.style.display,u=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",r.div.append(this.div),n=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/s):(this.width=n.height/t,this.height=n.width/s),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,s=this.#e=this.#l().trimEnd();if(t===s)return;const n=r=>{if(this.#e=r,!r){this.remove();return}this.#d(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{n(s)},undo:()=>{n(t)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){me._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,s;(this._isCopy||this.annotationElementId)&&(t=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,n.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[u,f]=this.getInitialTranslation();[u,f]=this.pageTranslationToScreen(u,f);const[p,m]=this.pageDimensions,[y,b]=this.pageTranslation;let S,E;switch(this.rotation){case 0:S=t+(c[0]-y)/p,E=s+this.height-(c[1]-b)/m;break;case 90:S=t+(c[0]-y)/p,E=s-(c[1]-b)/m,[u,f]=[f,-u];break;case 180:S=t-this.width+(c[0]-y)/p,E=s-(c[1]-b)/m,[u,f]=[-u,-f];break;case 270:S=t+(c[0]-y-this.height*m)/p,E=s+(c[1]-b-this.width*p)/m,[u,f]=[-f,u];break}this.setAt(S*r,E*l,u,f)}else this._moveAfterPaste(t,s);this.#d(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(lo,"")}editorDivPaste(t){const s=t.clipboardData||window.clipboardData,{types:n}=s;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const r=me.#f(s.getData("text")||"").replaceAll(lo,`
`);if(!r)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!r.includes(`
`)){c.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:u,startOffset:f}=c,p=[],m=[];if(u.nodeType===Node.TEXT_NODE){const S=u.parentElement;if(m.push(u.nodeValue.slice(f).replaceAll(lo,"")),S!==this.editorDiv){let E=p;for(const x of this.editorDiv.childNodes){if(x===S){E=m;continue}E.push(me.#c(x))}}p.push(u.nodeValue.slice(0,f).replaceAll(lo,""))}else if(u===this.editorDiv){let S=p,E=0;for(const x of this.editorDiv.childNodes)E++===f&&(S=m),S.push(me.#c(x))}this.#e=`${p.join(`
`)}${r}${m.join(`
`)}`,this.#d();const y=new Range;let b=Math.sumPrecise(p.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const E=S.nodeValue.length;if(b<=E){y.setStart(S,b),y.setEnd(S,b);break}b-=E}l.removeAllRanges(),l.addRange(y)}#d(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const s=document.createElement("div");s.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(s)}}#u(){return this.#e.replaceAll(""," ")}static#f(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,s,n){let r=null;if(t instanceof bv){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:f,rotation:p,id:m,popupRef:y},textContent:b,textPosition:S,parent:{page:{pageNumber:E}}}=t;if(!b||b.length===0)return null;r=t={annotationType:vt.FREETEXT,color:Array.from(u),fontSize:c,value:b.join(`
`),position:S,pageIndex:E-1,rect:f.slice(0),rotation:p,id:m,deleted:!1,popupRef:y}}const l=await super.deserialize(t,s,n);return l.#a=t.fontSize,l.#t=ot.makeHexColor(...t.color),l.#e=me.#f(t.value),l.annotationElementId=t.id||null,l._initialData=r,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=me._internalPadding*this.parentScale,n=this.getRect(s,s),r=ut._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),l={annotationType:vt.FREETEXT,color:r,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(l.isCopy=!0,l):this.annotationElementId&&!this.#r(l)?null:(l.id=this.annotationElementId,l)}#r(t){const{value:s,fontSize:n,color:r,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==s||t.fontSize!==n||t.color.some((c,u)=>c!==r[u])||t.pageIndex!==l}renderAnnotationElement(t){const s=super.renderAnnotationElement(t);if(this.deleted)return s;const{style:n}=s;n.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,n.color=this.#t,s.replaceChildren();for(const l of this.#e.split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),s.append(c)}const r=me._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),s}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class et{static PRECISION=1e-4;toSVGPath(){Ut("Abstract method `toSVGPath` must be implemented.")}get box(){Ut("Abstract getter `box` must be implemented.")}serialize(t,s){Ut("Abstract method `serialize` must be implemented.")}static _rescale(t,s,n,r,l,c){c||=new Float32Array(t.length);for(let u=0,f=t.length;u<f;u+=2)c[u]=s+t[u]*r,c[u+1]=n+t[u+1]*l;return c}static _rescaleAndSwap(t,s,n,r,l,c){c||=new Float32Array(t.length);for(let u=0,f=t.length;u<f;u+=2)c[u]=s+t[u+1]*r,c[u+1]=n+t[u]*l;return c}static _translate(t,s,n,r){r||=new Float32Array(t.length);for(let l=0,c=t.length;l<c;l+=2)r[l]=s+t[l],r[l+1]=n+t[l+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,s,n,r,l){switch(l){case 90:return[1-s/n,t/r];case 180:return[1-t/n,1-s/r];case 270:return[s/n,1-t/r];default:return[t/n,s/r]}}static _normalizePagePoint(t,s,n){switch(n){case 90:return[1-s,t];case 180:return[1-t,1-s];case 270:return[s,1-t];default:return[t,s]}}static createBezierPoints(t,s,n,r,l,c){return[(t+5*n)/6,(s+5*r)/6,(5*n+l)/6,(5*r+c)/6,(n+l)/2,(r+c)/2]}}class tn{#t;#e=[];#s;#i;#a=[];#n=new Float32Array(18);#o;#l;#h;#c;#d;#u;#f=[];static#r=8;static#p=2;static#m=tn.#r+tn.#p;constructor({x:t,y:s},n,r,l,c,u=0){this.#t=n,this.#u=l*r,this.#i=c,this.#n.set([NaN,NaN,NaN,NaN,t,s],6),this.#s=u,this.#c=tn.#r*r,this.#h=tn.#m*r,this.#d=r,this.#f.push(t,s)}isEmpty(){return isNaN(this.#n[8])}#g(){const t=this.#n.subarray(4,6),s=this.#n.subarray(16,18),[n,r,l,c]=this.#t;return[(this.#o+(t[0]-s[0])/2-n)/l,(this.#l+(t[1]-s[1])/2-r)/c,(this.#o+(s[0]-t[0])/2-n)/l,(this.#l+(s[1]-t[1])/2-r)/c]}add({x:t,y:s}){this.#o=t,this.#l=s;const[n,r,l,c]=this.#t;let[u,f,p,m]=this.#n.subarray(8,12);const y=t-p,b=s-m,S=Math.hypot(y,b);if(S<this.#h)return!1;const E=S-this.#c,x=E/S,_=x*y,T=x*b;let O=u,N=f;u=p,f=m,p+=_,m+=T,this.#f?.push(t,s);const j=-T/E,M=_/E,F=j*this.#u,H=M*this.#u;return this.#n.set(this.#n.subarray(2,8),0),this.#n.set([p+F,m+H],4),this.#n.set(this.#n.subarray(14,18),12),this.#n.set([p-F,m-H],16),isNaN(this.#n[6])?(this.#a.length===0&&(this.#n.set([u+F,f+H],2),this.#a.push(NaN,NaN,NaN,NaN,(u+F-n)/l,(f+H-r)/c),this.#n.set([u-F,f-H],14),this.#e.push(NaN,NaN,NaN,NaN,(u-F-n)/l,(f-H-r)/c)),this.#n.set([O,N,u,f,p,m],6),!this.isEmpty()):(this.#n.set([O,N,u,f,p,m],6),Math.abs(Math.atan2(N-f,O-u)-Math.atan2(T,_))<Math.PI/2?([u,f,p,m]=this.#n.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((u+p)/2-n)/l,((f+m)/2-r)/c),[u,f,O,N]=this.#n.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((O+u)/2-n)/l,((N+f)/2-r)/c),!0):([O,N,u,f,p,m]=this.#n.subarray(0,6),this.#a.push(((O+5*u)/6-n)/l,((N+5*f)/6-r)/c,((5*u+p)/6-n)/l,((5*f+m)/6-r)/c,((u+p)/2-n)/l,((f+m)/2-r)/c),[p,m,u,f,O,N]=this.#n.subarray(12,18),this.#e.push(((O+5*u)/6-n)/l,((N+5*f)/6-r)/c,((5*u+p)/6-n)/l,((5*f+m)/6-r)/c,((u+p)/2-n)/l,((f+m)/2-r)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,s=this.#e;if(isNaN(this.#n[6])&&!this.isEmpty())return this.#v();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?n.push(`L${t[r+4]} ${t[r+5]}`):n.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#b(n);for(let r=s.length-6;r>=6;r-=6)isNaN(s[r])?n.push(`L${s[r+4]} ${s[r+5]}`):n.push(`C${s[r]} ${s[r+1]} ${s[r+2]} ${s[r+3]} ${s[r+4]} ${s[r+5]}`);return this.#y(n),n.join(" ")}#v(){const[t,s,n,r]=this.#t,[l,c,u,f]=this.#g();return`M${(this.#n[2]-t)/n} ${(this.#n[3]-s)/r} L${(this.#n[4]-t)/n} ${(this.#n[5]-s)/r} L${l} ${c} L${u} ${f} L${(this.#n[16]-t)/n} ${(this.#n[17]-s)/r} L${(this.#n[14]-t)/n} ${(this.#n[15]-s)/r} Z`}#y(t){const s=this.#e;t.push(`L${s[4]} ${s[5]} Z`)}#b(t){const[s,n,r,l]=this.#t,c=this.#n.subarray(4,6),u=this.#n.subarray(16,18),[f,p,m,y]=this.#g();t.push(`L${(c[0]-s)/r} ${(c[1]-n)/l} L${f} ${p} L${m} ${y} L${(u[0]-s)/r} ${(u[1]-n)/l}`)}newFreeDrawOutline(t,s,n,r,l,c){return new wv(t,s,n,r,l,c)}getOutlines(){const t=this.#a,s=this.#e,n=this.#n,[r,l,c,u]=this.#t,f=new Float32Array((this.#f?.length??0)+2);for(let y=0,b=f.length-2;y<b;y+=2)f[y]=(this.#f[y]-r)/c,f[y+1]=(this.#f[y+1]-l)/u;if(f[f.length-2]=(this.#o-r)/c,f[f.length-1]=(this.#l-l)/u,isNaN(n[6])&&!this.isEmpty())return this.#S(f);const p=new Float32Array(this.#a.length+24+this.#e.length);let m=t.length;for(let y=0;y<m;y+=2){if(isNaN(t[y])){p[y]=p[y+1]=NaN;continue}p[y]=t[y],p[y+1]=t[y+1]}m=this.#_(p,m);for(let y=s.length-6;y>=6;y-=6)for(let b=0;b<6;b+=2){if(isNaN(s[y+b])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=s[y+b],p[m+1]=s[y+b+1],m+=2}return this.#E(p,m),this.newFreeDrawOutline(p,f,this.#t,this.#d,this.#s,this.#i)}#S(t){const s=this.#n,[n,r,l,c]=this.#t,[u,f,p,m]=this.#g(),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(s[2]-n)/l,(s[3]-r)/c,NaN,NaN,NaN,NaN,(s[4]-n)/l,(s[5]-r)/c,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(s[16]-n)/l,(s[17]-r)/c,NaN,NaN,NaN,NaN,(s[14]-n)/l,(s[15]-r)/c],0),this.newFreeDrawOutline(y,t,this.#t,this.#d,this.#s,this.#i)}#E(t,s){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],s),s+=6}#_(t,s){const n=this.#n.subarray(4,6),r=this.#n.subarray(16,18),[l,c,u,f]=this.#t,[p,m,y,b]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-l)/u,(n[1]-c)/f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,b,NaN,NaN,NaN,NaN,(r[0]-l)/u,(r[1]-c)/f],s),s+=24}}class wv extends et{#t;#e=new Float32Array(4);#s;#i;#a;#n;#o;constructor(t,s,n,r,l,c){super(),this.#o=t,this.#a=s,this.#t=n,this.#n=r,this.#s=l,this.#i=c,this.lastPoint=[NaN,NaN],this.#l(c);const[u,f,p,m]=this.#e;for(let y=0,b=t.length;y<b;y+=2)t[y]=(t[y]-u)/p,t[y+1]=(t[y+1]-f)/m;for(let y=0,b=s.length;y<b;y+=2)s[y]=(s[y]-u)/p,s[y+1]=(s[y+1]-f)/m}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let s=6,n=this.#o.length;s<n;s+=6){if(isNaN(this.#o[s])){t.push(`L${this.#o[s+4]} ${this.#o[s+5]}`);continue}t.push(`C${this.#o[s]} ${this.#o[s+1]} ${this.#o[s+2]} ${this.#o[s+3]} ${this.#o[s+4]} ${this.#o[s+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,s,n,r],l){const c=n-t,u=r-s;let f,p;switch(l){case 0:f=et._rescale(this.#o,t,r,c,-u),p=et._rescale(this.#a,t,r,c,-u);break;case 90:f=et._rescaleAndSwap(this.#o,t,s,c,u),p=et._rescaleAndSwap(this.#a,t,s,c,u);break;case 180:f=et._rescale(this.#o,n,s,-c,u),p=et._rescale(this.#a,n,s,-c,u);break;case 270:f=et._rescaleAndSwap(this.#o,n,r,-c,-u),p=et._rescaleAndSwap(this.#a,n,r,-c,-u);break}return{outline:Array.from(f),points:[Array.from(p)]}}#l(t){const s=this.#o;let n=s[4],r=s[5];const l=[n,r,n,r];let c=n,u=r;const f=t?Math.max:Math.min;for(let m=6,y=s.length;m<y;m+=6){const b=s[m+4],S=s[m+5];if(isNaN(s[m]))ot.pointBoundingBox(b,S,l),u<S?(c=b,u=S):u===S&&(c=f(c,b));else{const E=[1/0,1/0,-1/0,-1/0];ot.bezierBoundingBox(n,r,...s.slice(m,m+6),E),ot.rectBoundingBox(...E,l),u<E[3]?(c=E[2],u=E[3]):u===E[3]&&(c=f(c,E[2]))}n=b,r=S}const p=this.#e;p[0]=l[0]-this.#s,p[1]=l[1]-this.#s,p[2]=l[2]-l[0]+2*this.#s,p[3]=l[3]-l[1]+2*this.#s,this.lastPoint=[c,u]}get box(){return this.#e}newOutliner(t,s,n,r,l,c=0){return new tn(t,s,n,r,l,c)}getNewOutline(t,s){const[n,r,l,c]=this.#e,[u,f,p,m]=this.#t,y=l*p,b=c*m,S=n*p+u,E=r*m+f,x=this.newOutliner({x:this.#a[0]*y+S,y:this.#a[1]*b+E},this.#t,this.#n,t,this.#i,s??this.#s);for(let _=2;_<this.#a.length;_+=2)x.add({x:this.#a[_]*y+S,y:this.#a[_+1]*b+E});return x.getOutlines()}}class fh{#t;#e;#s=[];#i=[];constructor(t,s=0,n=0,r=!0){const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x:S,y:E,width:x,height:_}of t){const T=Math.floor((S-s)/c)*c,O=Math.ceil((S+x+s)/c)*c,N=Math.floor((E-s)/c)*c,j=Math.ceil((E+_+s)/c)*c,M=[T,N,j,!0],F=[O,N,j,!1];this.#s.push(M,F),ot.rectBoundingBox(T,N,O,j,l)}const u=l[2]-l[0]+2*n,f=l[3]-l[1]+2*n,p=l[0]-n,m=l[1]-n,y=this.#s.at(r?-1:-2),b=[y[0],y[2]];for(const S of this.#s){const[E,x,_]=S;S[0]=(E-p)/u,S[1]=(x-m)/f,S[2]=(_-m)/f}this.#t=new Float32Array([p,m,u,f]),this.#e=b}getOutlines(){this.#s.sort((s,n)=>s[0]-n[0]||s[1]-n[1]||s[2]-n[2]);const t=[];for(const s of this.#s)s[3]?(t.push(...this.#h(s)),this.#o(s)):(this.#l(s),t.push(...this.#h(s)));return this.#a(t)}#a(t){const s=[],n=new Set;for(const c of t){const[u,f,p]=c;s.push([u,f,c],[u,p,c])}s.sort((c,u)=>c[1]-u[1]||c[0]-u[0]);for(let c=0,u=s.length;c<u;c+=2){const f=s[c][2],p=s[c+1][2];f.push(p),p.push(f),n.add(f),n.add(p)}const r=[];let l;for(;n.size>0;){const c=n.values().next().value;let[u,f,p,m,y]=c;n.delete(c);let b=u,S=f;for(l=[u,p],r.push(l);;){let E;if(n.has(m))E=m;else if(n.has(y))E=y;else break;n.delete(E),[u,f,p,m,y]=E,b!==u&&(l.push(b,S,u,S===f?f:p),b=u),S=S===f?p:f}l.push(b,S)}return new KS(r,this.#t,this.#e)}#n(t){const s=this.#i;let n=0,r=s.length-1;for(;n<=r;){const l=n+r>>1,c=s[l][0];if(c===t)return l;c<t?n=l+1:r=l-1}return r+1}#o([,t,s]){const n=this.#n(t);this.#i.splice(n,0,[t,s])}#l([,t,s]){const n=this.#n(t);for(let r=n;r<this.#i.length;r++){const[l,c]=this.#i[r];if(l!==t)break;if(l===t&&c===s){this.#i.splice(r,1);return}}for(let r=n-1;r>=0;r--){const[l,c]=this.#i[r];if(l!==t)break;if(l===t&&c===s){this.#i.splice(r,1);return}}}#h(t){const[s,n,r]=t,l=[[s,n,r]],c=this.#n(r);for(let u=0;u<c;u++){const[f,p]=this.#i[u];for(let m=0,y=l.length;m<y;m++){const[,b,S]=l[m];if(!(p<=b||S<=f)){if(b>=f){if(S>p)l[m][1]=p;else{if(y===1)return[];l.splice(m,1),m--,y--}continue}l[m][2]=f,S>p&&l.push([s,p,S])}}}return l}}class KS extends et{#t;#e;constructor(t,s,n){super(),this.#e=t,this.#t=s,this.lastPoint=n}toSVGPath(){const t=[];for(const s of this.#e){let[n,r]=s;t.push(`M${n} ${r}`);for(let l=2;l<s.length;l+=2){const c=s[l],u=s[l+1];c===n?(t.push(`V${u}`),r=u):u===r&&(t.push(`H${c}`),n=c)}t.push("Z")}return t.join(" ")}serialize([t,s,n,r],l){const c=[],u=n-t,f=r-s;for(const p of this.#e){const m=new Array(p.length);for(let y=0;y<p.length;y+=2)m[y]=t+p[y]*u,m[y+1]=r-p[y+1]*f;c.push(m)}return c}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class ph extends tn{newFreeDrawOutline(t,s,n,r,l,c){return new WS(t,s,n,r,l,c)}}class WS extends wv{newOutliner(t,s,n,r,l,c=0){return new ph(t,s,n,r,l,c)}}class ns{#t=null;#e=null;#s;#i=null;#a=!1;#n=!1;#o=null;#l;#h=null;#c=null;#d;static#u=null;static get _keyboardManager(){return Tt(this,"_keyboardManager",new kr([[["Escape","mac+Escape"],ns.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ns.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ns.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ns.prototype._moveToPrevious],[["Home","mac+Home"],ns.prototype._moveToBeginning],[["End","mac+End"],ns.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:s=null}){t?(this.#n=!1,this.#d=Ct.HIGHLIGHT_COLOR,this.#o=t):(this.#n=!0,this.#d=Ct.HIGHLIGHT_DEFAULT_COLOR),this.#c=t?._uiManager||s,this.#l=this.#c._eventBus,this.#s=t?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",ns.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const s=this.#c._signal;t.addEventListener("click",this.#m.bind(this),{signal:s}),t.addEventListener("keydown",this.#p.bind(this),{signal:s});const n=this.#e=document.createElement("span");return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=this.#s,t.append(n),t}renderMainDropdown(){const t=this.#i=this.#f();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#f(){const t=document.createElement("div"),s=this.#c._signal;t.addEventListener("contextmenu",vs,{signal:s}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of this.#c.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=n,l.setAttribute("data-l10n-id",ns.#u[n]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=r,l.setAttribute("aria-selected",r===this.#s),l.addEventListener("click",this.#r.bind(this,r),{signal:s}),t.append(l)}return t.addEventListener("keydown",this.#p.bind(this),{signal:s}),t}#r(t,s){s.stopPropagation(),this.#l.dispatch("switchannotationeditorparams",{source:this,type:this.#d,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const s=t.target.getAttribute("data-color");s&&this.#r(s,t)}_moveToNext(t){if(!this.#v){this.#m(t);return}if(t.target===this.#t){this.#i.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#i?.firstChild||t.target===this.#t){this.#v&&this._hideDropdownFromKeyboard();return}this.#v||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#v){this.#m(t);return}this.#i.firstChild?.focus()}_moveToEnd(t){if(!this.#v){this.#m(t);return}this.#i.lastChild?.focus()}#p(t){ns._keyboardManager.exec(this,t)}#m(t){if(this.#v){this.hideDropdown();return}if(this.#a=t.detail===0,this.#h||(this.#h=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#c.combinedSignal(this.#h)})),this.#i){this.#i.classList.remove("hidden");return}const s=this.#i=this.#f();this.#t.append(s)}#g(t){this.#i?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#h?.abort(),this.#h=null}get#v(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#n){if(!this.#v){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#i)return;const s=this.#c.highlightColors.values();for(const n of this.#i.children)n.setAttribute("aria-selected",s.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#i?.remove(),this.#i=null}}class ee extends ut{#t=null;#e=0;#s;#i=null;#a=null;#n=null;#o=null;#l=0;#h=null;#c=null;#d=null;#u=!1;#f=null;#r;#p=null;#m="";#g;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=vt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=ee.prototype;return Tt(this,"_keyboardManager",new kr([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||ee._defaultColor,this.#g=t.thickness||ee._defaultThickness,this.#r=t.opacity||ee._defaultOpacity,this.#s=t.boxes||null,this.#v=t.methodOfCreation||"",this.#m=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#u=!0,this.#b(t),this.#R()):this.#s&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#l=t.focusOffset,this.#y(),this.#R(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new fh(this.#s,.001);this.#c=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#c.box;const s=new fh(this.#s,.0025,.001,this._uiManager.direction==="ltr");this.#n=s.getOutlines();const{lastPoint:n}=this.#n;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#b({highlightOutlines:t,highlightId:s,clipPathId:n}){this.#c=t;const r=1.5;if(this.#n=t.getNewOutline(this.#g/2+r,.0025),s>=0)this.#d=s,this.#i=n,this.parent.drawLayer.finalizeDraw(s,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#n.box,path:{d:this.#n.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:ee.#x(this.#c.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:ee.#x(this.#n.box,m),path:{d:this.#n.toSVGPath()}})}const[l,c,u,f]=t.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=u,this.height=f;break;case 90:{const[m,y]=this.parentDimensions;this.x=c,this.y=1-l,this.width=u*y/m,this.height=f*m/y;break}case 180:this.x=1-l,this.y=1-c,this.width=u,this.height=f;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-c,this.y=l,this.width=u*y/m,this.height=f*m/y;break}}const{lastPoint:p}=this.#n;this.#f=[(p[0]-l)/u,(p[1]-c)/f]}static initialize(t,s){ut.initialize(t,s),ee._defaultColor||=s.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,s){switch(t){case Ct.HIGHLIGHT_DEFAULT_COLOR:ee._defaultColor=s;break;case Ct.HIGHLIGHT_THICKNESS:ee._defaultThickness=s;break}}translateInPage(t,s){}get toolbarPosition(){return this.#f}updateParams(t,s){switch(t){case Ct.HIGHLIGHT_COLOR:this.#S(s);break;case Ct.HIGHLIGHT_THICKNESS:this.#E(s);break}}static get defaultPropertiesToUpdate(){return[[Ct.HIGHLIGHT_DEFAULT_COLOR,ee._defaultColor],[Ct.HIGHLIGHT_THICKNESS,ee._defaultThickness]]}get propertiesToUpdate(){return[[Ct.HIGHLIGHT_COLOR,this.color||ee._defaultColor],[Ct.HIGHLIGHT_THICKNESS,this.#g||ee._defaultThickness],[Ct.HIGHLIGHT_FREE,this.#u]]}#S(t){const s=(l,c)=>{this.color=l,this.#r=c,this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:l,"fill-opacity":c}}),this.#a?.updateColor(l)},n=this.color,r=this.#r;this.addCommands({cmd:s.bind(this,t,ee._defaultOpacity),undo:s.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#E(t){const s=this.#g,n=r=>{this.#g=r,this.#_(r)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#a=new ns({editor:this}),t.addColorPicker(this.#a)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#D())}getBaseTranslation(){return[0,0]}getRect(t,s){return super.getRect(t,s,this.#D())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#R(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let s=!1;this.parent&&!t?this.#C():t&&(this.#R(t),s=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),s&&this.select()}#_(t){if(!this.#u)return;this.#b({highlightOutlines:this.#c.getNewOutline(t/2)}),this.fixAndSetPosition();const[s,n]=this.parentDimensions;this.setDims(this.width*s,this.height*n)}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#R(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#i}=t.drawLayer.draw({bbox:this.#c.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#r},rootClass:{highlight:!0,free:this.#u},path:{d:this.#c.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#n.box,path:{d:this.#n.toSVGPath()}},this.#u),this.#h&&(this.#h.style.clipPath=this.#i))}static#x([t,s,n,r],l){switch(l){case 90:return[1-s-r,t,r,n];case 180:return[1-t-n,1-s-r,n,r];case 270:return[s,1-t-n,r,n]}return[t,s,n,r]}rotate(t){const{drawLayer:s}=this.parent;let n;this.#u?(t=(t-this.rotation+360)%360,n=ee.#x(this.#c.box,t)):n=ee.#x([this.x,this.y,this.width,this.height],t),s.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),s.updateProperties(this.#p,{bbox:ee.#x(this.#n.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#m&&(t.setAttribute("aria-label",this.#m),t.setAttribute("role","mark")),this.#u?t.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const s=this.#h=document.createElement("div");t.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=this.#i;const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),Qm(this,this.#h,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#N(t){ee._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(t){if(!this.#t)return;const s=window.getSelection();t?s.setPosition(this.#t,this.#e):s.setPosition(this.#o,this.#l)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#T(!1))}get _mustFixPosition(){return!this.#u}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#D(){return this.#u?this.rotation:0}#L(){if(this.#u)return null;const[t,s]=this.pageDimensions,[n,r]=this.pageTranslation,l=this.#s,c=new Float32Array(l.length*8);let u=0;for(const{x:f,y:p,width:m,height:y}of l){const b=f*t+n,S=(1-p)*s+r;c[u]=c[u+4]=b,c[u+1]=c[u+3]=S,c[u+2]=c[u+6]=b+m*t,c[u+5]=c[u+7]=S-y*s,u+=8}return c}#O(t){return this.#c.serialize(t,this.#D())}static startHighlighting(t,s,{target:n,x:r,y:l}){const{x:c,y:u,width:f,height:p}=n.getBoundingClientRect(),m=new AbortController,y=t.combinedSignal(m),b=S=>{m.abort(),this.#w(t,S)};window.addEventListener("blur",b,{signal:y}),window.addEventListener("pointerup",b,{signal:y}),window.addEventListener("pointerdown",se,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",vs,{signal:y}),n.addEventListener("pointermove",this.#U.bind(this,t),{signal:y}),this._freeHighlight=new ph({x:r,y:l},[c,u,f,p],t.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#U(t,s){this._freeHighlight.add(s)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#w(t,s){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,s,n){let r=null;if(t instanceof Sv){const{data:{quadPoints:E,rect:x,rotation:_,id:T,color:O,opacity:N,popupRef:j},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:vt.HIGHLIGHT,color:Array.from(O),opacity:N,quadPoints:E,boxes:null,pageIndex:M-1,rect:x.slice(0),rotation:_,id:T,deleted:!1,popupRef:j}}else if(t instanceof zh){const{data:{inkLists:E,rect:x,rotation:_,id:T,color:O,borderStyle:{rawWidth:N},popupRef:j},parent:{page:{pageNumber:M}}}=t;r=t={annotationType:vt.HIGHLIGHT,color:Array.from(O),thickness:N,inkLists:E,boxes:null,pageIndex:M-1,rect:x.slice(0),rotation:_,id:T,deleted:!1,popupRef:j}}const{color:l,quadPoints:c,inkLists:u,opacity:f}=t,p=await super.deserialize(t,s,n);p.color=ot.makeHexColor(...l),p.#r=f||1,u&&(p.#g=t.thickness),p.annotationElementId=t.id||null,p._initialData=r;const[m,y]=p.pageDimensions,[b,S]=p.pageTranslation;if(c){const E=p.#s=[];for(let x=0;x<c.length;x+=8)E.push({x:(c[x]-b)/m,y:1-(c[x+1]-S)/y,width:(c[x+2]-c[x])/m,height:(c[x+1]-c[x+5])/y});p.#y(),p.#R(),p.rotate(p.rotation)}else if(u){p.#u=!0;const E=u[0],x={x:E[0]-b,y:y-(E[1]-S)},_=new ph(x,[0,0,m,y],1,p.#g/2,!0,.001);for(let N=0,j=E.length;N<j;N+=2)x.x=E[N]-b,x.y=y-(E[N+1]-S),_.add(x);const{id:T,clipPathId:O}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);p.#b({highlightOutlines:_.getOutlines(),highlightId:T,clipPathId:O}),p.#R(),p.rotate(p.parentRotation)}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),n=ut._colorManager.convert(this.color),r={annotationType:vt.HIGHLIGHT,color:n,opacity:this.#r,thickness:this.#g,quadPoints:this.#L(),outlines:this.#O(s),pageIndex:this.pageIndex,rect:s,rotation:this.#D(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#A(r)?null:(r.id=this.annotationElementId,r)}#A(t){const{color:s}=this._initialData;return t.color.some((n,r)=>n!==s[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class _v{#t=Object.create(null);updateProperty(t,s){this[t]=s,this.updateSVGProperty(t,s)}updateProperties(t){if(t)for(const[s,n]of Object.entries(t))s.startsWith("_")||this.updateProperty(s,n)}updateSVGProperty(t,s){this.#t[t]=s}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Ut("Not implemented")}}class ft extends ut{#t=null;#e;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#s=null;static#i=null;static#a=null;static#n=NaN;static#o=null;static#l=null;static#h=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(this.#c(t),this.#f())}#c({drawOutlines:t,drawId:s,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#m(t.box)}#d(t,s){const{id:n}=s.drawLayer.draw(ft._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,s){const n=new Set(Object.keys(t));for(const[r,l]of Object.entries(s))n.has(r)?Object.assign(t[r],l):t[r]=l;return t}static getDefaultDrawingOptions(t){Ut("Not implemented")}static get typesMap(){Ut("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,s){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,s),this._currentParent&&(ft.#s.updateProperty(n,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,s){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,s)}static get defaultPropertiesToUpdate(){const t=[],s=this._defaultDrawingOptions;for(const[n,r]of this.typesMap)t.push([n,s[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:s}=this;for(const[n,r]of this.constructor.typesMap)t.push([n,s[r]]);return t}_updateProperty(t,s,n){const r=this._drawingOptions,l=r[s],c=u=>{r.updateProperty(s,u);const f=this.#t.updateProperty(s,u);f&&this.#m(f),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:c.bind(this,n),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,s){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#m(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let s=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#u()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),s=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),s&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#r([t,s,n,r]){const{parentDimensions:[l,c],rotation:u}=this;switch(u){case 90:return[s,1-t,n*(c/l),r*(l/c)];case 180:return[1-t,1-s,n,r];case 270:return[1-s,t,n*(c/l),r*(l/c)];default:return[t,s,n,r]}}#p(){const{x:t,y:s,width:n,height:r,parentDimensions:[l,c],rotation:u}=this;switch(u){case 90:return[1-s,t,n*(l/c),r*(c/l)];case 180:return[1-t,1-s,n,r];case 270:return[s,1-t,n*(l/c),r*(c/l)];default:return[t,s,n,r]}}#m(t){if([this.x,this.y,this.width,this.height]=this.#r(t),this.div){this.fixAndSetPosition();const[s,n]=this.parentDimensions;this.setDims(this.width*s,this.height*n)}this._onResized()}#g(){const{x:t,y:s,width:n,height:r,rotation:l,parentRotation:c,parentDimensions:[u,f]}=this;switch((l*4+c)/90){case 1:return[1-s-r,t,r,n];case 2:return[1-t-n,1-s-r,n,r];case 3:return[s,1-t-n,r,n];case 4:return[t,s-n*(u/f),r*(f/u),n*(u/f)];case 5:return[1-s,t,n*(u/f),r*(f/u)];case 6:return[1-t-r*(f/u),1-s,r*(f/u),n*(u/f)];case 7:return[s-n*(u/f),1-t-r*(f/u),n*(u/f),r*(f/u)];case 8:return[t-n,s-r,n,r];case 9:return[1-s,t-n,r,n];case 10:return[1-t,1-s,n,r];case 11:return[s-r,1-t,r,n];case 12:return[t-r*(f/u),s,r*(f/u),n*(u/f)];case 13:return[1-s-n*(u/f),t-r*(f/u),n*(u/f),r*(f/u)];case 14:return[1-t,1-s-n*(u/f),r*(f/u),n*(u/f)];case 15:return[s,1-t,n*(u/f),r*(f/u)];default:return[t,s,n,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ft._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#m(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,s;this._isCopy&&(t=this.x,s=this.y);const n=super.render();n.classList.add("draw");const r=document.createElement("div");n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,s),n}static createDrawerInstance(t,s,n,r,l){Ut("Not implemented")}static startDrawing(t,s,n,r){const{target:l,offsetX:c,offsetY:u,pointerId:f,pointerType:p}=r;if(ft.#o&&ft.#o!==p)return;const{viewport:{rotation:m}}=t,{width:y,height:b}=l.getBoundingClientRect(),S=ft.#i=new AbortController,E=t.combinedSignal(S);if(ft.#n||=f,ft.#o??=p,window.addEventListener("pointerup",x=>{ft.#n===x.pointerId?this._endDraw(x):ft.#l?.delete(x.pointerId)},{signal:E}),window.addEventListener("pointercancel",x=>{ft.#n===x.pointerId?this._currentParent.endDrawingSession():ft.#l?.delete(x.pointerId)},{signal:E}),window.addEventListener("pointerdown",x=>{ft.#o===x.pointerType&&((ft.#l||=new Set).add(x.pointerId),ft.#s.isCancellable()&&(ft.#s.removeLastElement(),ft.#s.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:E}),window.addEventListener("contextmenu",vs,{signal:E}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:E}),l.addEventListener("touchmove",x=>{x.timeStamp===ft.#h&&se(x)},{signal:E}),t.toggleDrawing(),s._editorUndoBar?.hide(),ft.#s){t.drawLayer.updateProperties(this._currentDrawId,ft.#s.startNew(c,u,y,b,m));return}s.updateUIForDefaultProperties(this),ft.#s=this.createDrawerInstance(c,u,y,b,m),ft.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(ft.#a.toSVGProperties(),ft.#s.defaultSVGProperties),!0,!1)}static _drawMove(t){if(ft.#h=-1,!ft.#s)return;const{offsetX:s,offsetY:n,pointerId:r}=t;if(ft.#n===r){if(ft.#l?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ft.#s.add(s,n)),ft.#h=t.timeStamp,se(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,ft.#s=null,ft.#a=null,ft.#o=null,ft.#h=NaN),ft.#i&&(ft.#i.abort(),ft.#i=null,ft.#n=NaN,ft.#l=null)}static _endDraw(t){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),t?.target===s.div&&s.drawLayer.updateProperties(this._currentDrawId,ft.#s.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=ft.#s,r=this._currentDrawId,l=n.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(r,n.setLastElement(l))},undo:()=>{s.drawLayer.updateProperties(r,n.removeLastElement())},mustExec:!1,type:Ct.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(Ct.DRAW_STEP),!ft.#s.isEmpty()){const{pageDimensions:[n,r],scale:l}=s,c=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ft.#s.getOutlines(n*l,r*l,l,this._INNER_MARGIN),drawingOptions:ft.#a,mustBeCommitted:!t});return this._cleanup(!0),c}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,s,n,r,l,c){Ut("Not implemented")}static async deserialize(t,s,n){const{rawDims:{pageWidth:r,pageHeight:l,pageX:c,pageY:u}}=s.viewport,f=this.deserializeDraw(c,u,r,l,this._INNER_MARGIN,t),p=await super.deserialize(t,s,n);return p.createDrawingOptions(t),p.#c({drawOutlines:f}),p.#f(),p.onScaleChanging(),p.rotate(),p}serializeDraw(t){const[s,n]=this.pageTranslation,[r,l]=this.pageDimensions;return this.#t.serialize([s,n,r,l],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class QS{#t=new Float64Array(6);#e;#s;#i;#a;#n;#o="";#l=0;#h=new Br;#c;#d;constructor(t,s,n,r,l,c){this.#c=n,this.#d=r,this.#i=l,this.#a=c,[t,s]=this.#u(t,s);const u=this.#e=[NaN,NaN,NaN,NaN,t,s];this.#n=[t,s],this.#s=[{line:u,points:this.#n}],this.#t.set(u,0)}updateProperty(t,s){t==="stroke-width"&&(this.#a=s)}#u(t,s){return et._normalizePoint(t,s,this.#c,this.#d,this.#i)}isEmpty(){return!this.#s||this.#s.length===0}isCancellable(){return this.#n.length<=10}add(t,s){[t,s]=this.#u(t,s);const[n,r,l,c]=this.#t.subarray(2,6),u=t-l,f=s-c;return Math.hypot(this.#c*u,this.#d*f)<=2?null:(this.#n.push(t,s),isNaN(n)?(this.#t.set([l,c,t,s],2),this.#e.push(NaN,NaN,NaN,NaN,t,s),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,r,l,c,t,s],0),this.#e.push(...et.createBezierPoints(n,r,l,c,t,s)),{path:{d:this.toSVGPath()}}))}end(t,s){const n=this.add(t,s);return n||(this.#n.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,s,n,r,l){this.#c=n,this.#d=r,this.#i=l,[t,s]=this.#u(t,s);const c=this.#e=[NaN,NaN,NaN,NaN,t,s];this.#n=[t,s];const u=this.#s.at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),this.#s.push({line:c,points:this.#n}),this.#t.set(c,0),this.#l=0,this.toSVGPath(),null}getLastElement(){return this.#s.at(-1)}setLastElement(t){return this.#s?(this.#s.push(t),this.#e=t.line,this.#n=t.points,this.#l=0,{path:{d:this.toSVGPath()}}):this.#h.setLastElement(t)}removeLastElement(){if(!this.#s)return this.#h.removeLastElement();this.#s.pop(),this.#o="";for(let t=0,s=this.#s.length;t<s;t++){const{line:n,points:r}=this.#s[t];this.#e=n,this.#n=r,this.#l=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const t=et.svgRound(this.#e[4]),s=et.svgRound(this.#e[5]);if(this.#n.length===2)return this.#o=`${this.#o} M ${t} ${s} Z`,this.#o;if(this.#n.length<=6){const r=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,r)} M ${t} ${s}`,this.#l=6}if(this.#n.length===4){const r=et.svgRound(this.#e[10]),l=et.svgRound(this.#e[11]);return this.#o=`${this.#o} L ${r} ${l}`,this.#l=12,this.#o}const n=[];this.#l===0&&(n.push(`M ${t} ${s}`),this.#l=6);for(let r=this.#l,l=this.#e.length;r<l;r+=6){const[c,u,f,p,m,y]=this.#e.slice(r,r+6).map(et.svgRound);n.push(`C${c} ${u} ${f} ${p} ${m} ${y}`)}return this.#o+=n.join(" "),this.#l=this.#e.length,this.#o}getOutlines(t,s,n,r){const l=this.#s.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#h.build(this.#s,t,s,n,this.#i,this.#a,r),this.#t=null,this.#e=null,this.#s=null,this.#o=null,this.#h}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Br extends et{#t;#e=0;#s;#i;#a;#n;#o;#l;#h;build(t,s,n,r,l,c,u){this.#a=s,this.#n=n,this.#o=r,this.#l=l,this.#h=c,this.#s=u??0,this.#i=t,this.#u()}get thickness(){return this.#h}setLastElement(t){return this.#i.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#i.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:s}of this.#i){if(t.push(`M${et.svgRound(s[4])} ${et.svgRound(s[5])}`),s.length===6){t.push("Z");continue}if(s.length===12&&isNaN(s[6])){t.push(`L${et.svgRound(s[10])} ${et.svgRound(s[11])}`);continue}for(let n=6,r=s.length;n<r;n+=6){const[l,c,u,f,p,m]=s.subarray(n,n+6).map(et.svgRound);t.push(`C${l} ${c} ${u} ${f} ${p} ${m}`)}}return t.join("")}serialize([t,s,n,r],l){const c=[],u=[],[f,p,m,y]=this.#d();let b,S,E,x,_,T,O,N,j;switch(this.#l){case 0:j=et._rescale,b=t,S=s+r,E=n,x=-r,_=t+f*n,T=s+(1-p-y)*r,O=t+(f+m)*n,N=s+(1-p)*r;break;case 90:j=et._rescaleAndSwap,b=t,S=s,E=n,x=r,_=t+p*n,T=s+f*r,O=t+(p+y)*n,N=s+(f+m)*r;break;case 180:j=et._rescale,b=t+n,S=s,E=-n,x=r,_=t+(1-f-m)*n,T=s+p*r,O=t+(1-f)*n,N=s+(p+y)*r;break;case 270:j=et._rescaleAndSwap,b=t+n,S=s+r,E=-n,x=-r,_=t+(1-p-y)*n,T=s+(1-f-m)*r,O=t+(1-p)*n,N=s+(1-f)*r;break}for(const{line:M,points:F}of this.#i)c.push(j(M,b,S,E,x,l?new Array(M.length):null)),u.push(j(F,b,S,E,x,l?new Array(F.length):null));return{lines:c,points:u,rect:[_,T,O,N]}}static deserialize(t,s,n,r,l,{paths:{lines:c,points:u},rotation:f,thickness:p}){const m=[];let y,b,S,E,x;switch(f){case 0:x=et._rescale,y=-t/n,b=s/r+1,S=1/n,E=-1/r;break;case 90:x=et._rescaleAndSwap,y=-s/r,b=-t/n,S=1/r,E=1/n;break;case 180:x=et._rescale,y=t/n+1,b=-s/r,S=-1/n,E=1/r;break;case 270:x=et._rescaleAndSwap,y=s/r+1,b=t/n+1,S=-1/r,E=-1/n;break}if(!c){c=[];for(const T of u){const O=T.length;if(O===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(O===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const N=new Float32Array(3*(O-2));c.push(N);let[j,M,F,H]=T.subarray(0,4);N.set([NaN,NaN,NaN,NaN,j,M],0);for(let $=4;$<O;$+=2){const W=T[$],J=T[$+1];N.set(et.createBezierPoints(j,M,F,H,W,J),($-2)*3),[j,M,F,H]=[F,H,W,J]}}}for(let T=0,O=c.length;T<O;T++)m.push({line:x(c[T].map(N=>N??NaN),y,b,S,E),points:x(u[T].map(N=>N??NaN),y,b,S,E)});const _=new this.prototype.constructor;return _.build(m,n,r,1,f,p,l),_}#c(t=this.#h){const s=this.#s+t/2*this.#o;return this.#l%180===0?[s/this.#a,s/this.#n]:[s/this.#n,s/this.#a]}#d(){const[t,s,n,r]=this.#t,[l,c]=this.#c(0);return[t+l,s+c,n-2*l,r-2*c]}#u(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#i){if(r.length<=12){for(let u=4,f=r.length;u<f;u+=6)ot.pointBoundingBox(r[u],r[u+1],t);continue}let l=r[4],c=r[5];for(let u=6,f=r.length;u<f;u+=6){const[p,m,y,b,S,E]=r.subarray(u,u+6);ot.bezierBoundingBox(l,c,p,m,y,b,S,E,t),l=S,c=E}}const[s,n]=this.#c();t[0]=Oe(t[0]-s,0,1),t[1]=Oe(t[1]-n,0,1),t[2]=Oe(t[2]+s,0,1),t[3]=Oe(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,s){return t==="stroke-width"?this.#f(s):null}#f(t){const[s,n]=this.#c();this.#h=t;const[r,l]=this.#c(),[c,u]=[r-s,l-n],f=this.#t;return f[0]-=c,f[1]-=u,f[2]+=2*c,f[3]+=2*u,f}updateParentDimensions([t,s],n){const[r,l]=this.#c();this.#a=t,this.#n=s,this.#o=n;const[c,u]=this.#c(),f=c-r,p=u-l,m=this.#t;return m[0]-=f,m[1]-=p,m[2]+=2*f,m[3]+=2*p,m}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(et.svgRound).join(" ")}get defaultProperties(){const[t,s]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(s)}`}}}get rotationTransform(){const[,,t,s]=this.#t;let n=0,r=0,l=0,c=0,u=0,f=0;switch(this.#e){case 90:r=s/t,l=-t/s,u=t;break;case 180:n=-1,c=-1,u=t,f=s;break;case 270:r=-s/t,l=t/s,f=s;break;default:return""}return`matrix(${n} ${r} ${l} ${c} ${et.svgRound(u)} ${et.svgRound(f)})`}getPathResizingSVGProperties([t,s,n,r]){const[l,c]=this.#c(),[u,f,p,m]=this.#t;if(Math.abs(p-l)<=et.PRECISION||Math.abs(m-c)<=et.PRECISION){const x=t+n/2-(u+p/2),_=s+r/2-(f+m/2);return{path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(s)}`,transform:`${this.rotationTransform} translate(${x} ${_})`}}}const y=(n-2*l)/(p-2*l),b=(r-2*c)/(m-2*c),S=p/n,E=m/r;return{path:{"transform-origin":`${et.svgRound(u)} ${et.svgRound(f)}`,transform:`${this.rotationTransform} scale(${S} ${E}) translate(${et.svgRound(l)} ${et.svgRound(c)}) scale(${y} ${b}) translate(${et.svgRound(-l)} ${et.svgRound(-c)})`}}}getPathResizedSVGProperties([t,s,n,r]){const[l,c]=this.#c(),u=this.#t,[f,p,m,y]=u;if(u[0]=t,u[1]=s,u[2]=n,u[3]=r,Math.abs(m-l)<=et.PRECISION||Math.abs(y-c)<=et.PRECISION){const _=t+n/2-(f+m/2),T=s+r/2-(p+y/2);for(const{line:O,points:N}of this.#i)et._translate(O,_,T,O),et._translate(N,_,T,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const b=(n-2*l)/(m-2*l),S=(r-2*c)/(y-2*c),E=-b*(f+l)+t+l,x=-S*(p+c)+s+c;if(b!==1||S!==1||E!==0||x!==0)for(const{line:_,points:T}of this.#i)et._rescale(_,E,x,b,S,_),et._rescale(T,E,x,b,S,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${et.svgRound(t)} ${et.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,s],n){const[r,l]=n,c=this.#t,u=t-c[0],f=s-c[1];if(this.#a===r&&this.#n===l)for(const{line:p,points:m}of this.#i)et._translate(p,u,f,p),et._translate(m,u,f,m);else{const p=this.#a/r,m=this.#n/l;this.#a=r,this.#n=l;for(const{line:y,points:b}of this.#i)et._rescale(y,u,f,p,m,y),et._rescale(b,u,f,p,m,b);c[2]*=p,c[3]*=m}return c[0]=t,c[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t)} ${et.svgRound(s)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${et.svgRound(t[0])} ${et.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class xo extends _v{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:ut._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,s){t==="stroke-width"&&(s??=this["stroke-width"],s*=this._viewParameters.realScale),super.updateSVGProperty(t,s)}clone(){const t=new xo(this._viewParameters);return t.updateAll(this),t}}class Uh extends ft{static _type="ink";static _editorType=vt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,s){ut.initialize(t,s),this._defaultDrawingOptions=new xo(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return Tt(this,"typesMap",new Map([[Ct.INK_THICKNESS,"stroke-width"],[Ct.INK_COLOR,"stroke"],[Ct.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,s,n,r,l){return new QS(t,s,n,r,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,s,n,r,l,c){return Br.deserialize(t,s,n,r,l,c)}static async deserialize(t,s,n){let r=null;if(t instanceof zh){const{data:{inkLists:c,rect:u,rotation:f,id:p,color:m,opacity:y,borderStyle:{rawWidth:b},popupRef:S},parent:{page:{pageNumber:E}}}=t;r=t={annotationType:vt.INK,color:Array.from(m),thickness:b,opacity:y,paths:{points:c},boxes:null,pageIndex:E-1,rect:u.slice(0),rotation:f,id:p,deleted:!1,popupRef:S}}const l=await super.deserialize(t,s,n);return l.annotationElementId=t.id||null,l._initialData=r,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:s,parent:n}=this;s.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:s,opacity:n}){this._drawingOptions=Uh.getDefaultDrawingOptions({stroke:ot.makeHexColor(...t),"stroke-width":s,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":u}}=this,f={annotationType:vt.INK,color:ut._colorManager.convert(l),opacity:c,thickness:u,paths:{lines:s,points:n},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(f.isCopy=!0,f):this.annotationElementId&&!this.#t(f)?null:(f.id=this.annotationElementId,f)}#t(t){const{color:s,thickness:n,opacity:r,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((c,u)=>c!==s[u])||t.thickness!==n||t.opacity!==r||t.pageIndex!==l}renderAnnotationElement(t){const{points:s,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:s}),null}}class gh extends Br{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const oo=8,gr=3;class Ji{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,s,n,r){return n-=t,r-=s,n===0?r>0?0:4:n===1?r+6:2-r}static#s=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#i(t,s,n,r,l,c,u){const f=this.#e(n,r,l,c);for(let p=0;p<8;p++){const m=(-p+f-u+16)%8,y=this.#s[2*m],b=this.#s[2*m+1];if(t[(n+y)*s+(r+b)]!==0)return m}return-1}static#a(t,s,n,r,l,c,u){const f=this.#e(n,r,l,c);for(let p=0;p<8;p++){const m=(p+f+u+16)%8,y=this.#s[2*m],b=this.#s[2*m+1];if(t[(n+y)*s+(r+b)]!==0)return m}return-1}static#n(t,s,n,r){const l=t.length,c=new Int32Array(l);for(let m=0;m<l;m++)c[m]=t[m]<=r?1:0;for(let m=1;m<n-1;m++)c[m*s]=c[m*s+s-1]=0;for(let m=0;m<s;m++)c[m]=c[s*n-1-m]=0;let u=1,f;const p=[];for(let m=1;m<n-1;m++){f=1;for(let y=1;y<s-1;y++){const b=m*s+y,S=c[b];if(S===0)continue;let E=m,x=y;if(S===1&&c[b-1]===0)u+=1,x-=1;else if(S>=1&&c[b+1]===0)u+=1,x+=1,S>1&&(f=S);else{S!==1&&(f=Math.abs(S));continue}const _=[y,m],T=x===y+1,O={isHole:T,points:_,id:u,parent:0};p.push(O);let N;for(const Z of p)if(Z.id===f){N=Z;break}N?N.isHole?O.parent=T?N.parent:f:O.parent=T?f:N.parent:O.parent=T?f:0;const j=this.#i(c,s,m,y,E,x,0);if(j===-1){c[b]=-u,c[b]!==1&&(f=Math.abs(c[b]));continue}let M=this.#s[2*j],F=this.#s[2*j+1];const H=m+M,$=y+F;E=H,x=$;let W=m,J=y;for(;;){const Z=this.#a(c,s,W,J,E,x,1);M=this.#s[2*Z],F=this.#s[2*Z+1];const at=W+M,yt=J+F;_.push(yt,at);const ct=W*s+J;if(c[ct+1]===0?c[ct]=-u:c[ct]===1&&(c[ct]=u),at===m&&yt===y&&W===H&&J===$){c[b]!==1&&(f=Math.abs(c[b]));break}else E=W,x=J,W=at,J=yt}}}return p}static#o(t,s,n,r){if(n-s<=4){for(let H=s;H<n-2;H+=2)r.push(t[H],t[H+1]);return}const l=t[s],c=t[s+1],u=t[n-4]-l,f=t[n-3]-c,p=Math.hypot(u,f),m=u/p,y=f/p,b=m*c-y*l,S=f/u,E=1/p,x=Math.atan(S),_=Math.cos(x),T=Math.sin(x),O=E*(Math.abs(_)+Math.abs(T)),N=E*(1-O+O**2),j=Math.max(Math.atan(Math.abs(T+_)*N),Math.atan(Math.abs(T-_)*N));let M=0,F=s;for(let H=s+2;H<n-2;H+=2){const $=Math.abs(b-m*t[H+1]+y*t[H]);$>M&&(F=H,M=$)}M>(p*j)**2?(this.#o(t,s,F+2,r),this.#o(t,F,n,r)):r.push(l,c)}static#l(t){const s=[],n=t.length;return this.#o(t,0,n,s),s.push(t[n-2],t[n-1]),s.length<=4?null:s}static#h(t,s,n,r,l,c){const u=new Float32Array(c**2),f=-2*r**2,p=c>>1;for(let x=0;x<c;x++){const _=(x-p)**2;for(let T=0;T<c;T++)u[x*c+T]=Math.exp((_+(T-p)**2)/f)}const m=new Float32Array(256),y=-2*l**2;for(let x=0;x<256;x++)m[x]=Math.exp(x**2/y);const b=t.length,S=new Uint8Array(b),E=new Uint32Array(256);for(let x=0;x<n;x++)for(let _=0;_<s;_++){const T=x*s+_,O=t[T];let N=0,j=0;for(let F=0;F<c;F++){const H=x+F-p;if(!(H<0||H>=n))for(let $=0;$<c;$++){const W=_+$-p;if(W<0||W>=s)continue;const J=t[H*s+W],Z=u[F*c+$]*m[Math.abs(J-O)];N+=J*Z,j+=Z}}const M=S[T]=Math.round(N/j);E[M]++}return[S,E]}static#c(t){const s=new Uint32Array(256);for(const n of t)s[n]++;return s}static#d(t){const s=t.length,n=new Uint8ClampedArray(s>>2);let r=-1/0,l=1/0;for(let u=0,f=n.length;u<f;u++){if(t[(u<<2)+3]===0){r=n[u]=255;continue}const m=n[u]=t[u<<2];m>r&&(r=m),m<l&&(l=m)}const c=255/(r-l);for(let u=0;u<s;u++)n[u]=(n[u]-l)*c;return n}static#u(t){let s,n=-1/0,r=-1/0;const l=t.findIndex(f=>f!==0);let c=l,u=l;for(s=l;s<256;s++){const f=t[s];f>n&&(s-c>r&&(r=s-c,u=s-1),n=f,c=s)}for(s=u-1;s>=0&&!(t[s]>t[s+1]);s--);return s}static#f(t){const s=t,{width:n,height:r}=t,{maxDim:l}=this.#t;let c=n,u=r;if(n>l||r>l){let b=n,S=r,E=Math.log2(Math.max(n,r)/l);const x=Math.floor(E);E=E===x?x-1:x;for(let T=0;T<E;T++){c=Math.ceil(b/2),u=Math.ceil(S/2);const O=new OffscreenCanvas(c,u);O.getContext("2d").drawImage(t,0,0,b,S,0,0,c,u),b=c,S=u,t!==s&&t.close(),t=O.transferToImageBitmap()}const _=Math.min(l/c,l/u);c=Math.round(c*_),u=Math.round(u*_)}const p=new OffscreenCanvas(c,u).getContext("2d",{willReadFrequently:!0});p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,c,u);const m=p.getImageData(0,0,c,u).data;return[this.#d(m),c,u]}static extractContoursFromText(t,{fontFamily:s,fontStyle:n,fontWeight:r},l,c,u,f){let p=new OffscreenCanvas(1,1),m=p.getContext("2d",{alpha:!1});const y=200,b=m.font=`${n} ${r} ${y}px ${s}`,{actualBoundingBoxLeft:S,actualBoundingBoxRight:E,actualBoundingBoxAscent:x,actualBoundingBoxDescent:_,fontBoundingBoxAscent:T,fontBoundingBoxDescent:O,width:N}=m.measureText(t),j=1.5,M=Math.ceil(Math.max(Math.abs(S)+Math.abs(E)||0,N)*j),F=Math.ceil(Math.max(Math.abs(x)+Math.abs(_)||y,Math.abs(T)+Math.abs(O)||y)*j);p=new OffscreenCanvas(M,F),m=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=b,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,M,F),m.fillStyle="black",m.fillText(t,M*(j-1)/2,F*(3-j)/2);const H=this.#d(m.getImageData(0,0,M,F).data),$=this.#c(H),W=this.#u($),J=this.#n(H,M,F,W);return this.processDrawnLines({lines:{curves:J,width:M,height:F},pageWidth:l,pageHeight:c,rotation:u,innerMargin:f,mustSmooth:!0,areContours:!0})}static process(t,s,n,r,l){const[c,u,f]=this.#f(t),[p,m]=this.#h(c,u,f,Math.hypot(u,f)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),y=this.#u(m),b=this.#n(p,u,f,y);return this.processDrawnLines({lines:{curves:b,width:u,height:f},pageWidth:s,pageHeight:n,rotation:r,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:s,pageHeight:n,rotation:r,innerMargin:l,mustSmooth:c,areContours:u}){r%180!==0&&([s,n]=[n,s]);const{curves:f,width:p,height:m}=t,y=t.thickness??0,b=[],S=Math.min(s/p,n/m),E=S/s,x=S/n,_=[];for(const{points:O}of f){const N=c?this.#l(O):O;if(!N)continue;_.push(N);const j=N.length,M=new Float32Array(j),F=new Float32Array(3*(j===2?2:j-2));if(b.push({line:F,points:M}),j===2){M[0]=N[0]*E,M[1]=N[1]*x,F.set([NaN,NaN,NaN,NaN,M[0],M[1]],0);continue}let[H,$,W,J]=N;H*=E,$*=x,W*=E,J*=x,M.set([H,$,W,J],0),F.set([NaN,NaN,NaN,NaN,H,$],0);for(let Z=4;Z<j;Z+=2){const at=M[Z]=N[Z]*E,yt=M[Z+1]=N[Z+1]*x;F.set(et.createBezierPoints(H,$,W,J,at,yt),(Z-2)*3),[H,$,W,J]=[W,J,at,yt]}}if(b.length===0)return null;const T=u?new gh:new Br;return T.build(b,s,n,1,r,u?0:y,l),{outline:T,newCurves:_,areContours:u,thickness:y,width:p,height:m}}static async compressSignature({outlines:t,areContours:s,thickness:n,width:r,height:l}){let c=1/0,u=-1/0,f=0;for(const N of t){f+=N.length;for(let j=2,M=N.length;j<M;j++){const F=N[j]-N[j-2];c=Math.min(c,F),u=Math.max(u,F)}}let p;c>=-128&&u<=127?p=Int8Array:c>=-32768&&u<=32767?p=Int16Array:p=Int32Array;const m=t.length,y=oo+gr*m,b=new Uint32Array(y);let S=0;b[S++]=y*Uint32Array.BYTES_PER_ELEMENT+(f-2*m)*p.BYTES_PER_ELEMENT,b[S++]=0,b[S++]=r,b[S++]=l,b[S++]=s?0:1,b[S++]=Math.max(0,Math.floor(n??0)),b[S++]=m,b[S++]=p.BYTES_PER_ELEMENT;for(const N of t)b[S++]=N.length-2,b[S++]=N[0],b[S++]=N[1];const E=new CompressionStream("deflate-raw"),x=E.writable.getWriter();await x.ready,x.write(b);const _=p.prototype.constructor;for(const N of t){const j=new _(N.length-2);for(let M=2,F=N.length;M<F;M++)j[M-2]=N[M]-N[M-2];x.write(j)}x.close();const T=await new Response(E.readable).arrayBuffer(),O=new Uint8Array(T);return Xm(O)}static async decompressSignature(t){try{const s=CA(t),{readable:n,writable:r}=new DecompressionStream("deflate-raw"),l=r.getWriter();await l.ready,l.write(s).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,u=0;for await(const N of n)c||=new Uint8Array(new Uint32Array(N.buffer,0,4)[0]),c.set(N,u),u+=N.length;const f=new Uint32Array(c.buffer,0,c.length>>2),p=f[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const m=f[2],y=f[3],b=f[4]===0,S=f[5],E=f[6],x=f[7],_=[],T=(oo+gr*E)*Uint32Array.BYTES_PER_ELEMENT;let O;switch(x){case Int8Array.BYTES_PER_ELEMENT:O=new Int8Array(c.buffer,T);break;case Int16Array.BYTES_PER_ELEMENT:O=new Int16Array(c.buffer,T);break;case Int32Array.BYTES_PER_ELEMENT:O=new Int32Array(c.buffer,T);break}u=0;for(let N=0;N<E;N++){const j=f[gr*N+oo],M=new Float32Array(j+2);_.push(M);for(let F=0;F<gr-1;F++)M[F]=f[gr*N+oo+F+1];for(let F=0;F<j;F++)M[F+2]=M[F]+O[u++]}return{areContours:b,thickness:S,outlines:_,width:m,height:y}}catch(s){return bt(`decompressSignature: ${s}`),null}}}class Hh extends _v{constructor(){super(),super.updateProperties({fill:ut._defaultLineColor,"stroke-width":0})}clone(){const t=new Hh;return t.updateAll(this),t}}class Fh extends xo{constructor(t){super(t),super.updateProperties({stroke:ut._defaultLineColor,"stroke-width":1})}clone(){const t=new Fh(this._viewParameters);return t.updateAll(this),t}}class Os extends ft{#t=!1;#e=null;#s=null;#i=null;static _type="signature";static _editorType=vt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#s=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,s){ut.initialize(t,s),this._defaultDrawingOptions=new Hh,this._defaultDrawnSignatureOptions=new Fh(s.viewParameters)}static getDefaultDrawingOptions(t){const s=this._defaultDrawingOptions.clone();return s.updateProperties(t),s}static get supportMultipleDrawings(){return!1}static get typesMap(){return Tt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const s=t.get("hasDescription");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,s;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,s=this.y),super.render(),this._drawId===null)if(this.#s){const{lines:r,mustSmooth:l,areContours:c,description:u,uuid:f,heightInPage:p}=this.#s,{rawDims:{pageWidth:m,pageHeight:y},rotation:b}=this.parent.viewport,S=Ji.processDrawnLines({lines:r,pageWidth:m,pageHeight:y,rotation:b,innerMargin:Os._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(S,p,u,f)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,s)),this.div}setUuid(t){this.#i=t,this.addEditToolbar()}getUuid(){return this.#i}get description(){return this.#e}set description(t){this.#e=t,super.addEditToolbar().then(s=>{s?.updateEditSignatureButton(t)})}getSignaturePreview(){const{newCurves:t,areContours:s,thickness:n,width:r,height:l}=this.#s,c=Math.max(r,l),u=Ji.processDrawnLines({lines:{curves:t.map(f=>({points:f})),thickness:n,width:r,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:s});return{areContours:s,outline:u.outline}}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.signatureManager&&this.#e!==null&&(await t.addEditSignatureButton(this._uiManager.signatureManager,this.#i,this.#e),t.show()),t):null}addSignature(t,s,n,r){const{x:l,y:c}=this,{outline:u}=this.#s=t;this.#t=u instanceof gh,this.#e=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n}));let f;this.#t?f=Os.getDefaultDrawingOptions():(f=Os._defaultDrawnSignatureOptions.clone(),f.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:f});const[p,m]=this.parentDimensions,[,y]=this.pageDimensions;let b=s/y;b=b>=1?.5:b,this.width*=b/this.height,this.width>=1&&(b*=.9/this.width,this.width=.9),this.height=b,this.setDims(p*this.width,m*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:s,pageHeight:n},rotation:r}=this.parent.viewport;return Ji.process(t,s,n,r,Os._INNER_MARGIN)}getFromText(t,s){const{rawDims:{pageWidth:n,pageHeight:r},rotation:l}=this.parent.viewport;return Ji.extractContoursFromText(t,s,n,r,l,Os._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:s,pageHeight:n},rotation:r}=this.parent.viewport;return Ji.processDrawnLines({lines:t,pageWidth:s,pageHeight:n,rotation:r,innerMargin:Os._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:s}){t?this._drawingOptions=Os.getDefaultDrawingOptions():(this._drawingOptions=Os._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:s,points:n,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:vt.SIGNATURE,isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:l,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(c.paths={lines:s,points:n},c.uuid=this.#i,c.isCopy=!0):c.lines=s,this.#e&&(c.accessibilityData={type:"Figure",alt:this.#e}),c}static deserializeDraw(t,s,n,r,l,c){return c.areContours?gh.deserialize(t,s,n,r,l,c):Br.deserialize(t,s,n,r,l,c)}static async deserialize(t,s,n){const r=await super.deserialize(t,s,n);return r.#t=t.areContours,r.#e=t.accessibilityData?.alt||"",r.#i=t.uuid,r}}class ZS extends ut{#t=null;#e=null;#s=null;#i=null;#a=null;#n="";#o=null;#l=!1;#h=null;#c=!1;#d=!1;static _type="stamp";static _editorType=vt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#i=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,s){ut.initialize(t,s)}static isHandlingMimeForPasting(t){return po.includes(t)}static paste(t,s){s.pasteEditor({mode:vt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const s=t.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}#u(t,s=!1){if(!t){this.remove();return}this.#t=t.bitmap,s||(this.#e=t.id,this.#c=t.isSvg),t.file&&(this.#n=t.file.name),this.#p()}#f(){if(this.#s=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:l,height:c}=t||this.copyCanvas(null,null,!0).imageData,u=await n.guess({name:"altText",request:{data:r,width:l,height:c,channels:r.length/(l*c)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const f=u.output;return await this.setGuessedAltText(f),s&&!this.hasAltTextData()&&(this.altTextData={alt:f,decorative:!1}),f}#r(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#u(n,!0)).finally(()=>this.#f());return}if(this.#i){const n=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromUrl(n).then(r=>this.#u(r)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromFile(n).then(r=>this.#u(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=po.join(",");const s=this._uiManager._signal;this.#s=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(r)}n()},{signal:s}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:s})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#h&&(clearTimeout(this.#h),this.#h=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#r();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#r(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#s||this.#t||this.#i||this.#a||this.#e||this.#l)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,s;return this._isCopy&&(t=this.x,s=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#l||(this.#t?this.#p():this.#r()),this._isCopy&&this._moveAfterPaste(t,s),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,s){const{id:n,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,s);s.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,r&&(this.#t=r),this.#l=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#h!==null&&clearTimeout(this.#h);const t=200;this.#h=setTimeout(()=>{this.#h=null,this.#g()},t)}#p(){const{div:t}=this;let{width:s,height:n}=this.#t;const[r,l]=this.pageDimensions,c=.75;if(this.width)s=this.width*r,n=this.height*l;else if(s>c*r||n>c*l){const m=Math.min(c*r/s,c*l/n);s*=m,n*=m}const[u,f]=this.parentDimensions;this.setDims(s*u/r,n*f/l),this._uiManager.enableWaiting(!1);const p=this.#o=document.createElement("canvas");p.setAttribute("role","img"),this.addContainer(p),this.width=s/r,this.height=n/l,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#n&&this.div.setAttribute("aria-description",this.#n)}copyCanvas(t,s,n=!1){t||(t=224);const{width:r,height:l}=this.#t,c=new Es;let u=this.#t,f=r,p=l,m=null;if(s){if(r>s||l>s){const F=Math.min(s/r,s/l);f=Math.floor(r*F),p=Math.floor(l*F)}m=document.createElement("canvas");const b=m.width=Math.ceil(f*c.sx),S=m.height=Math.ceil(p*c.sy);this.#c||(u=this.#m(b,S));const E=m.getContext("2d");E.filter=this._uiManager.hcmFilter;let x="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",_="#42414d");const T=15,O=T*c.sx,N=T*c.sy,j=new OffscreenCanvas(O*2,N*2),M=j.getContext("2d");M.fillStyle=x,M.fillRect(0,0,O*2,N*2),M.fillStyle=_,M.fillRect(0,0,O,N),M.fillRect(O,N,O,N),E.fillStyle=E.createPattern(j,"repeat"),E.fillRect(0,0,b,S),E.drawImage(u,0,0,u.width,u.height,0,0,b,S)}let y=null;if(n){let b,S;if(c.symmetric&&u.width<t&&u.height<t)b=u.width,S=u.height;else if(u=this.#t,r>t||l>t){const _=Math.min(t/r,t/l);b=Math.floor(r*_),S=Math.floor(l*_),this.#c||(u=this.#m(b,S))}const x=new OffscreenCanvas(b,S).getContext("2d",{willReadFrequently:!0});x.drawImage(u,0,0,u.width,u.height,0,0,b,S),y={width:b,height:S,data:x.getImageData(0,0,b,S).data}}return{canvas:m,width:f,height:p,imageData:y}}#m(t,s){const{width:n,height:r}=this.#t;let l=n,c=r,u=this.#t;for(;l>2*t||c>2*s;){const f=l,p=c;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*s&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const m=new OffscreenCanvas(l,c);m.getContext("2d").drawImage(u,0,0,f,p,0,0,l,c),u=m.transferToImageBitmap()}return u}#g(){const[t,s]=this.parentDimensions,{width:n,height:r}=this,l=new Es,c=Math.ceil(n*t*l.sx),u=Math.ceil(r*s*l.sy),f=this.#o;if(!f||f.width===c&&f.height===u)return;f.width=c,f.height=u;const p=this.#c?this.#t:this.#m(c,u),m=f.getContext("2d");m.filter=this._uiManager.hcmFilter,m.drawImage(p,0,0,p.width,p.height,0,0,c,u)}#v(t){if(t){if(this.#c){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const s=document.createElement("canvas");return{width:s.width,height:s.height}=this.#t,s.getContext("2d").drawImage(this.#t,0,0),s.toDataURL()}if(this.#c){const[s,n]=this.pageDimensions,r=Math.round(this.width*s*rn.PDF_TO_CSS_UNITS),l=Math.round(this.height*n*rn.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(r,l);return c.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,l),c.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,s,n){let r=null,l=!1;if(t instanceof xv){const{data:{rect:x,rotation:_,id:T,structParent:O,popupRef:N},container:j,parent:{page:{pageNumber:M}},canvas:F}=t;let H,$;F?(delete t.canvas,{id:H,bitmap:$}=n.imageManager.getFromCanvas(j.id,F),F.remove()):(l=!0,t._hasNoCanvas=!0);const W=(await s._structTree.getAriaAttributes(`${_h}${T}`))?.get("aria-label")||"";r=t={annotationType:vt.STAMP,bitmapId:H,bitmap:$,pageIndex:M-1,rect:x.slice(0),rotation:_,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:W},isSvg:!1,structParent:O,popupRef:N}}const c=await super.deserialize(t,s,n),{rect:u,bitmap:f,bitmapUrl:p,bitmapId:m,isSvg:y,accessibilityData:b}=t;l?(n.addMissingCanvas(t.id,c),c.#l=!0):m&&n.imageManager.isValidId(m)?(c.#e=m,f&&(c.#t=f)):c.#i=p,c.#c=y;const[S,E]=c.pageDimensions;return c.width=(u[2]-u[0])/S,c.height=(u[3]-u[1])/E,c.annotationElementId=t.id||null,b&&(c.altTextData=b),c._initialData=r,c.#d=!!r,c}serialize(t=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:vt.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=this.#v(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:r,altText:l}=this.serializeAltText(!1);if(!r&&l&&(n.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const u=this.#y(n);if(u.isSame)return null;u.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,s===null)return n;s.stamps||=new Map;const c=this.#c?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!s.stamps.has(this.#e))s.stamps.set(this.#e,{area:c,serialized:n}),n.bitmap=this.#v(!1);else if(this.#c){const u=s.stamps.get(this.#e);c>u.area&&(u.area=c,u.serialized.bitmap.close(),u.serialized.bitmap=this.#v(!1))}return n}#y(t){const{pageIndex:s,accessibilityData:{altText:n}}=this._initialData,r=t.pageIndex===s,l=(t.accessibilityData?.alt||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&l,isSameAltText:l}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class ks{#t;#e=!1;#s=null;#i=null;#a=null;#n=new Map;#o=!1;#l=!1;#h=!1;#c=null;#d=null;#u=null;#f=null;#r;static _initialized=!1;static#p=new Map([me,Uh,ZS,ee,Os].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:s,div:n,structTreeLayer:r,accessibilityManager:l,annotationLayer:c,drawLayer:u,textLayer:f,viewport:p,l10n:m}){const y=[...ks.#p.values()];if(!ks._initialized){ks._initialized=!0;for(const b of y)b.initialize(m,t)}t.registerEditorTypes(y),this.#r=t,this.pageIndex=s,this.div=n,this.#t=l,this.#s=c,this.viewport=p,this.#u=f,this.drawLayer=u,this._structTree=r,this.#r.addLayer(this)}get isEmpty(){return this.#n.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===vt.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#b(),t){case vt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case vt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case vt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:s}=this.div;for(const n of ks.#p.values())s.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#u?.div}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}cleanUndoStack(t){this.#r.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#s?.div.classList.toggle("disabled",!t)}async enable(){this.#h=!0,this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of this.#n.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#r.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!this.#s){this.#h=!1;return}const s=this.#s.getEditableAnnotations();for(const n of s){if(n.hide(),this.#r.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const r=await this.deserialize(n);r&&(this.addOrRebuild(r),r.enableEditing())}this.#h=!1}disable(){this.#l=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,s=new Map;for(const r of this.#n.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else s.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#s){const r=this.#s.getEditableAnnotations();for(const l of r){const{id:c}=l.data;if(this.#r.isDeletedAnnotationElement(c))continue;let u=s.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=t.get(c),u&&(this.#r.addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}this.#b(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const r of ks.#p.values())n.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#l=!1}getEditableAnnotation(t){return this.#s?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const t=this.#r.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#m.bind(this),{signal:t}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#m(t){this.#r.unselectAll();const{target:s}=t;if(s===this.#u.div||(s.getAttribute("role")==="img"||s.classList.contains("endOfContent"))&&this.#u.div.contains(s)){const{isMac:n}=Ee.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#r.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),ee.startHighlighting(this,this.#r.direction==="ltr",{target:this.#u.div,x:t.x,y:t.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;const t=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const s=this.pointerup.bind(this);this.div.addEventListener("pointerup",s,{signal:t}),this.div.addEventListener("pointercancel",s,{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#n.set(t.id,t);const{annotationElementId:s}=t;s&&this.#r.isDeletedAnnotationElement(s)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#n.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#l&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),ut.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const s=t.render();this.div.append(s),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#h),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:s}=document;t.div.contains(s)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),s.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const s=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:s,undo:n,mustExec:!1})}getNextId(){return this.#r.getId()}get#g(){return ks.#p.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#v(t){const s=this.#g;return s?new s.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}async pasteEditor(t,s){this.updateToolbar(t),await this.#r.updateMode(t.mode);const{offsetX:n,offsetY:r}=this.#y(),l=this.getNextId(),c=this.#v({parent:this,id:l,x:n,y:r,uiManager:this.#r,isCentered:!0,...s});c&&this.add(c)}async deserialize(t){return await ks.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,s,n={}){const r=this.getNextId(),l=this.#v({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:s,...n});return l&&this.add(l),l}#y(){const{x:t,y:s,width:n,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),c=Math.max(0,s),u=Math.min(window.innerWidth,t+n),f=Math.min(window.innerHeight,s+r),p=(l+u)/2-t,m=(c+f)/2-s,[y,b]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:y,offsetY:b}}addNewEditor(t={}){this.createAndAddNewEditor(this.#y(),!0,t)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:s}=Ee.platform;if(t.button!==0||t.ctrlKey&&s||t.target!==this.div||!this.#o||(this.#o=!1,this.#g?.isDrawer&&this.#g.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#r.getMode();if(n===vt.STAMP||n===vt.SIGNATURE){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#r.getMode()===vt.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:s}=Ee.platform;if(t.button!==0||t.ctrlKey&&s||t.target!==this.div)return;if(this.#o=!0,this.#g?.isDrawer){this.startDrawingSession(t);return}const n=this.#r.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#c){this.#g.startDrawing(this,this.#r,!1,t);return}this.#r.setCurrentDrawingSession(this),this.#c=new AbortController;const s=this.#r.combinedSignal(this.#c);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:s}),this.#g.startDrawing(this,this.#r,!1,t)}pause(t){if(t){const{activeElement:s}=document;this.div.contains(s)&&(this.#d=s);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#c?(this.#r.setCurrentDrawingSession(null),this.#c.abort(),this.#c=null,this.#d=null,this.#g.endDrawing(t)):null}findNewParent(t,s,n){const r=this.#r.findParent(s,n);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#c?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#c&&this.#g.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#n.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#n.clear(),this.#r.removeLayer(this)}#b(){for(const t of this.#n.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Li(this.div,t);for(const s of this.#r.getEditors(this.pageIndex))this.add(s),s.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#b();const s=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Li(this.div,{rotation:n}),s!==n)for(const r of this.#n.values())r.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:s}=this.viewport.rawDims;return[t,s]}get scale(){return this.#r.viewParameters.realScale}}class xe{#t=null;#e=new Map;#s=new Map;static#i=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const s of this.#e.values())s.remove(),t.append(s);this.#t=t}}static get _svgFactory(){return Tt(this,"_svgFactory",new Cr)}static#a(t,[s,n,r,l]){const{style:c}=t;c.top=`${100*n}%`,c.left=`${100*s}%`,c.width=`${100*r}%`,c.height=`${100*l}%`}#n(){const t=xe._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#o(t,s){const n=xe._svgFactory.createElement("clipPath");t.append(n);const r=`clip_${s}`;n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const l=xe._svgFactory.createElement("use");return n.append(l),l.setAttribute("href",`#${s}`),l.classList.add("clip"),r}#l(t,s){for(const[n,r]of Object.entries(s))r===null?t.removeAttribute(n):t.setAttribute(n,r)}draw(t,s=!1,n=!1){const r=xe.#i++,l=this.#n(),c=xe._svgFactory.createElement("defs");l.append(c);const u=xe._svgFactory.createElement("path");c.append(u);const f=`path_p${this.pageIndex}_${r}`;u.setAttribute("id",f),u.setAttribute("vector-effect","non-scaling-stroke"),s&&this.#s.set(r,u);const p=n?this.#o(c,f):null,m=xe._svgFactory.createElement("use");return l.append(m),m.setAttribute("href",`#${f}`),this.updateProperties(l,t),this.#e.set(r,l),{id:r,clipPathId:`url(#${p})`}}drawOutline(t,s){const n=xe.#i++,r=this.#n(),l=xe._svgFactory.createElement("defs");r.append(l);const c=xe._svgFactory.createElement("path");l.append(c);const u=`path_p${this.pageIndex}_${n}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke");let f;if(s){const y=xe._svgFactory.createElement("mask");l.append(y),f=`mask_p${this.pageIndex}_${n}`,y.setAttribute("id",f),y.setAttribute("maskUnits","objectBoundingBox");const b=xe._svgFactory.createElement("rect");y.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");const S=xe._svgFactory.createElement("use");y.append(S),S.setAttribute("href",`#${u}`),S.setAttribute("stroke","none"),S.setAttribute("fill","black"),S.setAttribute("fill-rule","nonzero"),S.classList.add("mask")}const p=xe._svgFactory.createElement("use");r.append(p),p.setAttribute("href",`#${u}`),f&&p.setAttribute("mask",`url(#${f})`);const m=p.cloneNode();return r.append(m),p.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(n,r),n}finalizeDraw(t,s){this.#s.delete(t),this.updateProperties(t,s)}updateProperties(t,s){if(!s)return;const{root:n,bbox:r,rootClass:l,path:c}=s,u=typeof t=="number"?this.#e.get(t):t;if(u){if(n&&this.#l(u,n),r&&xe.#a(u,r),l){const{classList:f}=u;for(const[p,m]of Object.entries(l))f.toggle(p,m)}if(c){const p=u.firstChild.firstChild;this.#l(p,c)}}}updateParent(t,s){if(s===this)return;const n=this.#e.get(t);n&&(s.#t.append(n),this.#e.delete(t),s.#e.set(t,n))}remove(t){this.#s.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#s.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:fh};globalThis.pdfjsLib={AbortException:ei,AnnotationEditorLayer:ks,AnnotationEditorParamsType:Ct,AnnotationEditorType:vt,AnnotationEditorUIManager:si,AnnotationLayer:Bh,AnnotationMode:Ps,AnnotationType:te,build:mv,ColorPicker:ns,createValidAbsoluteUrl:xh,DOMSVGFactory:Cr,DrawLayer:xe,FeatureTest:Ee,fetchData:da,getDocument:jh,getFilenameFromUrl:$m,getPdfFilenameFromUrl:Km,getUuid:wh,getXfaPageViewport:Wm,GlobalWorkerOptions:an,ImageKind:br,InvalidPDFException:fo,isDataScheme:jr,isPdfFile:Ao,isValidExplicitDest:tv,MathClamp:Oe,noContextMenu:vs,normalizeUnicode:Ym,OPS:Er,OutputScale:Es,PasswordResponses:Vm,PDFDataRangeTransport:Ph,PDFDateString:Th,PDFWorker:ua,PermissionFlag:Gm,PixelsPerInch:rn,RenderingCancelledException:bo,ResponseException:wr,setLayerDimensions:Li,shadow:Tt,SignatureExtractor:Ji,stopEvent:se,SupportedImageMimeTypes:po,TextLayer:_r,TouchManager:Pr,updateUrlHash:Eh,Util:ot,VerbosityLevel:Dr,version:gv,XfaLayer:Ih};const JS=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ei,AnnotationEditorLayer:ks,AnnotationEditorParamsType:Ct,AnnotationEditorType:vt,AnnotationEditorUIManager:si,AnnotationLayer:Bh,AnnotationMode:Ps,AnnotationType:te,ColorPicker:ns,DOMSVGFactory:Cr,DrawLayer:xe,FeatureTest:Ee,GlobalWorkerOptions:an,ImageKind:br,InvalidPDFException:fo,MathClamp:Oe,OPS:Er,OutputScale:Es,PDFDataRangeTransport:Ph,PDFDateString:Th,PDFWorker:ua,PasswordResponses:Vm,PermissionFlag:Gm,PixelsPerInch:rn,RenderingCancelledException:bo,ResponseException:wr,SignatureExtractor:Ji,SupportedImageMimeTypes:po,TextLayer:_r,TouchManager:Pr,Util:ot,VerbosityLevel:Dr,XfaLayer:Ih,build:mv,createValidAbsoluteUrl:xh,fetchData:da,getDocument:jh,getFilenameFromUrl:$m,getPdfFilenameFromUrl:Km,getUuid:wh,getXfaPageViewport:Wm,isDataScheme:jr,isPdfFile:Ao,isValidExplicitDest:tv,noContextMenu:vs,normalizeUnicode:Ym,setLayerDimensions:Li,shadow:Tt,stopEvent:se,updateUrlHash:Eh,version:gv},Symbol.toStringTag,{value:"Module"})),tx=["onCopy","onCut","onPaste"],ex=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],sx=["onFocus","onBlur"],ix=["onInput","onInvalid","onReset","onSubmit"],nx=["onLoad","onError"],ax=["onKeyDown","onKeyPress","onKeyUp"],rx=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],lx=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],ox=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],cx=["onSelect"],ux=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],hx=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],dx=["onScroll"],fx=["onWheel"],px=["onAnimationStart","onAnimationEnd","onAnimationIteration"],gx=["onTransitionEnd"],mx=["onToggle"],vx=["onChange"],yx=[...tx,...ex,...sx,...ix,...nx,...ax,...rx,...lx,...ox,...cx,...ux,...hx,...dx,...fx,...px,...gx,...vx,...mx];function Tv(h,t){const s={};for(const n of yx){const r=h[n];r&&(t?s[n]=l=>r(l,t(n)):s[n]=r)}return s}function Ur(h){let t=!1;return{promise:new Promise((n,r)=>{h.then(l=>!t&&n(l)).catch(l=>!t&&r(l))}),cancel(){t=!0}}}function Cv(h){var t,s,n="";if(typeof h=="string"||typeof h=="number")n+=h;else if(typeof h=="object")if(Array.isArray(h)){var r=h.length;for(t=0;t<r;t++)h[t]&&(s=Cv(h[t]))&&(n&&(n+=" "),n+=s)}else for(s in h)h[s]&&(n&&(n+=" "),n+=s);return n}function Eo(){for(var h,t,s=0,n="",r=arguments.length;s<r;s++)(h=arguments[s])&&(t=Cv(h))&&(n&&(n+=" "),n+=t);return n}var bx="Invariant failed";function Ft(h,t){if(!h)throw new Error(bx)}var ih,Am;function Ax(){if(Am)return ih;Am=1;var h=function(){};return ih=h,ih}var Sx=Ax();const ke=Mm(Sx);var Sm=Object.prototype.hasOwnProperty;function xm(h,t,s){for(s of h.keys())if(la(s,t))return s}function la(h,t){var s,n,r;if(h===t)return!0;if(h&&t&&(s=h.constructor)===t.constructor){if(s===Date)return h.getTime()===t.getTime();if(s===RegExp)return h.toString()===t.toString();if(s===Array){if((n=h.length)===t.length)for(;n--&&la(h[n],t[n]););return n===-1}if(s===Set){if(h.size!==t.size)return!1;for(n of h)if(r=n,r&&typeof r=="object"&&(r=xm(t,r),!r)||!t.has(r))return!1;return!0}if(s===Map){if(h.size!==t.size)return!1;for(n of h)if(r=n[0],r&&typeof r=="object"&&(r=xm(t,r),!r)||!la(n[1],t.get(r)))return!1;return!0}if(s===ArrayBuffer)h=new Uint8Array(h),t=new Uint8Array(t);else if(s===DataView){if((n=h.byteLength)===t.byteLength)for(;n--&&h.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(h)){if((n=h.byteLength)===t.byteLength)for(;n--&&h[n]===t[n];);return n===-1}if(!s||typeof h=="object"){n=0;for(s in h)if(Sm.call(h,s)&&++n&&!Sm.call(t,s)||!(s in t)||!la(h[s],t[s]))return!1;return Object.keys(t).length===n}}return h!==h&&t!==t}const Nv=G.createContext(null);function oa({children:h,type:t}){return v.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:h})}const xx="noopener noreferrer nofollow";class Ex{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Ft(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Ft(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(s=>{Ft(this.pdfDocument),Ft(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(s):Array.isArray(t)?s(t):t.then(s)}).then(s=>{Ft(Array.isArray(s));const n=s[0];new Promise(r=>{Ft(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(l=>{r(l)}).catch(()=>{Ft(!1)}):typeof n=="number"?r(n):Ft(!1)}).then(r=>{const l=r+1;Ft(this.pdfViewer),Ft(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:r,pageNumber:l})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const s=t-1;Ft(this.pdfViewer),Ft(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:t})}addLinkAttributes(t,s,n){t.href=s,t.rel=this.externalLinkRel||xx,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const Em={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},wo=typeof window<"u",Rv=wo&&window.location.protocol==="file:";function wx(h){return typeof h<"u"}function Zi(h){return wx(h)&&h!==null}function _x(h){return typeof h=="string"}function Tx(h){return h instanceof ArrayBuffer}function Cx(h){return Ft(wo),h instanceof Blob}function mh(h){return _x(h)&&/^data:/.test(h)}function wm(h){Ft(mh(h));const[t="",s=""]=h.split(",");return t.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function Nx(){return wo&&window.devicePixelRatio||1}const Mv="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function _m(){ke(!Rv,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Mv}`)}function Rx(){ke(!Rv,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Mv}`)}function on(h){h?.cancel&&h.cancel()}function vh(h,t){return Object.defineProperty(h,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(h,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(h,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(h,"originalHeight",{get(){return this.view[3]},configurable:!0}),h}function Mx(h){return h.name==="RenderingCancelledException"}function Dx(h){return new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return s(new Error("Error while reading a file."));t(n.result)},n.onerror=r=>{if(!r.target)return s(new Error("Error while reading a file."));const{error:l}=r.target;if(!l)return s(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},n.readAsArrayBuffer(h)})}function Lx(h,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return h}}function ha(){return G.useReducer(Lx,{value:void 0,error:void 0})}var Tm=function(h,t){var s={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.indexOf(n)<0&&(s[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(h);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(h,n[r])&&(s[n[r]]=h[n[r]]);return s};const{PDFDataRangeTransport:Ox}=JS,jx=(h,t)=>{switch(t){case Em.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");h(s);break}case Em.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");h(s);break}}};function Cm(h){return typeof h=="object"&&h!==null&&("data"in h||"range"in h||"url"in h)}const kx=G.forwardRef(function(t,s){var{children:n,className:r,error:l="Failed to load PDF file.",externalLinkRel:c,externalLinkTarget:u,file:f,inputRef:p,imageResourcesPath:m,loading:y="Loading PDF",noData:b="No PDF file specified.",onItemClick:S,onLoadError:E,onLoadProgress:x,onLoadSuccess:_,onPassword:T=jx,onSourceError:O,onSourceSuccess:N,options:j,renderMode:M,rotate:F,scale:H}=t,$=Tm(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[W,J]=ha(),{value:Z,error:at}=W,[yt,ct]=ha(),{value:lt,error:L}=yt,B=G.useRef(new Ex),tt=G.useRef([]),mt=G.useRef(void 0),R=G.useRef(void 0);f&&f!==mt.current&&Cm(f)&&(ke(!la(f,mt.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),mt.current=f),j&&j!==R.current&&(ke(!la(j,R.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),R.current=j);const q=G.useRef({scrollPageIntoView:Lt=>{const{dest:ne,pageNumber:Xt,pageIndex:fe=Xt-1}=Lt;if(S){S({dest:ne,pageIndex:fe,pageNumber:Xt});return}const ii=tt.current[fe];if(ii){ii.scrollIntoView();return}ke(!1,`An internal link leading to page ${Xt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});G.useImperativeHandle(s,()=>({linkService:B,pages:tt,viewer:q}),[]);function Q(){N&&N()}function K(){at&&(ke(!1,at.toString()),O&&O(at))}function st(){J({type:"RESET"})}G.useEffect(st,[f,J]);const pt=G.useCallback(async()=>{if(!f)return null;if(typeof f=="string")return mh(f)?{data:wm(f)}:(_m(),{url:f});if(f instanceof Ox)return{range:f};if(Tx(f))return{data:f};if(wo&&Cx(f))return{data:await Dx(f)};if(Ft(typeof f=="object"),Ft(Cm(f)),"url"in f&&typeof f.url=="string"){if(mh(f.url)){const{url:Lt}=f,ne=Tm(f,["url"]),Xt=wm(Lt);return Object.assign({data:Xt},ne)}_m()}return f},[f]);G.useEffect(()=>{const Lt=Ur(pt());return Lt.promise.then(ne=>{J({type:"RESOLVE",value:ne})}).catch(ne=>{J({type:"REJECT",error:ne})}),()=>{on(Lt)}},[pt,J]),G.useEffect(()=>{if(!(typeof Z>"u")){if(Z===!1){K();return}Q()}},[Z]);function nt(){lt&&(_&&_(lt),tt.current=new Array(lt.numPages),B.current.setDocument(lt))}function At(){L&&(ke(!1,L.toString()),E&&E(L))}G.useEffect(function(){ct({type:"RESET"})},[ct,Z]),G.useEffect(function(){if(!Z)return;const ne=j?Object.assign(Object.assign({},Z),j):Z,Xt=jh(ne);x&&(Xt.onProgress=x),T&&(Xt.onPassword=T);const fe=Xt,ii=fe.promise.then(ni=>{ct({type:"RESOLVE",value:ni})}).catch(ni=>{fe.destroyed||ct({type:"REJECT",error:ni})});return()=>{ii.finally(()=>fe.destroy())}},[j,ct,Z]),G.useEffect(()=>{if(!(typeof lt>"u")){if(lt===!1){At();return}nt()}},[lt]),G.useEffect(function(){B.current.setViewer(q.current),B.current.setExternalLinkRel(c),B.current.setExternalLinkTarget(u)},[c,u]);const Nt=G.useCallback((Lt,ne)=>{tt.current[Lt]=ne},[]),he=G.useCallback(Lt=>{delete tt.current[Lt]},[]),Pt=G.useMemo(()=>({imageResourcesPath:m,linkService:B.current,onItemClick:S,pdf:lt,registerPage:Nt,renderMode:M,rotate:F,scale:H,unregisterPage:he}),[m,S,lt,Nt,M,F,H,he]),Be=G.useMemo(()=>Tv($,()=>lt),[$,lt]);function $e(){return v.jsx(Nv.Provider,{value:Pt,children:n})}function de(){return f?lt==null?v.jsx(oa,{type:"loading",children:typeof y=="function"?y():y}):lt===!1?v.jsx(oa,{type:"error",children:typeof l=="function"?l():l}):$e():v.jsx(oa,{type:"no-data",children:typeof b=="function"?b():b})}return v.jsx("div",Object.assign({className:Eo("react-pdf__Document",r),ref:p},Be,{children:de()}))});function Dv(){return G.useContext(Nv)}function Lv(){for(var h=[],t=0;t<arguments.length;t++)h[t]=arguments[t];var s=h.filter(Boolean);if(s.length<=1){var n=s[0];return n||null}return function(l){for(var c=0,u=s;c<u.length;c++){var f=u[c];typeof f=="function"?f(l):f&&(f.current=l)}}}const Ov=G.createContext(null),jv={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Px=/^H(\d+)$/;function Ix(h){return h in jv}function _o(h){return"children"in h}function kv(h){return _o(h)?h.children.length===1&&0 in h.children&&"id"in h.children[0]:!1}function zx(h){const t={};if(_o(h)){const{role:s}=h,n=s.match(Px);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(Ix(s)){const r=jv[s];r&&(t.role=r)}}return t}function Pv(h){const t={};if(_o(h)){if(h.alt!==void 0&&(t["aria-label"]=h.alt),h.lang!==void 0&&(t.lang=h.lang),kv(h)){const[s]=h.children;if(s){const n=Pv(s);return Object.assign(Object.assign({},t),n)}}}else"id"in h&&(t["aria-owns"]=h.id);return t}function Bx(h){return h?Object.assign(Object.assign({},zx(h)),Pv(h)):null}function Iv({className:h,node:t}){const s=G.useMemo(()=>Bx(t),[t]),n=G.useMemo(()=>!_o(t)||kv(t)?null:t.children.map((r,l)=>v.jsx(Iv,{node:r},l)),[t]);return v.jsx("span",Object.assign({className:h},s,{children:n}))}function To(){return G.useContext(Ov)}function Ux(){const h=To();Ft(h);const{onGetStructTreeError:t,onGetStructTreeSuccess:s}=h,[n,r]=ha(),{value:l,error:c}=n,{customTextRenderer:u,page:f}=h;function p(){l&&s&&s(l)}function m(){c&&(ke(!1,c.toString()),t&&t(c))}return G.useEffect(function(){r({type:"RESET"})},[r,f]),G.useEffect(function(){if(u||!f)return;const b=Ur(f.getStructTree()),S=b;return b.promise.then(E=>{r({type:"RESOLVE",value:E})}).catch(E=>{r({type:"REJECT",error:E})}),()=>on(S)},[u,f,r]),G.useEffect(()=>{if(l!==void 0){if(l===!1){m();return}p()}},[l]),l?v.jsx(Iv,{className:"react-pdf__Page__structTree structTree",node:l}):null}const Nm=Ps;function Hx(h){const t=To();Ft(t);const s=Object.assign(Object.assign({},t),h),{_className:n,canvasBackground:r,devicePixelRatio:l=Nx(),onRenderError:c,onRenderSuccess:u,page:f,renderForms:p,renderTextLayer:m,rotate:y,scale:b}=s,{canvasRef:S}=h;Ft(f);const E=G.useRef(null);function x(){f&&u&&u(vh(f,b))}function _(j){Mx(j)||(ke(!1,j.toString()),c&&c(j))}const T=G.useMemo(()=>f.getViewport({scale:b*l,rotation:y}),[l,f,y,b]),O=G.useMemo(()=>f.getViewport({scale:b,rotation:y}),[f,y,b]);G.useEffect(function(){if(!f)return;f.cleanup();const{current:M}=E;if(!M)return;M.width=T.width,M.height=T.height,M.style.width=`${Math.floor(O.width)}px`,M.style.height=`${Math.floor(O.height)}px`,M.style.visibility="hidden";const F={annotationMode:p?Nm.ENABLE_FORMS:Nm.ENABLE,canvasContext:M.getContext("2d",{alpha:!1}),viewport:T};r&&(F.background=r);const H=f.render(F),$=H;return H.promise.then(()=>{M.style.visibility="",x()}).catch(_),()=>on($)},[r,f,p,T,O]);const N=G.useCallback(()=>{const{current:j}=E;j&&(j.width=0,j.height=0)},[]);return G.useEffect(()=>N,[N]),v.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Lv(S,E),style:{display:"block",userSelect:"none"},children:m?v.jsx(Ux,{}):null})}function Fx(h){return"str"in h}function Gx(){const h=To();Ft(h);const{customTextRenderer:t,onGetTextError:s,onGetTextSuccess:n,onRenderTextLayerError:r,onRenderTextLayerSuccess:l,page:c,pageIndex:u,pageNumber:f,rotate:p,scale:m}=h;Ft(c);const[y,b]=ha(),{value:S,error:E}=y,x=G.useRef(null);ke(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _(){S&&n&&n(S)}function T(){E&&(ke(!1,E.toString()),s&&s(E))}G.useEffect(function(){b({type:"RESET"})},[c,b]),G.useEffect(function(){if(!c)return;const $=Ur(c.getTextContent()),W=$;return $.promise.then(J=>{b({type:"RESOLVE",value:J})}).catch(J=>{b({type:"REJECT",error:J})}),()=>on(W)},[c,b]),G.useEffect(()=>{if(S!==void 0){if(S===!1){T();return}_()}},[S]);const O=G.useCallback(()=>{l&&l()},[l]),N=G.useCallback(H=>{ke(!1,H.toString()),r&&r(H)},[r]);function j(){const H=x.current;H&&H.classList.add("selecting")}function M(){const H=x.current;H&&H.classList.remove("selecting")}const F=G.useMemo(()=>c.getViewport({scale:m,rotation:p}),[c,p,m]);return G.useLayoutEffect(function(){if(!c||!S)return;const{current:$}=x;if(!$)return;$.innerHTML="";const W=c.streamTextContent({includeMarkedContent:!0}),J={container:$,textContentSource:W,viewport:F},Z=new _r(J),at=Z;return Z.render().then(()=>{const yt=document.createElement("div");yt.className="endOfContent",$.append(yt);const ct=$.querySelectorAll('[role="presentation"]');if(t){let lt=0;S.items.forEach((L,B)=>{if(!Fx(L))return;const tt=ct[lt];if(!tt)return;const mt=t(Object.assign({pageIndex:u,pageNumber:f,itemIndex:B},L));tt.innerHTML=mt,lt+=L.str&&L.hasEOL?2:1})}O()}).catch(N),()=>on(at)},[t,N,O,c,u,f,S,F]),v.jsx("div",{className:Eo("react-pdf__Page__textContent","textLayer"),onMouseUp:M,onMouseDown:j,ref:x})}function Vx(){const h=Dv(),t=To();Ft(t);const s=Object.assign(Object.assign({},h),t),{imageResourcesPath:n,linkService:r,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:f,page:p,pdf:m,renderForms:y,rotate:b,scale:S=1}=s;Ft(m),Ft(p),Ft(r);const[E,x]=ha(),{value:_,error:T}=E,O=G.useRef(null);ke(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){_&&c&&c(_)}function j(){T&&(ke(!1,T.toString()),l&&l(T))}G.useEffect(function(){x({type:"RESET"})},[x,p]),G.useEffect(function(){if(!p)return;const W=Ur(p.getAnnotations()),J=W;return W.promise.then(Z=>{x({type:"RESOLVE",value:Z})}).catch(Z=>{x({type:"REJECT",error:Z})}),()=>{on(J)}},[x,p]),G.useEffect(()=>{if(_!==void 0){if(_===!1){j();return}N()}},[_]);function M(){f&&f()}function F($){ke(!1,`${$}`),u&&u($)}const H=G.useMemo(()=>p.getViewport({scale:S,rotation:b}),[p,b,S]);return G.useEffect(function(){if(!m||!p||!r||!_)return;const{current:W}=O;if(!W)return;const J=H.clone({dontFlip:!0}),Z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:W,l10n:null,page:p,structTreeLayer:null,viewport:J},at={annotations:_,annotationStorage:m.annotationStorage,div:W,imageResourcesPath:n,linkService:r,page:p,renderForms:y,viewport:J};W.innerHTML="";try{new Bh(Z).render(at),M()}catch(yt){F(yt)}return()=>{}},[_,n,r,p,m,y,H]),v.jsx("div",{className:Eo("react-pdf__Page__annotations","annotationLayer"),ref:O})}var qx=function(h,t){var s={};for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.indexOf(n)<0&&(s[n]=h[n]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(h);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(h,n[r])&&(s[n[r]]=h[n[r]]);return s};const Rm=1;function Yx(h){const t=Dv(),s=Object.assign(Object.assign({},t),h),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:l,canvasRef:c,children:u,className:f,customRenderer:p,customTextRenderer:m,devicePixelRatio:y,error:b="Failed to load the page.",height:S,inputRef:E,loading:x="Loading page",noData:_="No page specified.",onGetAnnotationsError:T,onGetAnnotationsSuccess:O,onGetStructTreeError:N,onGetStructTreeSuccess:j,onGetTextError:M,onGetTextSuccess:F,onLoadError:H,onLoadSuccess:$,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:J,onRenderError:Z,onRenderSuccess:at,onRenderTextLayerError:yt,onRenderTextLayerSuccess:ct,pageIndex:lt,pageNumber:L,pdf:B,registerPage:tt,renderAnnotationLayer:mt=!0,renderForms:R=!1,renderMode:q="canvas",renderTextLayer:Q=!0,rotate:K,scale:st=Rm,unregisterPage:pt,width:nt}=s,At=qx(s,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Nt,he]=ha(),{value:Pt,error:Be}=Nt,$e=G.useRef(null);Ft(B);const de=Zi(L)?L-1:lt??null,Lt=L??(Zi(lt)?lt+1:null),ne=K??(Pt?Pt.rotate:null),Xt=G.useMemo(()=>{if(!Pt)return null;let ae=1;const Ke=st??Rm;if(nt||S){const ve=Pt.getViewport({scale:1,rotation:ne});nt?ae=nt/ve.width:S&&(ae=S/ve.height)}return Ke*ae},[S,Pt,ne,st,nt]);G.useEffect(function(){return()=>{Zi(de)&&r&&pt&&pt(de)}},[r,B,de,pt]);function fe(){if($){if(!Pt||!Xt)return;$(vh(Pt,Xt))}if(r&&tt){if(!Zi(de)||!$e.current)return;tt(de,$e.current)}}function ii(){Be&&(ke(!1,Be.toString()),H&&H(Be))}G.useEffect(function(){he({type:"RESET"})},[he,B,de]),G.useEffect(function(){if(!B||!Lt)return;const Ke=Ur(B.getPage(Lt)),ve=Ke;return Ke.promise.then(fa=>{he({type:"RESOLVE",value:fa})}).catch(fa=>{he({type:"REJECT",error:fa})}),()=>on(ve)},[he,B,Lt]),G.useEffect(()=>{if(Pt!==void 0){if(Pt===!1){ii();return}fe()}},[Pt,Xt]);const ni=G.useMemo(()=>Pt&&Zi(de)&&Lt&&Zi(ne)&&Zi(Xt)?{_className:n,canvasBackground:l,customTextRenderer:m,devicePixelRatio:y,onGetAnnotationsError:T,onGetAnnotationsSuccess:O,onGetStructTreeError:N,onGetStructTreeSuccess:j,onGetTextError:M,onGetTextSuccess:F,onRenderAnnotationLayerError:W,onRenderAnnotationLayerSuccess:J,onRenderError:Z,onRenderSuccess:at,onRenderTextLayerError:yt,onRenderTextLayerSuccess:ct,page:Pt,pageIndex:de,pageNumber:Lt,renderForms:R,renderTextLayer:Q,rotate:ne,scale:Xt}:null,[n,l,m,y,T,O,N,j,M,F,W,J,Z,at,yt,ct,Pt,de,Lt,R,Q,ne,Xt]),Hr=G.useMemo(()=>Tv(At,()=>Pt&&(Xt?vh(Pt,Xt):void 0)),[At,Pt,Xt]),Is=`${de}@${Xt}/${ne}`;function Co(){switch(q){case"custom":return Ft(p),v.jsx(p,{},`${Is}_custom`);case"none":return null;case"canvas":default:return v.jsx(Hx,{canvasRef:c},`${Is}_canvas`)}}function Fr(){return Q?v.jsx(Gx,{},`${Is}_text`):null}function No(){return mt?v.jsx(Vx,{},`${Is}_annotations`):null}function Ro(){return v.jsxs(Ov.Provider,{value:ni,children:[Co(),Fr(),No(),u]})}function Oi(){return Lt?B===null||Pt===void 0||Pt===null?v.jsx(oa,{type:"loading",children:typeof x=="function"?x():x}):B===!1||Pt===!1?v.jsx(oa,{type:"error",children:typeof b=="function"?b():b}):Ro():v.jsx(oa,{type:"no-data",children:typeof _=="function"?_():_})}return v.jsx("div",Object.assign({className:Eo(n,f),"data-page-number":Lt,ref:Lv(E,$e),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Xt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Hr,{children:Oi()}))}Rx();an.workerSrc="pdf.worker.mjs";const Xx=()=>{const[h,t]=G.useState(null),[s,n]=G.useState(1);function r({numPages:l}){t(l),n(1)}return v.jsxs("div",{className:"about-page",children:[v.jsx(Mr,{page:"about"}),v.jsxs("div",{className:"page-header",children:[v.jsx("h1",{className:"page-title",children:"About Me"}),v.jsx("p",{className:"page-subtitle",children:"Get to know me better"})]}),v.jsxs("div",{className:"about-content",children:[v.jsx("div",{className:"about-intro",children:v.jsx(kt,{variant:"spacious",className:"intro-card",children:v.jsxs("div",{className:"intro-content",children:[v.jsxs("div",{className:"intro-text",children:[v.jsxs("h2",{children:["Hello! I'm ",Ne.name.split(" ")[0]]}),v.jsxs("p",{children:["I'm a ",Ne.title.toLowerCase()," with a passion for reverse engineering, kernel development, and automation. Currently pursuing a double major in Computer Science and Economics at the University of Wisconsin-Madison, I specialize in building low-level systems and AI-powered solutions."]}),v.jsx("p",{children:"My expertise spans from Windows kernel driver development to full-stack applications, with a particular focus on security, computer vision, and process injection techniques. I love tackling complex technical challenges and creating innovative solutions."})]}),v.jsxs("div",{className:"intro-stats",children:[v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-number",children:"5+"}),v.jsx("span",{className:"stat-label",children:"Years Experience"})]}),v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-number",children:"50+"}),v.jsx("span",{className:"stat-label",children:"Projects Completed"})]}),v.jsxs("div",{className:"stat",children:[v.jsx("span",{className:"stat-number",children:"100%"}),v.jsx("span",{className:"stat-label",children:"Pretty Awesome"})]})]})]})})}),v.jsxs("div",{className:"about-sections",children:[v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"Resume"}),v.jsxs("div",{className:"resume-section",children:[v.jsx("div",{className:"resume-actions",children:v.jsxs(kt,{className:"actions-card",children:[v.jsx("h4",{children:"Justin Angara's Resume"}),v.jsx("p",{children:"View my complete professional experience, skills, and achievements."}),v.jsxs("div",{className:"action-buttons",children:[v.jsx(je,{variant:"primary",size:"large",onClick:()=>window.open("/T_JUSTIN_ANGARA.pdf","_blank"),children:"Download PDF"}),v.jsx(je,{variant:"outline",size:"large",onClick:()=>window.open(`mailto:${Ne.email}?subject=Resume Request`,"_blank"),children:"Request Copy"})]})]})}),v.jsx("div",{className:"pdf-viewer-container",children:v.jsxs(kt,{className:"pdf-card",children:[v.jsxs("div",{className:"pdf-header",children:[v.jsx("h4",{children:"Resume Preview"}),v.jsx("p",{children:"View your resume directly in the browser"})]}),v.jsxs("div",{className:"pdf-viewer",children:[v.jsx(kx,{file:"/T_JUSTIN_ANGARA.pdf",onLoadSuccess:r,onLoadError:l=>console.error("PDF load error:",l),loading:v.jsx("div",{children:"Loading PDF..."}),error:v.jsxs("div",{children:["Could not load PDF. ",v.jsx("a",{href:"/T_JUSTIN_ANGARA.pdf",target:"_blank",rel:"noopener noreferrer",children:"Download PDF"})]}),children:v.jsx(Yx,{pageNumber:s,width:600})}),h&&v.jsxs("div",{className:"pdf-pagination",children:[v.jsx(je,{variant:"outline",size:"small",onClick:()=>n(l=>Math.max(l-1,1)),disabled:s<=1,children:"Previous"}),v.jsxs("span",{style:{margin:"0 8px"},children:["Page ",s," of ",h]}),v.jsx(je,{variant:"outline",size:"small",onClick:()=>n(l=>Math.min(l+1,h)),disabled:s>=h,children:"Next"})]})]})]})})]})]}),v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"Work Experience"}),v.jsx("div",{className:"timeline",children:fA.map((l,c)=>v.jsxs("div",{className:"timeline-item",children:[v.jsx("div",{className:"timeline-marker"}),v.jsxs("div",{className:"timeline-content",children:[v.jsx("h4",{children:l.period}),v.jsx("h5",{children:l.title}),v.jsxs("p",{className:"company-info",children:[l.company,"  ",l.location]}),v.jsx("ul",{className:"job-highlights",children:l.highlights.map((u,f)=>v.jsx("li",{children:u},f))})]})]},c))})]}),v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"Education"}),v.jsxs("div",{className:"education-grid",children:[v.jsxs(kt,{className:"education-card",children:[v.jsx("div",{className:"education-icon",children:""}),v.jsx("h4",{children:Jn.university}),v.jsx("p",{className:"degree",children:Jn.degree}),v.jsxs("p",{className:"graduation",children:["Expected: ",Jn.graduation]}),v.jsx("ul",{className:"education-highlights",children:Jn.highlights.map((l,c)=>v.jsx("li",{children:l},c))})]}),v.jsxs(kt,{className:"education-card",children:[v.jsx("div",{className:"education-icon",children:""}),v.jsx("h4",{children:Jn.bootcamp.name}),v.jsx("p",{className:"degree",children:"Software Engineering Bootcamp"}),v.jsxs("p",{className:"graduation",children:["Status: ",Jn.bootcamp.status]})]})]})]}),v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"What I Do"}),v.jsxs("div",{className:"services-grid",children:[v.jsxs(kt,{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h4",{children:"Kernel Development"}),v.jsx("p",{children:"Windows kernel drivers, memory protection systems, and low-level system programming."})]}),v.jsxs(kt,{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h4",{children:"Reverse Engineering"}),v.jsx("p",{children:"Analyzing systems, process injection techniques, and security vulnerability research."})]}),v.jsxs(kt,{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h4",{children:"AI & Automation"}),v.jsx("p",{children:"GPT-powered scripts, computer vision applications, and intelligent automation tools."})]}),v.jsxs(kt,{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h4",{children:"Full-Stack Development"}),v.jsx("p",{children:"React applications, Flask backends, and RESTful APIs with modern web technologies."})]}),v.jsxs(kt,{className:"service-card",children:[v.jsx("div",{className:"service-icon",children:""}),v.jsx("h4",{children:"Teaching & Mentoring"}),v.jsx("p",{children:"Computer science education, code review, and mentoring students in programming concepts."})]})]})]}),v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"My Values"}),v.jsxs("div",{className:"values-grid",children:[v.jsxs(kt,{className:"value-card",children:[v.jsx("h4",{children:"Technical Excellence"}),v.jsx("p",{children:"I strive for the highest quality in every line of code, from kernel drivers to web applications."})]}),v.jsxs(kt,{className:"value-card",children:[v.jsx("h4",{children:"Security-First"}),v.jsx("p",{children:"Understanding system vulnerabilities and building secure, robust solutions is my priority."})]}),v.jsxs(kt,{className:"value-card",children:[v.jsx("h4",{children:"Continuous Learning"}),v.jsx("p",{children:"Always exploring new technologies, from low-level systems to cutting-edge AI applications."})]}),v.jsxs(kt,{className:"value-card",children:[v.jsx("h4",{children:"Innovation"}),v.jsx("p",{children:"Pushing boundaries and creating solutions that solve real-world problems in unique ways."})]}),v.jsxs(kt,{className:"value-card",children:[v.jsx("h4",{children:"Knowledge Sharing"}),v.jsx("p",{children:"Passionate about teaching and mentoring others in computer science and programming concepts."})]})]})]})]})]})]})},$x=()=>{const h=[{id:1,title:"Kernel-level Windows Game State Analysis & Memory Protection System",description:"A sophisticated Windows kernel driver that intercepts memory operations across 10+ games with <0ms latency. Features advanced memory virtualization layer for security testing and scans 10,000+ memory structures to detect overflows and corruption vectors.",technologies:["C/C++","Ring-0 Programming","Windows Kernel Development","SSDT Hooking"],image:"",liveUrl:"https://github.com/JustinAngara/Kernel-based-Windows-State-System",githubUrl:"https://github.com/JustinAngara/Kernel-based-Windows-State-System",featured:!0,category:"Kernel Development"},{id:2,title:"Full-stack & Low-level Anti-Cheat for Online Exams",description:"Comprehensive anti-cheat system with defensive and offensive testing capabilities. Monitors 100+ processes for injection techniques and implements 15+ evasion methods achieving 96% detection rate. Features React frontend with WebSocket monitoring.",technologies:["Java","C","React TS","Springboot","OpenAI Integration","Reverse Engineering"],image:"",liveUrl:"https://www.youtube.com/shorts/G9aQb5mFjbo",githubUrl:"https://github.com/JustinAngara/Whitehat-Hacking-Honorlock",featured:!0,category:"Security"},{id:3,title:"Personal Portfolio Website",description:"A modern, responsive portfolio website built with React and Vite. Features smooth animations, vertical scrolling design, and cartoonish artwork inspired by HackIllinois.",technologies:["React","Vite","CSS3","JavaScript","React Router"],image:"",liveUrl:Ne.website,githubUrl:Ne.github,featured:!1,category:"Web Apps"},{id:4,title:"Telecom Data Tools & AI/GPT Integration",description:"Python-based tools for parsing, cleaning, and transforming network configuration files in XML. Analyzes telecom parameters for 1000+ IDs and creates GPT-powered scripts for technical configuration explanations.",technologies:["Python","XML Processing","OpenAI/GPT","Data Visualization","Telecom Systems"],image:"",liveUrl:"#",githubUrl:"#",featured:!1,category:"AI/ML"},{id:5,title:"AR/CV Vehicle Condition Detection System",description:"Research project using AR/Computer Vision stacks (OpenCV & Unity) for vehicle condition detection in rental workflows. Built AI-assisted AR check-in flow demos and conducted user interviews for validation.",technologies:["OpenCV","Unity","AR Development","Computer Vision","User Research"],image:"",liveUrl:"#",githubUrl:"#",featured:!1,category:"AI/ML"},{id:6,title:"Flask WebSocket Applications with AI Integration",description:"Modular Flask applications with HTML/Jinja, JavaScript, and WebSockets that integrate OpenAI tools. Includes authentication systems and SQLAlchemy database integration.",technologies:["Flask","WebSockets","OpenAI","SQLAlchemy","JavaScript","HTML/Jinja"],image:"",liveUrl:"#",githubUrl:"#",featured:!1,category:"Full-Stack"}];return v.jsxs("div",{className:"projects-page",children:[v.jsx(Mr,{page:"projects"}),v.jsxs("div",{className:"page-header",children:[v.jsx("h1",{className:"page-title",children:"My Projects"}),v.jsx("p",{className:"page-subtitle",children:"Showcasing my latest work in kernel development, security, and AI integration"})]}),v.jsxs("div",{className:"projects-content",children:[v.jsx("div",{className:"projects-intro",children:v.jsxs(kt,{variant:"spacious",className:"intro-card",children:[v.jsx("h2",{children:"Featured Projects"}),v.jsx("p",{children:"Here are some of my recent projects that demonstrate my expertise in kernel development, reverse engineering, security systems, and AI integration. Each project showcases different aspects of my technical skills and problem-solving approach."})]})}),v.jsx("div",{className:"projects-grid",children:h.map(t=>v.jsxs(kt,{className:`project-card ${t.featured?"featured":""}`,children:[v.jsx("div",{className:"project-image",children:v.jsx("span",{className:"project-emoji",children:t.image})}),v.jsxs("div",{className:"project-content",children:[v.jsxs("div",{className:"project-header",children:[v.jsx("h3",{className:"project-title",children:t.title}),v.jsx("span",{className:"project-category",children:t.category})]}),v.jsx("p",{className:"project-description",children:t.description}),v.jsx("div",{className:"project-technologies",children:t.technologies.map((s,n)=>v.jsx("span",{className:"tech-tag",children:s},n))}),v.jsxs("div",{className:"project-links",children:[v.jsx(je,{variant:"primary",size:"small",onClick:()=>window.open(t.liveUrl,"_blank"),children:t.liveUrl.includes("youtube")?"Watch Demo":"Live Demo"}),v.jsx(je,{variant:"outline",size:"small",onClick:()=>window.open(t.githubUrl,"_blank"),children:"View Code"})]})]})]},t.id))}),v.jsx("div",{className:"projects-cta",children:v.jsxs(kt,{className:"cta-card",children:[v.jsx("h3",{children:"Interested in working together?"}),v.jsx("p",{children:"Let's discuss your next project in kernel development, security, or AI integration!"}),v.jsx(je,{variant:"primary",size:"large",onClick:()=>window.open(`mailto:${Ne.email}`,"_blank"),children:"Get In Touch"})]})})]})]})},Kx=()=>v.jsxs("div",{className:"skills-page",children:[v.jsx(Mr,{page:"skills"}),v.jsxs("div",{className:"page-header",children:[v.jsx("h1",{className:"page-title",children:"Skills & Expertise"}),v.jsx("p",{className:"page-subtitle",children:"My technical skills and areas of specialization"})]}),v.jsxs("div",{className:"skills-content",children:[v.jsx("div",{className:"skills-intro",children:v.jsxs(kt,{variant:"spacious",className:"intro-card",children:[v.jsx("h2",{children:"Technical Proficiency"}),v.jsx("p",{children:"My skills span from low-level kernel development to modern web technologies, with a strong focus on security, reverse engineering, and AI integration. I'm constantly expanding my knowledge in emerging technologies and techniques."})]})}),v.jsxs("div",{className:"skills-sections",children:[v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"Programming Languages"}),v.jsx("div",{className:"skills-grid",children:aa.languages.map((h,t)=>v.jsxs(kt,{className:"skill-card",children:[v.jsxs("div",{className:"skill-icon",children:[h==="C/C++"&&"",h==="Java"&&"",h==="JavaScript/TypeScript"&&"",h==="Python"&&""]}),v.jsx("h4",{children:h}),v.jsx("div",{className:"skill-level",children:v.jsx("div",{className:"skill-bar",children:v.jsx("div",{className:"skill-fill",style:{width:"90%"}})})})]},t))})]}),v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"Technologies & Frameworks"}),v.jsx("div",{className:"skills-grid",children:aa.technologies.map((h,t)=>v.jsxs(kt,{className:"skill-card",children:[v.jsxs("div",{className:"skill-icon",children:[h==="AWS"&&"",h==="ReactJS"&&"",h==="Springboot"&&"",h==="Flask"&&"",h==="MongoDB"&&"",h==="MySQL"&&"",h==="RESTful API"&&"",h==="WebSocket"&&"",h==="OpenCV"&&"",h==="Unity"&&"",h==="OpenAI/GPT"&&""]}),v.jsx("h4",{children:h}),v.jsx("div",{className:"skill-level",children:v.jsx("div",{className:"skill-bar",children:v.jsx("div",{className:"skill-fill",style:{width:"85%"}})})})]},t))})]}),v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"Concepts & Expertise"}),v.jsx("div",{className:"skills-grid",children:aa.concepts.map((h,t)=>v.jsxs(kt,{className:"skill-card",children:[v.jsxs("div",{className:"skill-icon",children:[h==="Database Theory & Security"&&"",h==="Git"&&"",h==="Image Processing"&&"",h==="Computer Vision"&&"",h==="Process Injection"&&"",h==="Kernel Development"&&"",h==="Reverse Engineering"&&"",h==="Automation"&&"",h==="AR/VR Development"&&""]}),v.jsx("h4",{children:h}),v.jsx("div",{className:"skill-level",children:v.jsx("div",{className:"skill-bar",children:v.jsx("div",{className:"skill-fill",style:{width:"88%"}})})})]},t))})]}),v.jsxs("div",{className:"section",children:[v.jsx("h3",{children:"Areas of Specialization"}),v.jsxs("div",{className:"specialization-grid",children:[v.jsxs(kt,{className:"specialization-card",children:[v.jsx("div",{className:"specialization-icon",children:""}),v.jsx("h4",{children:"Kernel Development"}),v.jsx("p",{children:"Windows kernel drivers, memory protection systems, SSDT hooking, and low-level system programming with expertise in Ring-0 operations."})]}),v.jsxs(kt,{className:"specialization-card",children:[v.jsx("div",{className:"specialization-icon",children:""}),v.jsx("h4",{children:"Reverse Engineering"}),v.jsx("p",{children:"System analysis, process injection techniques, memory manipulation, and security vulnerability research with hands-on experience in anti-cheat systems."})]}),v.jsxs(kt,{className:"specialization-card",children:[v.jsx("div",{className:"specialization-icon",children:""}),v.jsx("h4",{children:"Full-Stack Development"}),v.jsx("p",{children:"Modern web applications using React, Flask backends, RESTful APIs, WebSockets, and database integration with security best practices."})]})]})]})]})]})]}),Wx=()=>{const[h,t]=G.useState({name:"",email:"",subject:"",message:""}),s=r=>{t({...h,[r.target.name]:r.target.value})},n=r=>{r.preventDefault();const l=`mailto:${Ni.email}?subject=${encodeURIComponent(h.subject)}&body=${encodeURIComponent(`Name: ${h.name}
Email: ${h.email}

Message:
${h.message}`)}`;window.open(l,"_blank")};return v.jsxs("div",{className:"contact-page",children:[v.jsx(Mr,{page:"contact"}),v.jsxs("div",{className:"page-header",children:[v.jsx("h1",{className:"page-title",children:"Get In Touch"}),v.jsx("p",{className:"page-subtitle",children:"Let's discuss your next project in kernel development, security, or AI integration"})]}),v.jsxs("div",{className:"contact-content",children:[v.jsxs("div",{className:"contact-grid",children:[v.jsxs("div",{className:"contact-info-section",children:[v.jsxs(kt,{variant:"spacious",className:"info-card",children:[v.jsx("h2",{children:"Contact Information"}),v.jsxs("div",{className:"contact-details",children:[v.jsxs("div",{className:"contact-item",children:[v.jsx("div",{className:"contact-icon",children:""}),v.jsxs("div",{className:"contact-text",children:[v.jsx("h4",{children:"Email"}),v.jsx("a",{href:`mailto:${Ni.email}`,children:Ni.email})]})]}),v.jsxs("div",{className:"contact-item",children:[v.jsx("div",{className:"contact-icon",children:""}),v.jsxs("div",{className:"contact-text",children:[v.jsx("h4",{children:"Phone"}),v.jsx("a",{href:`tel:${Ni.phone}`,children:Ni.phone})]})]}),v.jsxs("div",{className:"contact-item",children:[v.jsx("div",{className:"contact-icon",children:""}),v.jsxs("div",{className:"contact-text",children:[v.jsx("h4",{children:"Location"}),v.jsx("p",{children:Ni.location})]})]}),v.jsxs("div",{className:"contact-item",children:[v.jsx("div",{className:"contact-icon",children:""}),v.jsxs("div",{className:"contact-text",children:[v.jsx("h4",{children:"Availability"}),v.jsx("p",{children:Ni.availability})]})]})]})]}),v.jsxs(kt,{className:"social-card",children:[v.jsx("h3",{children:"Connect With Me"}),v.jsx("div",{className:"social-links",children:lh.map((r,l)=>v.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx("span",{className:"social-icon",children:r.icon}),v.jsx("span",{className:"social-name",children:r.name})]},l))})]})]}),v.jsx("div",{className:"contact-form-section",children:v.jsxs(kt,{variant:"spacious",className:"form-card",children:[v.jsx("h2",{children:"Send Me a Message"}),v.jsxs("form",{onSubmit:n,className:"contact-form",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"name",children:"Name"}),v.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:s,required:!0,placeholder:"Your name"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"email",children:"Email"}),v.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:s,required:!0,placeholder:"your.email@example.com"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"subject",children:"Subject"}),v.jsx("input",{type:"text",id:"subject",name:"subject",value:h.subject,onChange:s,required:!0,placeholder:"Project inquiry, collaboration, etc."})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"message",children:"Message"}),v.jsx("textarea",{id:"message",name:"message",value:h.message,onChange:s,required:!0,rows:"6",placeholder:"Tell me about your project, requirements, or any questions you have..."})]}),v.jsx(je,{type:"submit",variant:"primary",size:"large",className:"submit-btn",children:"Send Message"})]})]})})]}),v.jsx("div",{className:"contact-cta",children:v.jsxs(kt,{className:"cta-card",children:[v.jsx("h3",{children:"Ready to Start Your Project?"}),v.jsx("p",{children:"Whether you need kernel development expertise, security analysis, AI integration, or full-stack development, I'm here to help bring your ideas to life."}),v.jsxs("div",{className:"cta-buttons",children:[v.jsx(je,{variant:"primary",size:"large",onClick:()=>window.open(`mailto:${Ni.email}`,"_blank"),children:"Start a Conversation"}),v.jsx(je,{variant:"outline",size:"large",onClick:()=>window.open(lh[1].url,"_blank"),children:"Connect on LinkedIn"})]})]})})]})]})},Qx=()=>{const{pathname:h}=Rr();G.useEffect(()=>{window.scrollTo(0,0)},[h])};function Zx(){return v.jsx(cA,{children:v.jsxs("div",{className:"App",children:[v.jsx(Jx,{}),v.jsx(pA,{}),v.jsx("main",{className:"main-content",children:v.jsxs(sA,{children:[v.jsx(ta,{path:"/",element:v.jsx(mA,{})}),v.jsx(ta,{path:"/about",element:v.jsx(Xx,{})}),v.jsx(ta,{path:"/projects",element:v.jsx($x,{})}),v.jsx(ta,{path:"/skills",element:v.jsx(Kx,{})}),v.jsx(ta,{path:"/contact",element:v.jsx(Wx,{})})]})}),v.jsx(tE,{}),v.jsx(gA,{})]})})}const Jx=()=>(Qx(),null),tE=()=>{const[h,t]=G.useState(!1);G.useEffect(()=>{const n=()=>{t(window.scrollY>300)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return v.jsx(je,{variant:"primary",size:"large",className:`scroll-to-top-btn${h?" show":""}`,onClick:s,"aria-label":"Scroll to top",style:{position:"fixed",right:"2rem",bottom:"2rem",zIndex:1001,borderRadius:"50%",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",opacity:h?1:0,pointerEvents:h?"auto":"none",transition:"opacity 0.3s, transform 0.3s",transform:h?"scale(1)":"scale(0.8)"},children:""})};u0.createRoot(document.getElementById("root")).render(v.jsx(G.StrictMode,{children:v.jsx(Zx,{})}));
